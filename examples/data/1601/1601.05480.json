[{"file": "1601.05480.tex", "nexttext": "\nThen the problem can be reduced to the minimum total composition ordering problem \\(((f_i)_{i\\in [n]},c=t_0)\\). \nA number of restrictions on the processing time $p_i(t)$ has been studied in this literature (e.g., \\cite{cai1998oas,cheng2003sjw,melnikov1980ppo}). \n\n\n\nIn the {\\em linear deterioration} model, \nthe processing time $p_i$ is restricted to be \na monotone increasing linear function that satisfies \\(p_i(t)=a_i t+b_i\\) for two positive constants $a_i$ and $b_i$.\nHere \\(a_i\\) and \\(b_i\\) are respectively called\nthe {\\em deterioration rate} and the {\\em basic processing time}\nof job \\(J_i\\).\nGawiejnowicz and Pankowska \\cite{gawiejnowicz1995sjw},\nGupta and Gupta \\cite{gupta1988sfs},\n\nTanaev {\\it et al.} \\cite{tanaev1994sts},\nand Wajs \\cite{wajs1986paf}\nobtained the result that \nthe time-dependent scheduling problem of this model (without the ready time $r_i$ nor the deadline $d_i$)  is solvable in \\({\\mathrm{O}}(n\\log n)\\) time \nby scheduling jobs in the nonincreasing order of ratios \\(b_i/a_i\\).\n\n\n\n\n\n\n\n\n\n\n\nAs for the hardness results, it is known that \nthe proportional deterioration model with ready time and deadline, \nthe linear deterioration model with ready time, \nand the linear deterioration model with a deadline are all {} NP-hard \\cite{cheng1998tco,gawiejnowicz2007sdj}. \n\n\nAnother important model is called the {\\em linear shortening} model introduced by Ho {\\it et al.} \\cite{ho1993cos}.\nIn this model, the processing time $p_i$ is restricted to be a monotone decreasing linear function\nthat satisfies \\(p_i(t)=-a_i t+b_i\\) with two constants $a_i$ and $b_i$ with $1>a_i>0$, $b_i>0$.\n\n\n\nThey showed\nthat the time-dependent scheduling problem of this model can be solved in \\({\\mathrm{O}}(n\\log n)\\) time \nby again scheduling jobs in the nonincreasing order of the ratios \\(b_i/a_i\\).\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\\subsection*{Free-order secretary problem}\nThe {\\em free-order secretary problem} is another application of the optimal composition ordering problems, \nwhich is closely related to \na branch of the problems such as the full-information secretary problem \\cite{ferguson1989wst},\nknapsack and matroid secretary problems \\cite{babaioff2007aks,babaioff2007msp,gharan2011ovo}\nand stochastic knapsack problems \\cite{dean2005aaa,dean2008ats}. \nImagine that an administrator wants to hire the best secretary out of \\(n\\) applicants for a position.\nEach applicant \\(i\\) has a nonnegative independent random variable \\(X_i\\) as his ability for the secretary.\nHere \\(X_1,\\dots,X_n\\) are not necessarily based on the same probability distribution,\nand assume that the administrator knows all the probability distributions of $X_i$'s before their interviews, \nwhere such information can be obtained by their curriculum vitae and/or results of some written examinations. \nThe applicants are interviewed one-by-one, and \nthe administrator can observe the value \\(X_i\\) during the interview of the applicant $i$. \nA decision on each applicant is to be made immediately after the interview.\nOnce an applicant is rejected, he will never be hired.\nThe interview process is finished if some applicant is chosen, where we assume that \nthe last applicant is always chosen if he is interviewed\nsince the administrator has to hire exactly one candidate. \nThe objective is to find an optimal strategy for this interview process,\ni.e., to find an interview ordering together with the stopping rule that maximizes the expected value of the secretary hired.\n\nLet \\(f_i(x)=\\mathbf{E}[\\max\\{X_i,x\\}]\\).\nFor example, let us assume that \\(X_i\\) is an $m$-valued random variable \nthat takes the value \\(a_i^j\\) with probability \\(p_i^j \\geq 0\\) (\\(j=1,\\dots,m\\)).\nHere we assume that \\(a_i^1\\ge\\dots\\ge a_i^{m} \\ge 0\\) and  $\\sum_{j=1}^m p_i^j=1$. \nThen we have \n\n", "itemtype": "equation", "pos": 5983, "prevtext": "\n\\maketitle\n\n\\begin{abstract}\nIn this paper, we introduce maximum composition ordering problems.\nThe input is $n$ real functions $f_1,\\dots,f_n:\\mathbb{R}\\to\\mathbb{R}$\nand a constant $c\\in\\mathbb{R}$.\nWe consider two settings: total and partial compositions.\nThe maximum total composition ordering problem is to compute\na permutation $\\sigma:[n]\\to[n]$ which maximizes $f_{\\sigma(n)}\\circ f_{\\sigma(n-1)}\\circ\\dots\\circ f_{\\sigma(1)}(c)$, where $[n]=\\{1,\\dots,n\\}$.\nThe maximum partial composition ordering problem is to compute\na permutation $\\sigma:[n]\\to[n]$ and a nonnegative integer $k~(0\\le k\\le n)$\nwhich maximize $f_{\\sigma(k)}\\circ f_{\\sigma(k-1)}\\circ\\dots\\circ f_{\\sigma(1)}(c)$.\n\nWe propose ${\\mathrm{O}}(n\\log n)$ time algorithms for\nthe maximum total and partial composition ordering problems for monotone linear functions $f_i$, which generalize linear deterioration and shortening models for the time-dependent scheduling problem.\nWe also show that the maximum partial composition ordering problem can be solved in polynomial time if $f_i$ is of form\n$\\max\\{a_ix+b_i,c_i\\}$ for some constants $a_i\\,(\\ge 0)$, $b_i$ and $c_i$.\n\nWe finally prove that there exists no constant-factor approximation algorithm\nfor the problems, even if $f_i$'s are monotone, piecewise linear functions with at most two pieces,\nunless P=NP.\n\\end{abstract}\n\n\n\\section{Introduction}\nIn this paper, we introduce {\\em optimal composition ordering problems} and mainly study their time complexity.\nThe input of the problems is \\(n\\) real functions \\(f_1,\\dots,f_n:\\mathbb{R}\\to\\mathbb{R}\\)\nand a constant \\(c\\in\\mathbb{R}\\). \nIn this paper, we assume that the input functions are piecewise linear,\nand the input length of a piecewise linear function is \nthe sum of the sizes of junctions and coefficients of linear functions.\nWe consider two settings:  {\\em total} and {\\em partial} compositions.\nThe maximum total composition ordering problem is to compute \na permutation \\(\\sigma:[n]\\to[n]\\) that maximizes \\(f_{\\sigma(n)}\\circ f_{\\sigma(n-1)}\\circ\\dots\\circ f_{\\sigma(1)}(c)\\), \nwhere \\([n]=\\{1,\\dots,n\\}\\).\nThe maximum partial composition ordering problem is to compute\na permutation \\(\\sigma:[n]\\to[n]\\) and a nonnegative integer \\(k~(0\\le k\\le n)\\) that maximize \\(f_{\\sigma(k)}\\circ f_{\\sigma(k-1)}\\circ\\dots\\circ f_{\\sigma(1)}(c)\\).\nFor example, \nif the input consists of  $f_1(x)=2x-6$, $f_2(x)=\\frac{1}{2}x+2$, $f_3(x)=x+2$, and $c=2$,\nthen the ordering $\\sigma$ such that $\\sigma(1)=2$, $\\sigma(2)=3$, and $\\sigma(3)=1$ is optimal for the maximum total composition ordering problem. \nIn fact, $f_1\\circ f_3\\circ f_2(c)=f_1(f_3(f_2(c)))=f_1(f_3(c/2+2))=f_1(c/2+4)=c+2=4$ provides the optimal value of the problem. \nThe ordering $\\sigma$ above and $k=2$ is optimal for the maximum partial composition ordering problem, where $f_3\\circ f_2(c)=5$.\nWe remark that the minimization versions are equivalent to the maximization ones. \n\nWe also consider the maximum exact $k$-composition ordering problem,\nwhich is a problem to compute \na permutation \\(\\sigma:[n]\\to[n]\\) that maximizes \\(f_{\\sigma(k)}\\circ f_{\\sigma(k-1)}\\circ\\dots\\circ f_{\\sigma(1)}(c)\\) for given $n$ functions $f_1,\\dots,f_n:\\mathbb{R}\\to\\mathbb{R}$,\na constant \\(c\\in\\mathbb{R}\\), and a nonnegative integer \\(k~(0\\le k\\le n)\\).\n\nAs we will see in this paper, the optimal composition ordering problems are natural and fundamental in many fields such as artificial intelligence, computer science, and operations research. \nHowever, to the best of the authors' knowledge, no one explicitly studies the problems from the algorithmic point of view. \nWe below describe the single machine time-dependent scheduling problems \nand the free-order secretary problem, which can be formulated as the optimal composition ordering problems. \n\n\n\n\n\\subsection*{Time-dependent scheduling}\nConsider the machine scheduling problems with time-dependent processing times,\ncalled {\\em time-dependent scheduling problems} \\cite{cheng2004acs,gawiejnowicz2008tds}. \n\nLet  \\(J_i\\) \\((i=1,\\dots,n)\\)  denote  a job with\na ready time \\(r_i \\in \\mathbb{R}\\), a deadline \\(d_i \\in \\mathbb{R}\\), \nand a processing time \\(p_i:\\mathbb{R}\\to\\mathbb{R}\\), where $r_i \\leq d_i$ is assumed. \nDifferent from the classical setting,\nthe processing time \\(p_i\\) is \\emph{not} constant,\nbut depends on the \\emph{starting} time of job \\(J_i\\).\nThe model has been studied to deal with learning and deteriorating effects, \nfor example \\cite{gawiejnowicz1995sjw,gupta1988sfs,ho1993cos,tanaev1994sts,wajs1986paf}.\nHere each \\(p_i\\) is assumed to satisfy \\(p_i(t)\\le s+p_i(t+s)\\) for any \\(t\\) and \\(s\\ge 0\\),\nsince we should be able to finish processing job \\(J_i\\) earlier if it starts earlier.\n\nAmong time-dependent settings, we consider the single machine scheduling problem to minimize the makespan, \nwhere the input is  the start time \\(t_0~(=0)\\) and a set of   \\(J_i\\) \\((i=1,\\dots,n)\\) above. \nThe makespan denotes the time when all the jobs have finished processing, and \nwe assume that the machine can handle only one job at a time and preemption is not allowed.\nWe show  that the problem can be seen as the minimum total composition ordering problem. \n\n\nFor simplicity, let us first consider the simplest case, that is,  \neach job has neither the ready time \\(r_i\\) nor the deadline \\(d_i\\).\nLet \\(c=t_0\\), and \nfor each $i\\in[n]$, define the function $f_i$ by \\(f_i(t)=t+p_i(t)\\). \nNote that job \\(J_i\\) has been finished processing at time \\(f_i(t)\\)\nif it is started processing at time \\(t\\).\nThis implies that \\(f_{\\sigma(n)}\\circ f_{\\sigma(n-1)}\\circ\\dots\\circ f_{\\sigma(1)}(t_0)\\)\ndenotes the makespan of the scheduling problem \nwhen we fix the ordering \\(\\sigma\\) of the jobs.\nTherefore, the problem is represented as the minimum total composition ordering problem. \nMore generally, let us consider the case in which each job \\(J_i\\) also has \nboth the ready time \\(r_i\\) and the deadline \\(d_i\\)  with \\(d_i\\ge r_i\\).\nDefine the function $f_i$ by \n\n", "index": 1, "text": "\\begin{align*}\nf_i(t)=\n\\begin{cases}\nr_i+p_i(r_i) &(t\\le r_i),\\\\\nt+p_i(t)     &(r_i<t\\le d_i-p_i(t)),\\\\\n\\infty       &(t>d_i-p_i(t)).\n\\end{cases}\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex1.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{i}(t)=\\begin{cases}r_{i}+p_{i}(r_{i})&amp;(t\\leq r_{i}),\\\\&#10;t+p_{i}(t)&amp;(r_{i}&lt;t\\leq d_{i}-p_{i}(t)),\\\\&#10;\\infty&amp;(t&gt;d_{i}-p_{i}(t)).\\end{cases}\" display=\"inline\"><mrow><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mo>{</mo><mtable columnspacing=\"5pt\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mrow><msub><mi>r</mi><mi>i</mi></msub><mo>+</mo><mrow><msub><mi>p</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>r</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>t</mi><mo>\u2264</mo><msub><mi>r</mi><mi>i</mi></msub></mrow><mo stretchy=\"false\">)</mo></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><mi>t</mi><mo>+</mo><mrow><msub><mi>p</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>r</mi><mi>i</mi></msub><mo>&lt;</mo><mi>t</mi><mo>\u2264</mo><mrow><msub><mi>d</mi><mi>i</mi></msub><mo>-</mo><mrow><msub><mi>p</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mrow><mo stretchy=\"false\">)</mo></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mi mathvariant=\"normal\">\u221e</mi></mtd><mtd columnalign=\"left\"><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>t</mi><mo>&gt;</mo><mrow><msub><mi>d</mi><mi>i</mi></msub><mo>-</mo><mrow><msub><mi>p</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mrow><mo stretchy=\"false\">)</mo></mrow><mo>.</mo></mrow></mtd></mtr></mtable></mrow></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nNote that this $f_i$ is a  monotone piecewise linear function with at most \\((m+1)\\) pieces. \nWe now claim that our secretary problem can be represented by the maximum total composition ordering problem \\(((f_i)_{i\\in[n]},c=0)\\).\n\nLet us consider  the best stopping rule for the interview to maximize the expected value  for the secretary hired\nwhen the interview ordering is fixed in advance. \n Assume that the applicant $i$ is interviewed in the $i$th place.\nNote that \\(\\mathbf{E}[X_n]\\,(=f_{n}(0))\\) is the expected value  under the condition that \nall the applicants except for the last one are rejected, since the last applicant is hired.   \nConsider the situation that all the applicants except for the last two ones are rejected. \nThen it is a best stopping rule that \n the applicant $n-1$ is hired if and only if $X_{n-1} \\geq f_{n}(0)$ is satisfied (i.e., \n the applicant $n$ is hired if and only if $X_{n-1} < f_{n}(0)$), \nwhere $f_{n-1}\\circ f_n(0)$ is  the expected value for the best stopping rule,   under this situation. \nBy applying backward induction,  we have the following best stopping rule:\nwe hire the applicant $i\\,(< n)$  and stop the interview process,  \nif  $X_i \\geq f_{i+1}\\circ\\dots\\circ f_{n}(0)$  (otherwise, the next applicant is interviewed), \nand we hire the applicant $n$ if no applicant $i \\,(< n)$ is hired. \nWe show that  \n$f_{1}\\circ\\dots\\circ f_{n}(0)$ is the maximum expected value for the secretary hired, if the  \ninterview ordering is fixed such that the applicant $i$ is interviewed in the $i$th place.\n\nTherefore, the secretary problem (i.e., finding an interview ordering, together with a stopping rule) can be formulated as the maximum total composition ordering problem \\(((f_i)_{i\\in[n]},c=0)\\). \n\n\n\n\n\\subsection*{Main results obtained in this paper}\nIn this paper, we consider the computational issues for the optimal composition ordering problems,  when all $f_i$'s are monotone and almost linear. \n\nWe first show that the problems become tractable if all $f_i$'s are monotone and linear, i.e., $f_i(x)=a_ix+b_i$ for $a_i \\geq 0$. \n\n\\begin{theorem}\\label{theorem:partial-total}\nThe maximum partial and total composition ordering problems for monotone nondecreasing linear functions\nare both solvable  in \\({\\mathrm{O}}(n\\log n)\\) time.\n\\end{theorem}\nRecall that the algorithm for the linear shortening model (resp., the linear deterioration model) for the time-dependent scheduling problem\nis easily generalized to the case when all $a_i$'s satisfy $a_i< 1$ (resp., $a_i > 1$). \nThe best composition ordering is obtained as the nondecreasing order of ratios \\(b_i/a_i\\).\n\nThis idea can be extended to the maximum partial composition ordering problem in the mixed case (i.e., some $a_i>1$ and some $a_{i'}<1$) of Theorem \\ref{theorem:partial-total}.\nHowever, we cannot extend it to the maximum total composition ordering problem.  \nIn fact, we do not know if there exists such a simple criterion on the maximum total composition ordering.  \nWe instead present an efficient algorithm that chooses the best ordering among linearly many candidates.\n\nWe also provide a dynamic-programming based polynomial-time algorithm for the exact $k$-composition setting.\n\\begin{theorem}\\label{theorem:exact}\nThe maximum exact $k$-composition ordering problem for monotone nondecreasing linear functions is solvable in \\({\\mathrm{O}}(k\\cdot n^2)\\) time.\n\\end{theorem}\n\n\nWe next consider monotone, piecewise linear case.\nIt can be directly shown from the time-dependent scheduling problem that the maximum total composition ordering problem is NP-hard, \neven if all $f_i$'s are monotone, concave, and piecewise linear functions with at most two pieces, i.e., \n$f_i(x)=\\min\\{a_i^1x+b_i^1,\\,a_i^2x+b_i^2\\}$ for some constants $a_i^1$, $a_i^2$, $b_i^1$, \nand $b_i^2$ with $a_i^1,a_i^2>0$.\nIt turns out that all the other cases become intractable, even if all $f_i$'s are monotone and consist of at most two pieces.\nFurthermore, the problems are inapproximable.\n\n\\begin{theorem}\\label{theorem:hardness}\n\\noindent\n{\\rm (i)}  \n\nFor any positive real number \\(\\alpha~(\\le 1)\\),\nthere exists no $\\alpha$-approximation algorithm \nfor the maximum total (partial) composition ordering problem\neven if all $f_i$'s are monotone, concave, and piecewise linear functions with at most two pieces,\nunless P=NP.\n\n\\noindent\n{\\rm (ii)} \n\nFor any positive real number \\(\\alpha~(\\le 1)\\),\nthere exists no $\\alpha$-approximation algorithm \nfor the maximum total (partial) composition ordering problem\neven if all $f_i$'s are monotone, convex, and piecewise linear functions with at most two pieces,\nunless P=NP.\n\\end{theorem}\n\\noindent\nNote that $f_i$ can be represented by $f_i(x)=\\max\\{a_i^1x+b_i^1,\\,a_i^2x+b_i^2\\}$ for some constants $a_i^1$, $a_i^2$, $b_i^1$, \nand $b_i^2$ with $a_i^1,a_i^2>0$ if $f_i$ is a monotone, convex, and piecewise linear function with at most two pieces. \n\nAs for the positive side, if each $f_i$ is a monotone, convex, and piecewise linear function with at most two pieces such that one of the pieces is constant, then \nwe have the following result, which implies that  \nthe  two-valued free-order secretary problem can be solved in \n \\({\\mathrm{O}}(n^2)\\) time.\n\n\\begin{theorem}\\label{theorem:pconst}\nLet $f_i(x)=\\max\\{a_ix+b_i,c_i\\}$ for some constants $a_i\\,(\\ge 0)$, $b_i$ and $c_i$.\nThen the maximum partial composition ordering problem is solvable in \\({\\mathrm{O}}(n^2)\\) time.\n\\end{theorem}\n\nWe summarize the current status on \nthe time complexity of the maximum total composition ordering problem\nin Table~\\ref{table:result-maxtcop}.\nHere the bold letters represent our results,\nand the results for the minimum and/or partial versions are described as the ones \nfor the maximum total composition ordering problem, \nsince the minimum  and  partial versions \ncan be transformed into the maximum total one as shown in Section \\ref{sec:maxpcop}.\n\n\n\\begin{table}[hb]  \n\\caption{The current status on the time complexity of the maximum total composition ordering problem.}\n\\label{table:result-maxtcop}\n\\begin{center}\n\\begin{tabular}{lcc}\n\\hline Functions&Complexity&References\\\\\\hline\n$f_i(x)=a_ix$ ($a_i> 1$)&${\\mathrm{O}}(n)$&\\cite{mosheiov1994sju}\\\\\n$f_i(x)=a_ix+b_i$\\quad($a_i>1,~b_i<0$)&${\\mathrm{O}}(n\\log n)$&{\\small\\cite{gawiejnowicz1995sjw,gupta1988sfs,tanaev1994sts,wajs1986paf}}\\\\\n\n\n$f_i(x)=\\min\\{ax+b_i,r_i\\}$\\quad($a>1,~b_i<0$)&NP-hard&\\cite{cheng1998tco}\\\\\n$f_i(x)=\\begin{cases}\\min\\{a_ix,r_i\\}&(x\\ge d_i)\\\\-\\infty&(x<d_i)\\end{cases}$\\quad($a_i>1$)&{} NP-hard&\\cite{gawiejnowicz2007sdj}\\\\\n$f_i(x)=\\min\\{a_ix+b_i,c_i\\}$\\quad $(a_i>1)$&{} NP-hard&\\cite{cheng1998tco}\\\\\n$f_i(x)=a_ix+b_i$\\quad($1> a_i\\ge 0,~b_i<0$)&${\\mathrm{O}}(n\\log n)$&\\cite{ho1993cos}\\\\\n\n$f_i(x)=\\begin{cases}a_ix+b_i&(x\\ge d_i)\\\\-\\infty&(x<d_i)\\end{cases}$\\quad($1>a_i> 0$)&{} NP-hard&\\cite{cheng1998tco}\\\\\n$f_i(x)=a_ix+b_i$\\quad $(a_i\\ge 0)$&\\(\\boldsymbol{{\\mathrm{O}}(n\\log n)}\\)&\\textbf{[Theorem \\ref{theorem:partial-total}]}\\\\\n$f_i(x)=\\max\\{x,a_ix+b_i\\}$\\quad $(a_i\\ge 0)$&\\(\\boldsymbol{{\\mathrm{O}}(n\\log n)}\\)&\\textbf{[Theorem \\ref{theorem:partial-total}]}\\\\\n$f_i(x)=\\max\\{x,a_ix+b_i,c_i\\}$\\quad $(a_i\\ge 0)$&\\(\\boldsymbol{{\\mathrm{O}}(n^2)}\\)&\\textbf{[Theorem \\ref{theorem:pconst}]}\\\\\n$f_i(x)=\\max\\{x,\\min\\{a_i^1x+b_i^1,a_i^2x+b_i^2\\}\\}$\\quad $(a_i^1,a_i^2>0)$&\\textbf{NP-hard}&\\textbf{[Theorem \\ref{theorem:hardness}]}\\\\\n$f_i(x)=\\max\\{a_i^1x+b_i^1,a_i^2x+b_i^2\\}$\\quad $(a_i^1,a_i^2>0)$&\\textbf{NP-hard}&\\textbf{[Theorem \\ref{theorem:hardness}]}\\\\\n\\hline\n\\end{tabular}\n\\end{center}\n\\end{table}\n\n\n\\subsection*{The organization of the paper}\nThe rest of the paper is organized as follows.\nIn Section \\ref{sec:preliminaries}, \nwe show that the minimum and/or partial versions of the optimal composition ordering problem can be formulated as the maximum total composition ordering problem.  \nIn Section~\\ref{sec:maxpcop}, we prove the partial composition part of Theorem~\\ref{theorem:partial-total} and Theorem \\ref{theorem:pconst}, \nand in Section \\ref{sec:maxtcop}, we prove the total composition part of Theorem \\ref{theorem:partial-total} and Theorem\\ref{theorem:exact}.\nFinally, Section \\ref{sec:nr} provides a proof of Theorem \\ref{theorem:hardness}.\n\n\n\n\n\n\\section{Properties of Function Composition}\\label{sec:preliminaries}\nIn this section,\nwe present two basic properties of the optimal composition ordering problems, which imply that \nthe {\\em maximum total} composition ordering problem represents all the other composition ordering problems\nnamely, the  minimum  partial, the minimum total, and the maximum partial ones.   \n\nLet us start with the lemma that the minimization problems are equivalent to the maximization ones.\nFor a function $f:\\mathbb{R} \\to \\mathbb{R}$, define a function $\\tilde{f} :\\mathbb{R} \\to \\mathbb{R}$\nby \n\n", "itemtype": "equation", "pos": 9930, "prevtext": "\nThen the problem can be reduced to the minimum total composition ordering problem \\(((f_i)_{i\\in [n]},c=t_0)\\). \nA number of restrictions on the processing time $p_i(t)$ has been studied in this literature (e.g., \\cite{cai1998oas,cheng2003sjw,melnikov1980ppo}). \n\n\n\nIn the {\\em linear deterioration} model, \nthe processing time $p_i$ is restricted to be \na monotone increasing linear function that satisfies \\(p_i(t)=a_i t+b_i\\) for two positive constants $a_i$ and $b_i$.\nHere \\(a_i\\) and \\(b_i\\) are respectively called\nthe {\\em deterioration rate} and the {\\em basic processing time}\nof job \\(J_i\\).\nGawiejnowicz and Pankowska \\cite{gawiejnowicz1995sjw},\nGupta and Gupta \\cite{gupta1988sfs},\n\nTanaev {\\it et al.} \\cite{tanaev1994sts},\nand Wajs \\cite{wajs1986paf}\nobtained the result that \nthe time-dependent scheduling problem of this model (without the ready time $r_i$ nor the deadline $d_i$)  is solvable in \\({\\mathrm{O}}(n\\log n)\\) time \nby scheduling jobs in the nonincreasing order of ratios \\(b_i/a_i\\).\n\n\n\n\n\n\n\n\n\n\n\nAs for the hardness results, it is known that \nthe proportional deterioration model with ready time and deadline, \nthe linear deterioration model with ready time, \nand the linear deterioration model with a deadline are all {} NP-hard \\cite{cheng1998tco,gawiejnowicz2007sdj}. \n\n\nAnother important model is called the {\\em linear shortening} model introduced by Ho {\\it et al.} \\cite{ho1993cos}.\nIn this model, the processing time $p_i$ is restricted to be a monotone decreasing linear function\nthat satisfies \\(p_i(t)=-a_i t+b_i\\) with two constants $a_i$ and $b_i$ with $1>a_i>0$, $b_i>0$.\n\n\n\nThey showed\nthat the time-dependent scheduling problem of this model can be solved in \\({\\mathrm{O}}(n\\log n)\\) time \nby again scheduling jobs in the nonincreasing order of the ratios \\(b_i/a_i\\).\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\\subsection*{Free-order secretary problem}\nThe {\\em free-order secretary problem} is another application of the optimal composition ordering problems, \nwhich is closely related to \na branch of the problems such as the full-information secretary problem \\cite{ferguson1989wst},\nknapsack and matroid secretary problems \\cite{babaioff2007aks,babaioff2007msp,gharan2011ovo}\nand stochastic knapsack problems \\cite{dean2005aaa,dean2008ats}. \nImagine that an administrator wants to hire the best secretary out of \\(n\\) applicants for a position.\nEach applicant \\(i\\) has a nonnegative independent random variable \\(X_i\\) as his ability for the secretary.\nHere \\(X_1,\\dots,X_n\\) are not necessarily based on the same probability distribution,\nand assume that the administrator knows all the probability distributions of $X_i$'s before their interviews, \nwhere such information can be obtained by their curriculum vitae and/or results of some written examinations. \nThe applicants are interviewed one-by-one, and \nthe administrator can observe the value \\(X_i\\) during the interview of the applicant $i$. \nA decision on each applicant is to be made immediately after the interview.\nOnce an applicant is rejected, he will never be hired.\nThe interview process is finished if some applicant is chosen, where we assume that \nthe last applicant is always chosen if he is interviewed\nsince the administrator has to hire exactly one candidate. \nThe objective is to find an optimal strategy for this interview process,\ni.e., to find an interview ordering together with the stopping rule that maximizes the expected value of the secretary hired.\n\nLet \\(f_i(x)=\\mathbf{E}[\\max\\{X_i,x\\}]\\).\nFor example, let us assume that \\(X_i\\) is an $m$-valued random variable \nthat takes the value \\(a_i^j\\) with probability \\(p_i^j \\geq 0\\) (\\(j=1,\\dots,m\\)).\nHere we assume that \\(a_i^1\\ge\\dots\\ge a_i^{m} \\ge 0\\) and  $\\sum_{j=1}^m p_i^j=1$. \nThen we have \n\n", "index": 3, "text": "\\begin{align*}\nf_i(x)\n&=\\sum_{j=1}^m p_i^j\\max\\{a_i^j,x\\}\n\n\n\n\n\n=\\max_{l=0, \\dots , m}\\left\\{\\sum_{j=1}^{l}p_i^ja_i^j+\\sum_{j=l+1}^{m}p_i^j x\\right\\}.\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex2.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{i}(x)\" display=\"inline\"><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex2.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\sum_{j=1}^{m}p_{i}^{j}\\max\\{a_{i}^{j},x\\}\\par&#10;\\par&#10;\\par&#10;\\par&#10;%&#10;\\par&#10;=\\max_{l=0,\\dots,m}\\left\\{\\sum_{j=1}^{l}p_{i}^{j}a_{i}^{j}+\\sum_{j=l+1}^{%&#10;m}p_{i}^{j}x\\right\\}.\" display=\"inline\"><mrow><mrow><mi/><mo>=</mo><mrow><mstyle displaystyle=\"true\"><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover></mstyle><mrow><msubsup><mi>p</mi><mi>i</mi><mi>j</mi></msubsup><mo>\u2062</mo><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">{</mo><msubsup><mi>a</mi><mi>i</mi><mi>j</mi></msubsup><mo>,</mo><mi>x</mi><mo stretchy=\"false\">}</mo></mrow></mrow></mrow></mrow><mo>=</mo><mrow><munder><mi>max</mi><mrow><mi>l</mi><mo>=</mo><mrow><mn>0</mn><mo>,</mo><mi mathvariant=\"normal\">\u2026</mi><mo>,</mo><mi>m</mi></mrow></mrow></munder><mo>\u2061</mo><mrow><mo>{</mo><mrow><mrow><mstyle displaystyle=\"true\"><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>l</mi></munderover></mstyle><mrow><msubsup><mi>p</mi><mi>i</mi><mi>j</mi></msubsup><mo>\u2062</mo><msubsup><mi>a</mi><mi>i</mi><mi>j</mi></msubsup></mrow></mrow><mo>+</mo><mrow><mstyle displaystyle=\"true\"><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>j</mi><mo>=</mo><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow></mrow><mi>m</mi></munderover></mstyle><mrow><msubsup><mi>p</mi><mi>i</mi><mi>j</mi></msubsup><mo>\u2062</mo><mi>x</mi></mrow></mrow></mrow><mo>}</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nFor example, if $f(x)=2x-3$, then we have $\\tilde{f}(x)=2x+3$. \nBy the definition, we have $\\tilde{\\tilde{f}}=f$, and $\\tilde{f}$ inherits several properties for $f$, e.g., linearity and monotonicity.\n\n\\begin{lemma}\\label{lemma:minmax}\nLet \\(c\\) be a real, and for \\(i=1,\\dots,n\\), let \\(f_i:\\mathbb{R}\\to\\mathbb{R}\\) be real functions.\nThen we have the following two statements.\n\\begin{enumerate}\n\\item A permutation \\(\\sigma:[n]\\to[n]\\) is optimal for \nthe maximum total composition ordering problem $((f_i)_{i\\in[n]},c)$ if and only if\nit is optimal for \nthe minimum total composition ordering problem $((\\tilde{f}_i)_{i\\in[n]},-c)$.\n\n\\item A permutation \\(\\sigma:[n]\\to[n]\\) and an integer $k$ with  \\(0\\le k\\le n\\) form\nan optimal solution for \nthe maximum partial composition ordering problem $((f_i)_{i\\in[n]},c)$\n if and only if they form an optimal solution for \nthe minimum partial composition ordering problem $((\\tilde{f}_i)_{i\\in[n]},-c)$.\n\\end{enumerate}\n\\end{lemma}\n\\begin{proof}\nFor any permutation \\(\\sigma:[n]\\to[n]\\) and an integer $k$ with \\(0\\le k\\le n\\), we have\n\n", "itemtype": "equation", "pos": 18871, "prevtext": "\nNote that this $f_i$ is a  monotone piecewise linear function with at most \\((m+1)\\) pieces. \nWe now claim that our secretary problem can be represented by the maximum total composition ordering problem \\(((f_i)_{i\\in[n]},c=0)\\).\n\nLet us consider  the best stopping rule for the interview to maximize the expected value  for the secretary hired\nwhen the interview ordering is fixed in advance. \n Assume that the applicant $i$ is interviewed in the $i$th place.\nNote that \\(\\mathbf{E}[X_n]\\,(=f_{n}(0))\\) is the expected value  under the condition that \nall the applicants except for the last one are rejected, since the last applicant is hired.   \nConsider the situation that all the applicants except for the last two ones are rejected. \nThen it is a best stopping rule that \n the applicant $n-1$ is hired if and only if $X_{n-1} \\geq f_{n}(0)$ is satisfied (i.e., \n the applicant $n$ is hired if and only if $X_{n-1} < f_{n}(0)$), \nwhere $f_{n-1}\\circ f_n(0)$ is  the expected value for the best stopping rule,   under this situation. \nBy applying backward induction,  we have the following best stopping rule:\nwe hire the applicant $i\\,(< n)$  and stop the interview process,  \nif  $X_i \\geq f_{i+1}\\circ\\dots\\circ f_{n}(0)$  (otherwise, the next applicant is interviewed), \nand we hire the applicant $n$ if no applicant $i \\,(< n)$ is hired. \nWe show that  \n$f_{1}\\circ\\dots\\circ f_{n}(0)$ is the maximum expected value for the secretary hired, if the  \ninterview ordering is fixed such that the applicant $i$ is interviewed in the $i$th place.\n\nTherefore, the secretary problem (i.e., finding an interview ordering, together with a stopping rule) can be formulated as the maximum total composition ordering problem \\(((f_i)_{i\\in[n]},c=0)\\). \n\n\n\n\n\\subsection*{Main results obtained in this paper}\nIn this paper, we consider the computational issues for the optimal composition ordering problems,  when all $f_i$'s are monotone and almost linear. \n\nWe first show that the problems become tractable if all $f_i$'s are monotone and linear, i.e., $f_i(x)=a_ix+b_i$ for $a_i \\geq 0$. \n\n\\begin{theorem}\\label{theorem:partial-total}\nThe maximum partial and total composition ordering problems for monotone nondecreasing linear functions\nare both solvable  in \\({\\mathrm{O}}(n\\log n)\\) time.\n\\end{theorem}\nRecall that the algorithm for the linear shortening model (resp., the linear deterioration model) for the time-dependent scheduling problem\nis easily generalized to the case when all $a_i$'s satisfy $a_i< 1$ (resp., $a_i > 1$). \nThe best composition ordering is obtained as the nondecreasing order of ratios \\(b_i/a_i\\).\n\nThis idea can be extended to the maximum partial composition ordering problem in the mixed case (i.e., some $a_i>1$ and some $a_{i'}<1$) of Theorem \\ref{theorem:partial-total}.\nHowever, we cannot extend it to the maximum total composition ordering problem.  \nIn fact, we do not know if there exists such a simple criterion on the maximum total composition ordering.  \nWe instead present an efficient algorithm that chooses the best ordering among linearly many candidates.\n\nWe also provide a dynamic-programming based polynomial-time algorithm for the exact $k$-composition setting.\n\\begin{theorem}\\label{theorem:exact}\nThe maximum exact $k$-composition ordering problem for monotone nondecreasing linear functions is solvable in \\({\\mathrm{O}}(k\\cdot n^2)\\) time.\n\\end{theorem}\n\n\nWe next consider monotone, piecewise linear case.\nIt can be directly shown from the time-dependent scheduling problem that the maximum total composition ordering problem is NP-hard, \neven if all $f_i$'s are monotone, concave, and piecewise linear functions with at most two pieces, i.e., \n$f_i(x)=\\min\\{a_i^1x+b_i^1,\\,a_i^2x+b_i^2\\}$ for some constants $a_i^1$, $a_i^2$, $b_i^1$, \nand $b_i^2$ with $a_i^1,a_i^2>0$.\nIt turns out that all the other cases become intractable, even if all $f_i$'s are monotone and consist of at most two pieces.\nFurthermore, the problems are inapproximable.\n\n\\begin{theorem}\\label{theorem:hardness}\n\\noindent\n{\\rm (i)}  \n\nFor any positive real number \\(\\alpha~(\\le 1)\\),\nthere exists no $\\alpha$-approximation algorithm \nfor the maximum total (partial) composition ordering problem\neven if all $f_i$'s are monotone, concave, and piecewise linear functions with at most two pieces,\nunless P=NP.\n\n\\noindent\n{\\rm (ii)} \n\nFor any positive real number \\(\\alpha~(\\le 1)\\),\nthere exists no $\\alpha$-approximation algorithm \nfor the maximum total (partial) composition ordering problem\neven if all $f_i$'s are monotone, convex, and piecewise linear functions with at most two pieces,\nunless P=NP.\n\\end{theorem}\n\\noindent\nNote that $f_i$ can be represented by $f_i(x)=\\max\\{a_i^1x+b_i^1,\\,a_i^2x+b_i^2\\}$ for some constants $a_i^1$, $a_i^2$, $b_i^1$, \nand $b_i^2$ with $a_i^1,a_i^2>0$ if $f_i$ is a monotone, convex, and piecewise linear function with at most two pieces. \n\nAs for the positive side, if each $f_i$ is a monotone, convex, and piecewise linear function with at most two pieces such that one of the pieces is constant, then \nwe have the following result, which implies that  \nthe  two-valued free-order secretary problem can be solved in \n \\({\\mathrm{O}}(n^2)\\) time.\n\n\\begin{theorem}\\label{theorem:pconst}\nLet $f_i(x)=\\max\\{a_ix+b_i,c_i\\}$ for some constants $a_i\\,(\\ge 0)$, $b_i$ and $c_i$.\nThen the maximum partial composition ordering problem is solvable in \\({\\mathrm{O}}(n^2)\\) time.\n\\end{theorem}\n\nWe summarize the current status on \nthe time complexity of the maximum total composition ordering problem\nin Table~\\ref{table:result-maxtcop}.\nHere the bold letters represent our results,\nand the results for the minimum and/or partial versions are described as the ones \nfor the maximum total composition ordering problem, \nsince the minimum  and  partial versions \ncan be transformed into the maximum total one as shown in Section \\ref{sec:maxpcop}.\n\n\n\\begin{table}[hb]  \n\\caption{The current status on the time complexity of the maximum total composition ordering problem.}\n\\label{table:result-maxtcop}\n\\begin{center}\n\\begin{tabular}{lcc}\n\\hline Functions&Complexity&References\\\\\\hline\n$f_i(x)=a_ix$ ($a_i> 1$)&${\\mathrm{O}}(n)$&\\cite{mosheiov1994sju}\\\\\n$f_i(x)=a_ix+b_i$\\quad($a_i>1,~b_i<0$)&${\\mathrm{O}}(n\\log n)$&{\\small\\cite{gawiejnowicz1995sjw,gupta1988sfs,tanaev1994sts,wajs1986paf}}\\\\\n\n\n$f_i(x)=\\min\\{ax+b_i,r_i\\}$\\quad($a>1,~b_i<0$)&NP-hard&\\cite{cheng1998tco}\\\\\n$f_i(x)=\\begin{cases}\\min\\{a_ix,r_i\\}&(x\\ge d_i)\\\\-\\infty&(x<d_i)\\end{cases}$\\quad($a_i>1$)&{} NP-hard&\\cite{gawiejnowicz2007sdj}\\\\\n$f_i(x)=\\min\\{a_ix+b_i,c_i\\}$\\quad $(a_i>1)$&{} NP-hard&\\cite{cheng1998tco}\\\\\n$f_i(x)=a_ix+b_i$\\quad($1> a_i\\ge 0,~b_i<0$)&${\\mathrm{O}}(n\\log n)$&\\cite{ho1993cos}\\\\\n\n$f_i(x)=\\begin{cases}a_ix+b_i&(x\\ge d_i)\\\\-\\infty&(x<d_i)\\end{cases}$\\quad($1>a_i> 0$)&{} NP-hard&\\cite{cheng1998tco}\\\\\n$f_i(x)=a_ix+b_i$\\quad $(a_i\\ge 0)$&\\(\\boldsymbol{{\\mathrm{O}}(n\\log n)}\\)&\\textbf{[Theorem \\ref{theorem:partial-total}]}\\\\\n$f_i(x)=\\max\\{x,a_ix+b_i\\}$\\quad $(a_i\\ge 0)$&\\(\\boldsymbol{{\\mathrm{O}}(n\\log n)}\\)&\\textbf{[Theorem \\ref{theorem:partial-total}]}\\\\\n$f_i(x)=\\max\\{x,a_ix+b_i,c_i\\}$\\quad $(a_i\\ge 0)$&\\(\\boldsymbol{{\\mathrm{O}}(n^2)}\\)&\\textbf{[Theorem \\ref{theorem:pconst}]}\\\\\n$f_i(x)=\\max\\{x,\\min\\{a_i^1x+b_i^1,a_i^2x+b_i^2\\}\\}$\\quad $(a_i^1,a_i^2>0)$&\\textbf{NP-hard}&\\textbf{[Theorem \\ref{theorem:hardness}]}\\\\\n$f_i(x)=\\max\\{a_i^1x+b_i^1,a_i^2x+b_i^2\\}$\\quad $(a_i^1,a_i^2>0)$&\\textbf{NP-hard}&\\textbf{[Theorem \\ref{theorem:hardness}]}\\\\\n\\hline\n\\end{tabular}\n\\end{center}\n\\end{table}\n\n\n\\subsection*{The organization of the paper}\nThe rest of the paper is organized as follows.\nIn Section \\ref{sec:preliminaries}, \nwe show that the minimum and/or partial versions of the optimal composition ordering problem can be formulated as the maximum total composition ordering problem.  \nIn Section~\\ref{sec:maxpcop}, we prove the partial composition part of Theorem~\\ref{theorem:partial-total} and Theorem \\ref{theorem:pconst}, \nand in Section \\ref{sec:maxtcop}, we prove the total composition part of Theorem \\ref{theorem:partial-total} and Theorem\\ref{theorem:exact}.\nFinally, Section \\ref{sec:nr} provides a proof of Theorem \\ref{theorem:hardness}.\n\n\n\n\n\n\\section{Properties of Function Composition}\\label{sec:preliminaries}\nIn this section,\nwe present two basic properties of the optimal composition ordering problems, which imply that \nthe {\\em maximum total} composition ordering problem represents all the other composition ordering problems\nnamely, the  minimum  partial, the minimum total, and the maximum partial ones.   \n\nLet us start with the lemma that the minimization problems are equivalent to the maximization ones.\nFor a function $f:\\mathbb{R} \\to \\mathbb{R}$, define a function $\\tilde{f} :\\mathbb{R} \\to \\mathbb{R}$\nby \n\n", "index": 5, "text": "\\begin{equation}\n\\label{eq-a1}\n\\tilde{f}(x):=-f(-x). \n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E1.m1\" class=\"ltx_Math\" alttext=\"\\tilde{f}(x):=-f(-x).\" display=\"block\"><mrow><mrow><mrow><mover accent=\"true\"><mi>f</mi><mo stretchy=\"false\">~</mo></mover><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>:=</mo><mrow><mo>-</mo><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mo>-</mo><mi>x</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nwhich proves  the lemma. \n\\end{proof}\n\n\\noindent\nDue to the lemma, this paper deals with the maximum composition ordering problems only. \n\nWe next show the relationships between total and partial compositions.  \nFor a function $f:\\mathbb{R} \\to \\mathbb{R}$, define a function $\\overline{f}:\\mathbb{R} \\to \\mathbb{R}$\nby \n\n", "itemtype": "equation", "pos": 20025, "prevtext": "\nFor example, if $f(x)=2x-3$, then we have $\\tilde{f}(x)=2x+3$. \nBy the definition, we have $\\tilde{\\tilde{f}}=f$, and $\\tilde{f}$ inherits several properties for $f$, e.g., linearity and monotonicity.\n\n\\begin{lemma}\\label{lemma:minmax}\nLet \\(c\\) be a real, and for \\(i=1,\\dots,n\\), let \\(f_i:\\mathbb{R}\\to\\mathbb{R}\\) be real functions.\nThen we have the following two statements.\n\\begin{enumerate}\n\\item A permutation \\(\\sigma:[n]\\to[n]\\) is optimal for \nthe maximum total composition ordering problem $((f_i)_{i\\in[n]},c)$ if and only if\nit is optimal for \nthe minimum total composition ordering problem $((\\tilde{f}_i)_{i\\in[n]},-c)$.\n\n\\item A permutation \\(\\sigma:[n]\\to[n]\\) and an integer $k$ with  \\(0\\le k\\le n\\) form\nan optimal solution for \nthe maximum partial composition ordering problem $((f_i)_{i\\in[n]},c)$\n if and only if they form an optimal solution for \nthe minimum partial composition ordering problem $((\\tilde{f}_i)_{i\\in[n]},-c)$.\n\\end{enumerate}\n\\end{lemma}\n\\begin{proof}\nFor any permutation \\(\\sigma:[n]\\to[n]\\) and an integer $k$ with \\(0\\le k\\le n\\), we have\n\n", "index": 7, "text": "\\begin{align*}\nf_{\\sigma(k)}\\circ f_{\\sigma(k-1)}\\circ\\dots\\circ f_{\\sigma(1)}(c)\n&=-\\tilde{f}_{\\sigma(k)}\\circ \\tilde{f}_{\\sigma(k-1)}\\circ\\dots\\circ \\tilde{f}_{\\sigma(1)}(-c),\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex3.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{\\sigma(k)}\\circ f_{\\sigma(k-1)}\\circ\\dots\\circ f_{\\sigma(1)}(c)\" display=\"inline\"><mrow><mrow><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>k</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex3.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=-\\tilde{f}_{\\sigma(k)}\\circ\\tilde{f}_{\\sigma(k-1)}\\circ\\dots%&#10;\\circ\\tilde{f}_{\\sigma(1)}(-c),\" display=\"inline\"><mrow><mrow><mi/><mo>=</mo><mrow><mo>-</mo><mrow><mrow><msub><mover accent=\"true\"><mi>f</mi><mo stretchy=\"false\">~</mo></mover><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>k</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><msub><mover accent=\"true\"><mi>f</mi><mo stretchy=\"false\">~</mo></mover><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mover accent=\"true\"><mi>f</mi><mo stretchy=\"false\">~</mo></mover><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mo>-</mo><mi>c</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\n\n\n\\begin{lemma}\\label{lemma:partialtotal}\nLet \\(c\\) be a real, and for \\(i=1,\\dots,n\\), let \\(f_i:\\mathbb{R}\\to\\mathbb{R}\\) be real functions.\nThen the objective value of the maximum partial composition ordering problem $((f_i)_{i\\in[n]},c)$ \n  is equal to the one of the maximum total composition ordering problem $((\\overline{f}_i)_{i\\in[n]},c)$.  \nMoreover, we have the following relationships for the optimal solutions. \n\\begin{enumerate}\n\\item \nIf a permutation \\(\\sigma:[n]\\to[n]\\) and an integer $k$ with \\(0\\le k\\le n\\) form an optimal solution for the maximum partial composition ordering problem $((f_i)_{i\\in[n]},c)$, then $\\sigma$ is optimal for the maximum total composition ordering problem $((\\overline{f}_i)_{i\\in[n]},c)$. \n\\item Let \\(\\sigma:[n]\\to[n]\\) denote an optimal permutation for \nthe maximum total composition ordering problem $((\\overline{f}_i)_{i\\in[n]},c)$. \nThen let $k$ denote the number of $i$'s such that \n\n", "itemtype": "equation", "pos": 20537, "prevtext": "\nwhich proves  the lemma. \n\\end{proof}\n\n\\noindent\nDue to the lemma, this paper deals with the maximum composition ordering problems only. \n\nWe next show the relationships between total and partial compositions.  \nFor a function $f:\\mathbb{R} \\to \\mathbb{R}$, define a function $\\overline{f}:\\mathbb{R} \\to \\mathbb{R}$\nby \n\n", "index": 9, "text": "\\begin{equation}\n\\label{eq-a2}\n\\overline{f}(x):=\\max\\{f_i(x),x\\}.\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E2.m1\" class=\"ltx_Math\" alttext=\"\\overline{f}(x):=\\max\\{f_{i}(x),x\\}.\" display=\"block\"><mrow><mrow><mrow><mover accent=\"true\"><mi>f</mi><mo>\u00af</mo></mover><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>:=</mo><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">{</mo><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>,</mo><mi>x</mi><mo stretchy=\"false\">}</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nand $\\tau : [n]\\to[n]$ denote a permutation such that $\\tau(j)$ $(j \\leq k)$ is equal to the $j$th $\\sigma(i)$ that satisfies {\\rm (\\ref{eq-a3})}.  \nThen $(\\tau, k)$\nis optimal for the maximum partial composition ordering problem $((f_i)_{i\\in[n]},c)$. \n\n\n\n\n\n\n\n\\end{enumerate}\n\\end{lemma}\n\\begin{proof}\nLet \\(\\sigma:[n]\\to[n]\\) be a permutation and \\(k\\) be a nonnegative integer. \nThen we have \n\n", "itemtype": "equation", "pos": 21557, "prevtext": "\n\n\n\\begin{lemma}\\label{lemma:partialtotal}\nLet \\(c\\) be a real, and for \\(i=1,\\dots,n\\), let \\(f_i:\\mathbb{R}\\to\\mathbb{R}\\) be real functions.\nThen the objective value of the maximum partial composition ordering problem $((f_i)_{i\\in[n]},c)$ \n  is equal to the one of the maximum total composition ordering problem $((\\overline{f}_i)_{i\\in[n]},c)$.  \nMoreover, we have the following relationships for the optimal solutions. \n\\begin{enumerate}\n\\item \nIf a permutation \\(\\sigma:[n]\\to[n]\\) and an integer $k$ with \\(0\\le k\\le n\\) form an optimal solution for the maximum partial composition ordering problem $((f_i)_{i\\in[n]},c)$, then $\\sigma$ is optimal for the maximum total composition ordering problem $((\\overline{f}_i)_{i\\in[n]},c)$. \n\\item Let \\(\\sigma:[n]\\to[n]\\) denote an optimal permutation for \nthe maximum total composition ordering problem $((\\overline{f}_i)_{i\\in[n]},c)$. \nThen let $k$ denote the number of $i$'s such that \n\n", "index": 11, "text": "\\begin{equation}\n\\label{eq-a3}\n\\overline{f}_{\\sigma(i)}\\circ \\dots \\circ \\overline{f}_{\\sigma(1)}(c)\n>\\overline{f}_{\\sigma(i-1)}\\circ \\dots \\circ \\overline{f}_{\\sigma(1)}(c), \n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E3.m1\" class=\"ltx_Math\" alttext=\"\\overline{f}_{\\sigma(i)}\\circ\\dots\\circ\\overline{f}_{\\sigma(1)}(c)&gt;\\overline{f%&#10;}_{\\sigma(i-1)}\\circ\\dots\\circ\\overline{f}_{\\sigma(1)}(c),\" display=\"block\"><mrow><mrow><mrow><mrow><msub><mover accent=\"true\"><mi>f</mi><mo>\u00af</mo></mover><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mover accent=\"true\"><mi>f</mi><mo>\u00af</mo></mover><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>&gt;</mo><mrow><mrow><msub><mover accent=\"true\"><mi>f</mi><mo>\u00af</mo></mover><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mover accent=\"true\"><mi>f</mi><mo>\u00af</mo></mover><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nby \\(\\overline{f}(x)\\ge f(x)\\) and \\(\\overline{f}(x)\\ge x\\). \nThis implies that  the objective value of the maximum partial composition ordering problem $((f_i)_{i\\in[n]},c)$ \n is at most the one of the maximum total composition ordering problem $((\\overline{f}_i)_{i\\in[n]},c)$.  \n\nOn the other hand, for a  permutation \\(\\sigma:[n]\\to[n]\\), let  \\(\\tau\\) and \\(k\\) be defined as the statement in  the lemma. \nThen we have \n\n", "itemtype": "equation", "pos": 22144, "prevtext": "\nand $\\tau : [n]\\to[n]$ denote a permutation such that $\\tau(j)$ $(j \\leq k)$ is equal to the $j$th $\\sigma(i)$ that satisfies {\\rm (\\ref{eq-a3})}.  \nThen $(\\tau, k)$\nis optimal for the maximum partial composition ordering problem $((f_i)_{i\\in[n]},c)$. \n\n\n\n\n\n\n\n\\end{enumerate}\n\\end{lemma}\n\\begin{proof}\nLet \\(\\sigma:[n]\\to[n]\\) be a permutation and \\(k\\) be a nonnegative integer. \nThen we have \n\n", "index": 13, "text": "\\begin{align}\n\\label{eq-qe1}\nf_{\\sigma(k)}\\circ \\dots \\circ f_{\\sigma(1)}(c)\n\\le \\overline{f}_{\\sigma(k)}\\circ \\dots \\circ \\overline{f}_{\\sigma(1)}(c)\n\\le \\overline{f}_{\\sigma(n)}\\circ \\dots \\circ \\overline{f}_{\\sigma(1)}(c)\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E4.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{\\sigma(k)}\\circ\\dots\\circ f_{\\sigma(1)}(c)\\leq\\overline{f}_{%&#10;\\sigma(k)}\\circ\\dots\\circ\\overline{f}_{\\sigma(1)}(c)\\leq\\overline{f}_{\\sigma(n%&#10;)}\\circ\\dots\\circ\\overline{f}_{\\sigma(1)}(c)\" display=\"inline\"><mrow><mrow><mrow><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>k</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><mrow><mrow><msub><mover accent=\"true\"><mi>f</mi><mo>\u00af</mo></mover><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>k</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mover accent=\"true\"><mi>f</mi><mo>\u00af</mo></mover><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><mrow><mrow><msub><mover accent=\"true\"><mi>f</mi><mo>\u00af</mo></mover><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mover accent=\"true\"><mi>f</mi><mo>\u00af</mo></mover><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nby the definition of \\(\\tau\\), which implies that \nthe objective value of the maximum partial composition ordering problem $((f_i)_{i\\in[n]},c)$ \n  is at least the one of the maximum total composition ordering problem $((\\overline{f}_i)_{i\\in[n]},c)$.  \nTherefore, the objective values of the two problems are same. \n\nMoreover, this together with (\\ref{eq-qe1}) and (\\ref{eq-qe2}) implies $(a)$ and $(b)$ in the lemma. \n\\end{proof}\n\nFrom Lemmas \\ref{lemma:minmax} and \\ref{lemma:partialtotal}, \nit is enough to consider the maximum total composition ordering problem. \nHowever, the properties of  the functions $f_i$ are not always inherited. \nFor example, \nthe partial composition ordering problem for the linear functions does not correspond to the total one for the linear functions.  \n\n\n\n\n\n\n\\section{Maximum Partial Composition Ordering Problem}\\label{sec:maxpcop}\nIn this section, we discuss tractable results for  \nthe maximum partial composition ordering problem for monotone and almost-linear functions. \nBy  Lemma~\\ref{lemma:partialtotal},  \nwe deal with the problem as the maximum total composition ordering problem \nfor functions $\\overline{f}_i$ $(i \\in [n])$, \nwhere \\(\\overline{f}_i(x)=\\max\\{f_i(x),x\\}\\). \n\nRecall that the objective value of the maximum partial composition ordering problem $((f_i)_{i\\in[n]},c)$\nis equal to the one of the maximum total composition ordering problem $((\\overline{f}_i)_{i\\in[n]},c)$.  \nLet us start with the maximum partial composition ordering problem for monotone linear functions \\(f_i(x)=a_ix+b_i \\, (a_i\\ge 0)\\), i.e., the total composition ordering problem for $\\overline{f}_i(x)=\\max \\{a_ix+b_i,x\\}$ $ (a_i\\ge 0)$.\n\nThe following binary relation $\\preceq$ plays an important role for the problem. \n\\begin{definition}\\label{def:preceq}\nFor two functions \\(f,g:\\mathbb{R}\\to\\mathbb{R}\\), \nwe write \\(f\\preceq g\\) $($or  \\(g\\succeq f\\)$)$ if \\(f\\circ g(x)\\le g\\circ f(x)\\)  for any \\(x \\in \\mathbb{R}\\), \n \\(f\\simeq g\\) if  \\(f\\preceq g\\) and  \\(f\\succeq g\\)  $($i.e., \\(f\\circ g(x)=g\\circ f(x)\\) for any  \\(x \\in \\mathbb{R}\\)$)$, and \n \\(f\\prec g\\) $($or \\(g\\succ f\\)$)$ if \\(f\\preceq g\\) and \\(f\\not\\simeq g\\).\n\\end{definition}\n\n\nNote that the relation \\(\\preceq\\) is not total relation in general, here a relation $\\preceq$ is called total if $f\\preceq g$ or $g\\preceq f$ for any $f,g$.\nFor example, let \\(f_1(x)=\\max\\{2x,3x\\}\\) and \\(f_2(x)=\\max\\{2x-1,3x+1\\}\\).\nThen $f_1\\circ f_2(0) \\,(=3)$ is greater than $f_2\\circ f_1(0)\\,(=1)$, but $f_1\\circ f_2(-2)\\,(=-10)$ is less than $f_2\\circ f_1(-2)\\,(=-9)$.\n\n\nHowever, if two consecutive functions are total, then we have the following easy but useful lemma.\n\\begin{lemma}\\label{lemma:localchange}\nLet \\(f_1,\\dots,f_n\\) be monotone nondecreasing functions.\nIf \\(f_{i}\\preceq f_{i+1}\\), then it holds that\n\\(f_n\\circ \\dots\\circ f_{i+2}\\circ f_{i+1}\\circ f_i\\circ f_{i-1}\\circ \\dots \\circ f_1(x)\n\\ge f_n\\circ \\dots\\circ f_{i+2}\\circ f_{i}\\circ f_{i+1}\\circ f_{i-1}\\circ \\dots \\circ f_1(x)\\)\nfor any \\(x \\in \\mathbb{R}\\).\n\\end{lemma}\n\nIt follows from the lemma that, for monotone functions $f_i$, there exists a maximum total composition $f_n \\circ f_{n-1} \\circ \\dots \\circ f_1$ that satisfies\n \\(f_{1}\\preceq f_{2}\\preceq \\dots \\preceq f_{n}\\), if the relation is total. \nMoreover, if the relation $\\preceq$ is in addition transitive (i.e., $f \\preceq g$ and  $g \\preceq h$ imply $f \\preceq h$),\nthen it is not difficult to see that \n \\(f_{1}\\preceq f_{2}\\preceq \\dots \\preceq f_{n}\\) becomes a sufficient condition that $f_n \\circ f_{n-1} \\circ \\dots \\circ f_1$ is  a maximum total composition ordering, \nwhere the proof is given as the more general form in Lemma \\ref{lemma:extotalorder}. \n\nThe relation is total if all functions are linear or  of  the form \\(\\max\\{ax+b,x\\}\\) with $a \\geq 0$.\n\\begin{lemma}\nThe relation \\(\\preceq\\) is total for linear functions. \n\\end{lemma}\n\\begin{proof}\nLet \\(f_i(x)=a_ix+b_i\\) and \\(f_j(x)=a_jx+b_j\\). \nThen we have\n\n", "itemtype": "equation", "pos": 22806, "prevtext": "\nby \\(\\overline{f}(x)\\ge f(x)\\) and \\(\\overline{f}(x)\\ge x\\). \nThis implies that  the objective value of the maximum partial composition ordering problem $((f_i)_{i\\in[n]},c)$ \n is at most the one of the maximum total composition ordering problem $((\\overline{f}_i)_{i\\in[n]},c)$.  \n\nOn the other hand, for a  permutation \\(\\sigma:[n]\\to[n]\\), let  \\(\\tau\\) and \\(k\\) be defined as the statement in  the lemma. \nThen we have \n\n", "index": 15, "text": "\\begin{align}\n\\label{eq-qe2}\nf_{\\tau(k)}\\circ \\dots \\circ f_{\\tau(1)}(c)\n= \\overline{f}_{\\tau(k)}\\circ \\dots \\circ \\overline{f}_{\\tau(1)}(c)\n= \\overline{f}_{\\sigma(n)}\\circ \\dots \\circ \\overline{f}_{\\sigma(1)}(c)\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E5.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{\\tau(k)}\\circ\\dots\\circ f_{\\tau(1)}(c)=\\overline{f}_{\\tau(k)}%&#10;\\circ\\dots\\circ\\overline{f}_{\\tau(1)}(c)=\\overline{f}_{\\sigma(n)}\\circ\\dots%&#10;\\circ\\overline{f}_{\\sigma(1)}(c)\" display=\"inline\"><mrow><mrow><mrow><msub><mi>f</mi><mrow><mi>\u03c4</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>k</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c4</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><msub><mover accent=\"true\"><mi>f</mi><mo>\u00af</mo></mover><mrow><mi>\u03c4</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>k</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mover accent=\"true\"><mi>f</mi><mo>\u00af</mo></mover><mrow><mi>\u03c4</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><msub><mover accent=\"true\"><mi>f</mi><mo>\u00af</mo></mover><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mover accent=\"true\"><mi>f</mi><mo>\u00af</mo></mover><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nSince the last inequality consists of the constants only, we have $f_i\\preceq f_j$ or $f_i\\succeq f_j$.\n\\end{proof}\n\n\\noindent\nThe totality of the relation is proven in Lemma \\ref{lemma:gammaprec-check}, when all functions are  of  the form \\(\\max\\{ax+b,x\\}\\) with $a \\geq 0$.\n\nWe further note that the relation \\(\\preceq\\) is transitive for linear functions $f(x)=ax+b$ with $a>1$, \nsince (\\ref{eq:lprec}) is equivalent to $b_i/(1-a_i)\\le b_j/(1-a_j)$, and hence  the ordering $b_1/(1-a_1)\\le b_2/(1-a_2) \\le \\dots \\le  b_n/(1-a_n)$ gives an optimal solution for the maximum total composition ordering problem. \nTherefore, it can be solved efficiently by sorting the elements by $b_i/(1-a_i)$. \nThe same statement holds when all linear functions have slope less than $1$.\nThis idea is used for the linear  deterioration  and   linear shortening models for time-dependent scheduling problems. \nHowever,  in general, this is not the case, i.e.,   the relation \\(\\preceq\\) does not satisfy transitivity. \nLet \\(f_1(x)=2x+1\\), \\(f_2(x)=2x-1\\), and \\(f_3(x)=x/2\\). \nThen we have \\(f_1\\prec f_2\\), \\(f_2\\prec f_3\\), and \\(f_3\\prec f_1\\), \nwhich implies that the transitivity is not satisfied for linear functions, \nand \\(\\overline{f}_1\\prec \\overline{f}_2\\), \\(\\overline{f}_2\\prec \\overline{f}_3\\), and \\(\\overline{f}_3\\prec \\overline{f}_1\\) hold, implying that \nthe transitivity is not satisfied for the functions of the form \\(\\max\\{ax+b,x\\}\\) with $a \\geq 0$. \n\nThese show that the maximum total and partial composition ordering problems are not trivial, even when all functions are monotone and linear.\n\n\n\n\n\n\n\n\nWe first show the following key lemma which can be used even for {\\em non-transitive} relations. \n\\begin{lemma}\\label{lemma:extotalorder}\nFor monotone nondecreasing  functions $f_i:\\mathbb{R} \\to \\mathbb{R}$ \\((i \\in [n])\\), \n\n\nif a permutation \\(\\sigma: [n] \\to [n] \\) satisfies that $i \\le j $  implies $f_{\\sigma(i)}\\preceq f_{\\sigma(j)}$ for any \\(i,j\\in[n]\\),\nthen \\(\\sigma\\) is an optimal solution for the maximum total composition ordering problem\nfor \\(((f_i)_{i\\in[n]},c)\\).\n\n\n\n\n\n\\end{lemma}\n\\begin{proof}\nWithout loss of generality,\nwe may assume that \\(\\sigma\\) is the identity permutation.\nLet \\(\\sigma'\\) be an optimal solution for the maximum total composition ordering problem such that it has the minimum inversion number.\nHere, the inversion number denotes the number of pairs $(i,j)$ with $i<j$ and $\\sigma'(i)>\\sigma'(j)$. \nThen we show that \\(\\sigma'\\) is the identity permutation by contradiction.\nAssume that \\(\\sigma'(l)>\\sigma'(l+1)\\) for some $l$. \nThen consider the following permutation:\n\n", "itemtype": "equation", "pos": 26988, "prevtext": "\nby the definition of \\(\\tau\\), which implies that \nthe objective value of the maximum partial composition ordering problem $((f_i)_{i\\in[n]},c)$ \n  is at least the one of the maximum total composition ordering problem $((\\overline{f}_i)_{i\\in[n]},c)$.  \nTherefore, the objective values of the two problems are same. \n\nMoreover, this together with (\\ref{eq-qe1}) and (\\ref{eq-qe2}) implies $(a)$ and $(b)$ in the lemma. \n\\end{proof}\n\nFrom Lemmas \\ref{lemma:minmax} and \\ref{lemma:partialtotal}, \nit is enough to consider the maximum total composition ordering problem. \nHowever, the properties of  the functions $f_i$ are not always inherited. \nFor example, \nthe partial composition ordering problem for the linear functions does not correspond to the total one for the linear functions.  \n\n\n\n\n\n\n\\section{Maximum Partial Composition Ordering Problem}\\label{sec:maxpcop}\nIn this section, we discuss tractable results for  \nthe maximum partial composition ordering problem for monotone and almost-linear functions. \nBy  Lemma~\\ref{lemma:partialtotal},  \nwe deal with the problem as the maximum total composition ordering problem \nfor functions $\\overline{f}_i$ $(i \\in [n])$, \nwhere \\(\\overline{f}_i(x)=\\max\\{f_i(x),x\\}\\). \n\nRecall that the objective value of the maximum partial composition ordering problem $((f_i)_{i\\in[n]},c)$\nis equal to the one of the maximum total composition ordering problem $((\\overline{f}_i)_{i\\in[n]},c)$.  \nLet us start with the maximum partial composition ordering problem for monotone linear functions \\(f_i(x)=a_ix+b_i \\, (a_i\\ge 0)\\), i.e., the total composition ordering problem for $\\overline{f}_i(x)=\\max \\{a_ix+b_i,x\\}$ $ (a_i\\ge 0)$.\n\nThe following binary relation $\\preceq$ plays an important role for the problem. \n\\begin{definition}\\label{def:preceq}\nFor two functions \\(f,g:\\mathbb{R}\\to\\mathbb{R}\\), \nwe write \\(f\\preceq g\\) $($or  \\(g\\succeq f\\)$)$ if \\(f\\circ g(x)\\le g\\circ f(x)\\)  for any \\(x \\in \\mathbb{R}\\), \n \\(f\\simeq g\\) if  \\(f\\preceq g\\) and  \\(f\\succeq g\\)  $($i.e., \\(f\\circ g(x)=g\\circ f(x)\\) for any  \\(x \\in \\mathbb{R}\\)$)$, and \n \\(f\\prec g\\) $($or \\(g\\succ f\\)$)$ if \\(f\\preceq g\\) and \\(f\\not\\simeq g\\).\n\\end{definition}\n\n\nNote that the relation \\(\\preceq\\) is not total relation in general, here a relation $\\preceq$ is called total if $f\\preceq g$ or $g\\preceq f$ for any $f,g$.\nFor example, let \\(f_1(x)=\\max\\{2x,3x\\}\\) and \\(f_2(x)=\\max\\{2x-1,3x+1\\}\\).\nThen $f_1\\circ f_2(0) \\,(=3)$ is greater than $f_2\\circ f_1(0)\\,(=1)$, but $f_1\\circ f_2(-2)\\,(=-10)$ is less than $f_2\\circ f_1(-2)\\,(=-9)$.\n\n\nHowever, if two consecutive functions are total, then we have the following easy but useful lemma.\n\\begin{lemma}\\label{lemma:localchange}\nLet \\(f_1,\\dots,f_n\\) be monotone nondecreasing functions.\nIf \\(f_{i}\\preceq f_{i+1}\\), then it holds that\n\\(f_n\\circ \\dots\\circ f_{i+2}\\circ f_{i+1}\\circ f_i\\circ f_{i-1}\\circ \\dots \\circ f_1(x)\n\\ge f_n\\circ \\dots\\circ f_{i+2}\\circ f_{i}\\circ f_{i+1}\\circ f_{i-1}\\circ \\dots \\circ f_1(x)\\)\nfor any \\(x \\in \\mathbb{R}\\).\n\\end{lemma}\n\nIt follows from the lemma that, for monotone functions $f_i$, there exists a maximum total composition $f_n \\circ f_{n-1} \\circ \\dots \\circ f_1$ that satisfies\n \\(f_{1}\\preceq f_{2}\\preceq \\dots \\preceq f_{n}\\), if the relation is total. \nMoreover, if the relation $\\preceq$ is in addition transitive (i.e., $f \\preceq g$ and  $g \\preceq h$ imply $f \\preceq h$),\nthen it is not difficult to see that \n \\(f_{1}\\preceq f_{2}\\preceq \\dots \\preceq f_{n}\\) becomes a sufficient condition that $f_n \\circ f_{n-1} \\circ \\dots \\circ f_1$ is  a maximum total composition ordering, \nwhere the proof is given as the more general form in Lemma \\ref{lemma:extotalorder}. \n\nThe relation is total if all functions are linear or  of  the form \\(\\max\\{ax+b,x\\}\\) with $a \\geq 0$.\n\\begin{lemma}\nThe relation \\(\\preceq\\) is total for linear functions. \n\\end{lemma}\n\\begin{proof}\nLet \\(f_i(x)=a_ix+b_i\\) and \\(f_j(x)=a_jx+b_j\\). \nThen we have\n\n", "index": 17, "text": "\\begin{align}\nf_i\\preceq f_j \n&\\iff f_i\\circ f_j(x)\\le f_j\\circ f_i(x)  \\mbox{ for any }   x \\in \\mathbb{R} \\notag\\\\\n&\\iff a_i(a_jx+b_j)+b_i\\le a_j(a_ix+b_i)+b_j  \\mbox{ for any }   x \\in \\mathbb{R} \\notag\\\\\n\n&\\iff b_i(1-a_j)\\le b_j(1-a_i). \\label{eq:lprec}\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex4.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{i}\\preceq f_{j}\" display=\"inline\"><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2aaf</mo><msub><mi>f</mi><mi>j</mi></msub></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex4.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle\\iff f_{i}\\circ f_{j}(x)\\leq f_{j}\\circ f_{i}(x)\\mbox{ for any }x%&#10;\\in\\mathbb{R}\" display=\"inline\"><mrow><mi/><mo>\u21d4</mo><mrow><mrow><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2218</mo><msub><mi>f</mi><mi>j</mi></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><mrow><mrow><msub><mi>f</mi><mi>j</mi></msub><mo>\u2218</mo><msub><mi>f</mi><mi>i</mi></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mtext>\u00a0for any\u00a0</mtext><mo>\u2062</mo><mi>x</mi></mrow><mo>\u2208</mo><mi>\u211d</mi></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex5.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle\\iff a_{i}(a_{j}x+b_{j})+b_{i}\\leq a_{j}(a_{i}x+b_{i})+b_{j}\\mbox%&#10;{ for any }x\\in\\mathbb{R}\" display=\"inline\"><mrow><mi/><mo>\u21d4</mo><mrow><mrow><mrow><msub><mi>a</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><msub><mi>a</mi><mi>j</mi></msub><mo>\u2062</mo><mi>x</mi></mrow><mo>+</mo><msub><mi>b</mi><mi>j</mi></msub></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><msub><mi>b</mi><mi>i</mi></msub></mrow><mo>\u2264</mo><mrow><mrow><msub><mi>a</mi><mi>j</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><msub><mi>a</mi><mi>i</mi></msub><mo>\u2062</mo><mi>x</mi></mrow><mo>+</mo><msub><mi>b</mi><mi>i</mi></msub></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><mrow><msub><mi>b</mi><mi>j</mi></msub><mo>\u2062</mo><mtext>\u00a0for any\u00a0</mtext><mo>\u2062</mo><mi>x</mi></mrow></mrow><mo>\u2208</mo><mi>\u211d</mi></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E6.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle\\iff b_{i}(1-a_{j})\\leq b_{j}(1-a_{i}).\" display=\"inline\"><mrow><mrow><mi/><mo>\u21d4</mo><mrow><mrow><msub><mi>b</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mn>1</mn><mo>-</mo><msub><mi>a</mi><mi>j</mi></msub></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><mrow><msub><mi>b</mi><mi>j</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mn>1</mn><mo>-</mo><msub><mi>a</mi><mi>i</mi></msub></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nSince \\(\\sigma'(l+1)< \\sigma'(l)\\) implies \\(f_{\\sigma'(l+1)}\\preceq f_{\\sigma'(l)}\\) by the condition of the identity $\\sigma$, \nLemma \\ref{lemma:localchange} implies that $\\tau$\nis also optimal for the problem. \nSince \\(\\tau\\) has an inversion number smaller than the one for $\\sigma'$,  \nwe derive a contradiction. \nTherefore, \\(\\sigma'\\) is the identity. \n\\end{proof}\n\nAs mentioned above, if the relation \\(\\preceq\\) is in addition transitive (i.e., \\(\\preceq\\) is a total preorder), then \nsuch a $\\sigma$ always exists. \n\nTo efficiently solve the maximum partial composition ordering problem for the linear functions, we show that \nfor $\\overline{f}_i(x)=\\max \\{a_ix+b_i,x\\}$ $ (a_i\\ge 0)$, \n(i) there exists a permutation \\(\\sigma\\) which satisfies the condition in Lemma \\ref{lemma:extotalorder} and\n(ii) the permutation $\\sigma$ can be computed efficiently. \nWe analyze the relation $\\preceq$ in terms of the following $\\gamma$ and $\\delta$,\nand provide an efficient algorithm. \n\\begin{definition}\nFor a linear function \\(f(x)=ax+b\\), we define \n\n", "itemtype": "equation", "pos": 29883, "prevtext": "\nSince the last inequality consists of the constants only, we have $f_i\\preceq f_j$ or $f_i\\succeq f_j$.\n\\end{proof}\n\n\\noindent\nThe totality of the relation is proven in Lemma \\ref{lemma:gammaprec-check}, when all functions are  of  the form \\(\\max\\{ax+b,x\\}\\) with $a \\geq 0$.\n\nWe further note that the relation \\(\\preceq\\) is transitive for linear functions $f(x)=ax+b$ with $a>1$, \nsince (\\ref{eq:lprec}) is equivalent to $b_i/(1-a_i)\\le b_j/(1-a_j)$, and hence  the ordering $b_1/(1-a_1)\\le b_2/(1-a_2) \\le \\dots \\le  b_n/(1-a_n)$ gives an optimal solution for the maximum total composition ordering problem. \nTherefore, it can be solved efficiently by sorting the elements by $b_i/(1-a_i)$. \nThe same statement holds when all linear functions have slope less than $1$.\nThis idea is used for the linear  deterioration  and   linear shortening models for time-dependent scheduling problems. \nHowever,  in general, this is not the case, i.e.,   the relation \\(\\preceq\\) does not satisfy transitivity. \nLet \\(f_1(x)=2x+1\\), \\(f_2(x)=2x-1\\), and \\(f_3(x)=x/2\\). \nThen we have \\(f_1\\prec f_2\\), \\(f_2\\prec f_3\\), and \\(f_3\\prec f_1\\), \nwhich implies that the transitivity is not satisfied for linear functions, \nand \\(\\overline{f}_1\\prec \\overline{f}_2\\), \\(\\overline{f}_2\\prec \\overline{f}_3\\), and \\(\\overline{f}_3\\prec \\overline{f}_1\\) hold, implying that \nthe transitivity is not satisfied for the functions of the form \\(\\max\\{ax+b,x\\}\\) with $a \\geq 0$. \n\nThese show that the maximum total and partial composition ordering problems are not trivial, even when all functions are monotone and linear.\n\n\n\n\n\n\n\n\nWe first show the following key lemma which can be used even for {\\em non-transitive} relations. \n\\begin{lemma}\\label{lemma:extotalorder}\nFor monotone nondecreasing  functions $f_i:\\mathbb{R} \\to \\mathbb{R}$ \\((i \\in [n])\\), \n\n\nif a permutation \\(\\sigma: [n] \\to [n] \\) satisfies that $i \\le j $  implies $f_{\\sigma(i)}\\preceq f_{\\sigma(j)}$ for any \\(i,j\\in[n]\\),\nthen \\(\\sigma\\) is an optimal solution for the maximum total composition ordering problem\nfor \\(((f_i)_{i\\in[n]},c)\\).\n\n\n\n\n\n\\end{lemma}\n\\begin{proof}\nWithout loss of generality,\nwe may assume that \\(\\sigma\\) is the identity permutation.\nLet \\(\\sigma'\\) be an optimal solution for the maximum total composition ordering problem such that it has the minimum inversion number.\nHere, the inversion number denotes the number of pairs $(i,j)$ with $i<j$ and $\\sigma'(i)>\\sigma'(j)$. \nThen we show that \\(\\sigma'\\) is the identity permutation by contradiction.\nAssume that \\(\\sigma'(l)>\\sigma'(l+1)\\) for some $l$. \nThen consider the following permutation:\n\n", "index": 19, "text": "\\begin{align*}\n\\tau(i)=\\begin{cases}\n\\sigma'(i) &(i\\ne l,~l+1),\\\\\n\\sigma'(l+1) & (i=l),\\\\\n\\sigma'(l)   & (i=l+1). \n\\end{cases}\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex6.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle\\tau(i)=\\begin{cases}\\sigma^{\\prime}(i)&amp;(i\\neq l,~{}l+1),\\\\&#10;\\sigma^{\\prime}(l+1)&amp;(i=l),\\\\&#10;\\sigma^{\\prime}(l)&amp;(i=l+1).\\end{cases}\" display=\"inline\"><mrow><mrow><mi>\u03c4</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mo>{</mo><mtable columnspacing=\"5pt\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mrow><msup><mi>\u03c3</mi><mo>\u2032</mo></msup><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>i</mi><mo>\u2260</mo><mrow><mi>l</mi><mo rspace=\"5.8pt\">,</mo><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow></mrow></mrow><mo stretchy=\"false\">)</mo></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><msup><mi>\u03c3</mi><mo>\u2032</mo></msup><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>i</mi><mo>=</mo><mi>l</mi></mrow><mo stretchy=\"false\">)</mo></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><msup><mi>\u03c3</mi><mo>\u2032</mo></msup><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>i</mi><mo>=</mo><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow></mrow><mo stretchy=\"false\">)</mo></mrow><mo>.</mo></mrow></mtd></mtr></mtable></mrow></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\n\\end{definition}\n\\noindent Note that \\(\\gamma(f)\\) is the solution of the equation \\(f(x)=x\\) if  $\\gamma(f)\\not= -\\infty, +\\infty$. \nIn the rest of the paper, we assume without loss of generality that no $f_i$ is identity (i.e., \\(f_i(x)=x\\)), since we can ignore identity function for both the total and partial composition problems. \n\n\nLet $\\sigma:[n]\\to [n]$ denote a permutation that is {\\em compatible} with the lexicographic ordering with respect to $(\\delta(f_i), \\gamma(f_i))$, i.e., \n $(\\delta(f_{\\sigma(i)}), \\gamma(f_{\\sigma(i)}))$ is lexicographically smaller than or equal to $(\\delta(f_{\\sigma(j)}), \\gamma(f_{\\sigma(j)}))$ if $i<j$.\nNamely, there exists an integer $k$ such that $0\\leq k \\leq n$,  \n\\(\\delta(f_{\\sigma(1)})=\\dots=\\delta(f_{\\sigma(k)})=-1\\),\n\\(\\delta(f_{\\sigma(k+1)})=\\dots=\\delta(f_{\\sigma(n)})=+1\\),\n \\(\\gamma(f_{\\sigma(1)})\\le\\dots\\le\\gamma(f_{\\sigma(k)})\\),  and \n\\(\\gamma(f_{\\sigma(k+1)})\\le\\dots\\le\\gamma(f_{\\sigma(n)})\\).\n\nWe prove that the lexicographic order satisfies the condition in Lemma \\ref{lemma:extotalorder} and\nthus, the order is the optimal solution.\n\\begin{lemma}\n\\label{lemma-ee}\nFor monotone nondecreasing linear functions $f_i$ $(i \\in [n])$, \nlet $\\sigma$ denote a permutation compatible with the lexicographic order with respect to $(\\delta(f_i), \\gamma(f_i))$. \nThen $i \\le j$ implies  $\\overline{f}_{\\sigma(i)}\\preceq \\overline{f}_{\\sigma(j)}$ for any \\(i,j\\in[n]\\).\n\\end{lemma}\nBefore proving Lemma \\ref{lemma-ee}, we discuss algorithms for the maximum partial composition ordering problem.\n\n\\subsection{Algorithms}\nBy Lemma \\ref{lemma-ee},\n\nthe maximum total composition ordering problem $((\\overline{f}_i)_{i\\in[n],c})$ such that $f_i$'s are monotone nondecreasing linear functions can be solved by computing the lexicographic order with respect to $(\\delta(f_i), \\gamma(f_i))$. \nTherefore, it can be solved in \\({\\mathrm{O}}(n\\log n)\\) time.\nThis is our algorithm for the partial composition part of Theorem \\ref{theorem:partial-total}.\nWe remark that the time complexity \\({\\mathrm{O}}(n\\log n)\\) of the problem is the best possible  in the comparison model. \nWe also remark that the optimal value for the maximum partial composition ordering problem for \\(f_i(x)=a_ix+b_i\\) \\((a_i\\ge 0)\\) forms a piecewise linear function (in $c$) with at most \\((n+1)\\) pieces.\n\n\n\\medskip\nNext, for $i \\in [n]$,\nlet \\(f_i(x)=a_ix+b_i\\) be a monotone nondecreasing linear function\nand let $h_i(x)=\\max\\{f_i(x),c_i\\}$ for some constant $c_i$. \nWe give an efficient algorithm for\nthe maximum partial composition ordering problem $((h_i)_{i\\in[n]},c)$,\nwhich is the tractability result of Theorem \\ref{theorem:pconst}. \nAs mentioned in the introduction, \nthe problem includes \nthe two-valued free-order secretary problem, \nand it is a generalization of the maximum partial composition ordering problem for monotone linear functions. \n\nBy Lemma \\ref{lemma:partialtotal}, \nwe instead consider the maximum total composition ordering problem for the functions \n\n", "itemtype": "equation", "pos": 31077, "prevtext": "\nSince \\(\\sigma'(l+1)< \\sigma'(l)\\) implies \\(f_{\\sigma'(l+1)}\\preceq f_{\\sigma'(l)}\\) by the condition of the identity $\\sigma$, \nLemma \\ref{lemma:localchange} implies that $\\tau$\nis also optimal for the problem. \nSince \\(\\tau\\) has an inversion number smaller than the one for $\\sigma'$,  \nwe derive a contradiction. \nTherefore, \\(\\sigma'\\) is the identity. \n\\end{proof}\n\nAs mentioned above, if the relation \\(\\preceq\\) is in addition transitive (i.e., \\(\\preceq\\) is a total preorder), then \nsuch a $\\sigma$ always exists. \n\nTo efficiently solve the maximum partial composition ordering problem for the linear functions, we show that \nfor $\\overline{f}_i(x)=\\max \\{a_ix+b_i,x\\}$ $ (a_i\\ge 0)$, \n(i) there exists a permutation \\(\\sigma\\) which satisfies the condition in Lemma \\ref{lemma:extotalorder} and\n(ii) the permutation $\\sigma$ can be computed efficiently. \nWe analyze the relation $\\preceq$ in terms of the following $\\gamma$ and $\\delta$,\nand provide an efficient algorithm. \n\\begin{definition}\nFor a linear function \\(f(x)=ax+b\\), we define \n\n", "index": 21, "text": "\\begin{align*}\n\\gamma(f)=\n\\begin{cases}\n\\frac{b}{1-a}&(a\\ne 1),\\\\\n+\\infty&(a=1~\\text{and}~b<0),\\\\\n-\\infty&(a=1~\\text{and}~b\\ge 0)\n\\end{cases}\n\\quad\\text{and}\\quad\n\\delta(f)=\n\\begin{cases}\n+1&(a\\ge 1),\\\\\n-1&(a<1).\n\\end{cases}\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex7.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle\\gamma(f)=\\begin{cases}\\frac{b}{1-a}&amp;(a\\neq 1),\\\\&#10;+\\infty&amp;(a=1~{}\\text{and}~{}b&lt;0),\\\\&#10;-\\infty&amp;(a=1~{}\\text{and}~{}b\\geq 0)\\end{cases}\\quad\\text{and}\\quad\\delta(f)=%&#10;\\begin{cases}+1&amp;(a\\geq 1),\\\\&#10;-1&amp;(a&lt;1).\\end{cases}\" display=\"inline\"><mrow><mrow><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>f</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><mo>{</mo><mtable columnspacing=\"5pt\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mfrac><mi>b</mi><mrow><mn>1</mn><mo>-</mo><mi>a</mi></mrow></mfrac></mtd><mtd columnalign=\"left\"><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>a</mi><mo>\u2260</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><mo>+</mo><mi mathvariant=\"normal\">\u221e</mi></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>a</mi><mo>=</mo><mrow><mpadded width=\"+3.3pt\"><mn>1</mn></mpadded><mo>\u2062</mo><mpadded width=\"+3.3pt\"><mtext>and</mtext></mpadded><mo>\u2062</mo><mi>b</mi></mrow><mo>&lt;</mo><mn>0</mn></mrow><mo stretchy=\"false\">)</mo></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><mo>-</mo><mi mathvariant=\"normal\">\u221e</mi></mrow></mtd><mtd columnalign=\"left\"><mrow><mo stretchy=\"false\">(</mo><mrow><mi>a</mi><mo>=</mo><mrow><mpadded width=\"+3.3pt\"><mn>1</mn></mpadded><mo>\u2062</mo><mpadded width=\"+3.3pt\"><mtext>and</mtext></mpadded><mo>\u2062</mo><mi>b</mi></mrow><mo>\u2265</mo><mn>0</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mtd></mtr></mtable></mrow><mo mathvariant=\"italic\" separator=\"true\">\u2003</mo><mtext>and</mtext></mrow></mrow><mo mathvariant=\"italic\" separator=\"true\">\u2003</mo><mrow><mrow><mi>\u03b4</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>f</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mo>{</mo><mtable columnspacing=\"5pt\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mrow><mo>+</mo><mn>1</mn></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>a</mi><mo>\u2265</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><mo>-</mo><mn>1</mn></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>a</mi><mo>&lt;</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow><mo>.</mo></mrow></mtd></mtr></mtable></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nwhere \\(\\mathbb{R}_+\\) is the set of nonnegative real numbers.\n\n\\begin{lemma}\n\\label{lemma-1ab}\nLet $c\\in\\mathbb{R}$, and let $\\overline{h}_i$ $(i \\in [n])$ be a function defined as $(\\ref{eq-111a})$.\nThen there exists an optimal solution \\(\\sigma\\)\nfor the maximum total composition ordering problem $((\\overline{h}_i)_{i\\in[n]},c)$ \nsuch that no $i\\,(>1)$ satisfies \\(\\overline{f}_{\\sigma(i)}\\circ\\overline{h}_{\\sigma(i-1)}\\circ\\dots\\circ \\overline{h}_{\\sigma(1)}(c)< c_{\\sigma(i)}\\),\nwhere $\\overline{f}_i(x)=\\max\\{a_ix+b_i,x\\}$. \n\\end{lemma}\n\\begin{proof}\nLet $\\sigma$ denote an optimal solution for the problem. \nAssume that there exists an index \\(i\\) that satisfies the condition in the lemma. \nLet $i^*$ denote the largest such $i$. \nThen by the definition of $i^*$, we have $\\overline{h}_{\\sigma(i^*)}\\circ\\dots\\circ \\overline{h}_{\\sigma(1)}(c)=\\overline{h}_{\\sigma(i^*)}(c)=c_{\\sigma(i^*)}$. \nIt holds that \n \\(c_{\\sigma(i)}< c_{\\sigma(i^*)}\\) for any $i$ with \\(0\\leq i< i^*\\), \nsince \n\\(c_{\\sigma(i)}\\le \\overline{h}_{\\sigma(i)}\\circ\\dots\\circ \\overline{h}_{\\sigma(1)}(c)\\le \\overline{h}_{\\sigma(i^*-1)}\\circ\\dots\\circ \\overline{h}_{\\sigma(1)}(c)< c_{\\sigma(i^*)}\\), \nwhere $c_{\\sigma(0)}=c$ is assumed. \nThus, we have\n\\(\n\\overline{h}_{\\sigma(n)}\\circ\\dots\\circ \\overline{h}_{\\sigma(1)}(c)\n= \\overline{h}_{\\sigma(n)}\\circ\\dots\\circ \\overline{h}_{\\sigma(i^*)}(c)\n\\le \\overline{h}_{\\sigma(i^*-1)}\\circ\\dots\\circ \\overline{h}_{\\sigma(1)}\\circ \\overline{h}_{\\sigma(n)}\\circ\\dots\\circ \\overline{h}_{\\sigma(i^*)}(c).\n\\)\nThis implies that $(\\sigma(i^*), \\dots \\sigma(n),\\sigma(1). \\dots , \\sigma(i^*-1))$ is also an optimal permutation for the problem. \nMoreover, in the composition according to this permutation,\nthe constant part of $\\bar{h}_i$ $(i\\not=i^*)$ is not explicitly used by the definition of $i^*$\n and \\(c_{\\sigma(i)}< c_{\\sigma(i^*)}\\) for any $i \\,(< i^*)$, which completes the proof. \n\\end{proof}\n\n\n\n\nIt follows from Lemma \\ref{lemma-1ab} that \n an optimal solution for the problem can be obtained by solving the following $n+1$ instances of the maximum partial composition ordering problem for monotone nondecreasing linear functions $((f_i)_{i\\in[n]},c)$ and $((f_i)_{i\\in[n]\\setminus\\{k\\}},c_k)$  for all $k\\in[n]$. \n\nTherefore, we have an \\({\\mathrm{O}}(n^2 \\log n)\\)-time algorithm by directly applying Theorem \\ref{theorem:partial-total} to the problems.\nMoreover, we note that\nthe maximum partial composition ordering problem for monotone nondecreasing linear functions\ncan be solved in linear time if we know the lexicographic order.\nThis implies that the problem can be solved in  \\({\\mathrm{O}}(n^2)\\) time by first computing the lexicographic order with respect to  $(\\delta(f_i), \\gamma(f_i))$.  \nThis is our algorithm for Theorem \\ref{theorem:pconst}.\n\n\\subsection{The proof of Lemma \\ref{lemma-ee}}\nIn this subsection, we prove Lemma \\ref{lemma-ee}.\nWe first consider the relationship between two linear functions.\nThe proof can be found in Appendix.\n\\begin{lemma}\\label{lemma:gammaprec}\nLet \\(f_i(x)=a_ix+b_i\\) and \\(f_j(x)=a_jx+b_j\\) be $($non-identity$)$ monotone nondecreasing functions $($i.e., \\((a_i,b_i),(a_j,b_j)\\ne (1,0)\\), \\(a_i,a_j\\ge 0\\)$)$. \nThen we have the following statements;\n\\begin{enumerate}\n\\item if \\(a_i,a_j=1\\), then \\(f_i\\simeq f_j\\),  \\label{lemma:gammaprec11}\n\\item if \\(a_i,a_j\\ge 1\\) and \\(a_i\\cdot a_j>1\\), then \\(f_i\\preceq f_j{\\Leftrightarrow}\\gamma(f_i)\\le \\gamma(f_j)\\),  \\label{lemma:gammaprec++}\n\\item if \\(a_i,a_j<1\\), then \\(f_i\\preceq f_j{\\Leftrightarrow}\\gamma(f_i)\\le \\gamma(f_j)\\), \\label{lemma:gammaprec--}\n\\item if \\(a_i\\ge 1\\), \\(a_j<1\\), then \\(f_i\\preceq f_j{\\Leftrightarrow}\\gamma(f_i)\\ge \\gamma(f_j)\\) and \\(f_i\\succeq f_j{\\Leftrightarrow}\\gamma(f_i)\\le \\gamma(f_j)\\).\\label{lemma:gammaprec+-}\n\n\\end{enumerate}\n\\end{lemma}\nBy this lemma, the relation \\(\\preceq\\) is total preorder for the both cases \\(a_1,a_2,\\dots,a_n\\ge 1\\) and \\(a_1,a_2,\\dots,a_n<1\\).\nMoreover, the permutation \\(\\sigma:[n]\\to [n]\\) such that \\(\\gamma(f_{\\sigma(1)})\\le\\dots\\le\\gamma(f_{\\sigma(n)})\\) is optimal for the cases.\nThis result matches the results \nin the time-dependent scheduling problem\nof the linear deterioration model (when \\(a_1,a_2,\\dots,a_n\\ge 1\\))\nand the linear shortening model (when \\(a_1,a_2,\\dots,a_n< 1\\)).\n\nNext we characterize the relationship between two functions of the form \\(\\max\\{a_ix+b_i,x\\}\\),\nthe proof can be found in Appendix.\n\\begin{lemma}\\label{lemma:gammaprec-check}\nFor $($non-identity$)$ monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\) and \\(f_j(x)=a_jx+b_j\\),  \nwe have the following statements;\n\\begin{enumerate}\n\\item if \\(a_i, a_j \\geq 1\\) and \\(\\gamma(f_i)\\le \\gamma(f_j)\\), then \\(\\overline{f}_i\\preceq \\overline{f}_j\\),\\label{lemma:gammaprec-check++}\n\\item if \\(a_i, a_j < 1\\)  and \\(\\gamma(f_i)\\le \\gamma(f_j)\\), then \\(\\overline{f}_i\\preceq \\overline{f}_j\\), \\label{lemma:gammaprec-check--}\n\\item if \\(a_i <1 \\), \\(a_j \\geq 1\\), and \\(\\gamma(f_i)\\le \\gamma(f_j)\\), then \\(\\overline{f}_i\\simeq \\overline{f}_j\\),\\label{lemma:gammaprec-check-+}\n\\item if \\(a_i \\geq 1\\), \\(a_j<1\\), and \\(\\gamma(f_i)\\le \\gamma(f_j)\\), then \\(\\overline{f}_i\\succeq \\overline{f}_j\\).\\label{lemma:gammaprec-check+-}\n\\end{enumerate}\n\\end{lemma}\n\n\nNote that Lemma \\ref{lemma:gammaprec-check} implies that the relation $\\preceq$ is total for the functions of the form \\(\\max \\{ax+b,x\\}\\) with $a\\geq 0$. \nMoreover, it is easy to check that the lexicographic order with respect to  $(\\delta(f_i), \\gamma(f_i))$\nsatisfies the condition in Lemma \\ref{lemma:extotalorder}, i.e.,\n$i<j$ implies \\(\\overline{f}_{\\sigma(i)}\\preceq \\overline{f}_{\\sigma(j)}\\)\nfor the permutation $\\sigma$ that is compatible with the ordering.\nTherefore, we have Lemma \\ref{lemma-ee}.\n\n\n\n\n\n\n\n\n\\section{Maximum Total Composition and Exact $k$-composition Ordering Problems}\\label{sec:maxtcop}\nIn this section we prove the total composition part of Theorem \\ref{theorem:partial-total} and Theorem \\ref{theorem:exact}.\nDifferent from the case when each function is of form $\\max\\{a_ix+b_i,x\\}$,\nthe binary relation $\\preceq$ for linear functions does not satisfy the condition in Lemma \\ref{lemma:extotalorder}.\nIn fact, we do not know if there exists such a simple criterion on the maximum total composition ordering.  \nWe instead present an efficient algorithm that chooses the best ordering among linearly many candidates.\nOur main result is the following lemma.\n\\begin{lemma}\n\\label{lemma:tc}\nFor monotone nondecreasing linear functions $f_i$ $(i \\in [n])$, \nlet $\\sigma$ denote a permutation compatible with the lexicographic order with respect to $(\\delta(f_i), \\gamma(f_i))$. \nThen an optimal solution for the maximum total composition ordering problem \\(((f_i)_{i\\in[n]},c)\\) is\n\n", "itemtype": "equation", "pos": 34318, "prevtext": "\n\\end{definition}\n\\noindent Note that \\(\\gamma(f)\\) is the solution of the equation \\(f(x)=x\\) if  $\\gamma(f)\\not= -\\infty, +\\infty$. \nIn the rest of the paper, we assume without loss of generality that no $f_i$ is identity (i.e., \\(f_i(x)=x\\)), since we can ignore identity function for both the total and partial composition problems. \n\n\nLet $\\sigma:[n]\\to [n]$ denote a permutation that is {\\em compatible} with the lexicographic ordering with respect to $(\\delta(f_i), \\gamma(f_i))$, i.e., \n $(\\delta(f_{\\sigma(i)}), \\gamma(f_{\\sigma(i)}))$ is lexicographically smaller than or equal to $(\\delta(f_{\\sigma(j)}), \\gamma(f_{\\sigma(j)}))$ if $i<j$.\nNamely, there exists an integer $k$ such that $0\\leq k \\leq n$,  \n\\(\\delta(f_{\\sigma(1)})=\\dots=\\delta(f_{\\sigma(k)})=-1\\),\n\\(\\delta(f_{\\sigma(k+1)})=\\dots=\\delta(f_{\\sigma(n)})=+1\\),\n \\(\\gamma(f_{\\sigma(1)})\\le\\dots\\le\\gamma(f_{\\sigma(k)})\\),  and \n\\(\\gamma(f_{\\sigma(k+1)})\\le\\dots\\le\\gamma(f_{\\sigma(n)})\\).\n\nWe prove that the lexicographic order satisfies the condition in Lemma \\ref{lemma:extotalorder} and\nthus, the order is the optimal solution.\n\\begin{lemma}\n\\label{lemma-ee}\nFor monotone nondecreasing linear functions $f_i$ $(i \\in [n])$, \nlet $\\sigma$ denote a permutation compatible with the lexicographic order with respect to $(\\delta(f_i), \\gamma(f_i))$. \nThen $i \\le j$ implies  $\\overline{f}_{\\sigma(i)}\\preceq \\overline{f}_{\\sigma(j)}$ for any \\(i,j\\in[n]\\).\n\\end{lemma}\nBefore proving Lemma \\ref{lemma-ee}, we discuss algorithms for the maximum partial composition ordering problem.\n\n\\subsection{Algorithms}\nBy Lemma \\ref{lemma-ee},\n\nthe maximum total composition ordering problem $((\\overline{f}_i)_{i\\in[n],c})$ such that $f_i$'s are monotone nondecreasing linear functions can be solved by computing the lexicographic order with respect to $(\\delta(f_i), \\gamma(f_i))$. \nTherefore, it can be solved in \\({\\mathrm{O}}(n\\log n)\\) time.\nThis is our algorithm for the partial composition part of Theorem \\ref{theorem:partial-total}.\nWe remark that the time complexity \\({\\mathrm{O}}(n\\log n)\\) of the problem is the best possible  in the comparison model. \nWe also remark that the optimal value for the maximum partial composition ordering problem for \\(f_i(x)=a_ix+b_i\\) \\((a_i\\ge 0)\\) forms a piecewise linear function (in $c$) with at most \\((n+1)\\) pieces.\n\n\n\\medskip\nNext, for $i \\in [n]$,\nlet \\(f_i(x)=a_ix+b_i\\) be a monotone nondecreasing linear function\nand let $h_i(x)=\\max\\{f_i(x),c_i\\}$ for some constant $c_i$. \nWe give an efficient algorithm for\nthe maximum partial composition ordering problem $((h_i)_{i\\in[n]},c)$,\nwhich is the tractability result of Theorem \\ref{theorem:pconst}. \nAs mentioned in the introduction, \nthe problem includes \nthe two-valued free-order secretary problem, \nand it is a generalization of the maximum partial composition ordering problem for monotone linear functions. \n\nBy Lemma \\ref{lemma:partialtotal}, \nwe instead consider the maximum total composition ordering problem for the functions \n\n", "index": 23, "text": "\\begin{equation}\n\\label{eq-111a}\n\\overline{h}_i(x) =\\max\\{a_ix+b_i, c_i, x\\} \\mbox{ for } a_i\\in\\mathbb{R}_+,~ b_i,c_i \\in\\mathbb{R},\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E7.m1\" class=\"ltx_Math\" alttext=\"\\overline{h}_{i}(x)=\\max\\{a_{i}x+b_{i},c_{i},x\\}\\mbox{ for }a_{i}\\in\\mathbb{R}%&#10;_{+},~{}b_{i},c_{i}\\in\\mathbb{R},\" display=\"block\"><mrow><mrow><mrow><mrow><msub><mover accent=\"true\"><mi>h</mi><mo>\u00af</mo></mover><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mrow><msub><mi>a</mi><mi>i</mi></msub><mo>\u2062</mo><mi>x</mi></mrow><mo>+</mo><msub><mi>b</mi><mi>i</mi></msub></mrow><mo>,</mo><msub><mi>c</mi><mi>i</mi></msub><mo>,</mo><mi>x</mi><mo stretchy=\"false\">}</mo></mrow></mrow><mo>\u2062</mo><mtext>\u00a0for\u00a0</mtext><mo>\u2062</mo><msub><mi>a</mi><mi>i</mi></msub></mrow><mo>\u2208</mo><msub><mi>\u211d</mi><mo>+</mo></msub></mrow><mo rspace=\"5.8pt\">,</mo><mrow><mrow><msub><mi>b</mi><mi>i</mi></msub><mo>,</mo><msub><mi>c</mi><mi>i</mi></msub></mrow><mo>\u2208</mo><mi>\u211d</mi></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nfor some $t$.\n\\end{lemma}\n\nBefore proving Lemma \\ref{lemma:tc}, we discuss algorithms for the maximum total composition and the exact $k$-composition ordering problems.\n\n\\subsection{Algorithm for Total Composition}\nIn this subsection, we prove the total composition part of Theorem \\ref{theorem:partial-total}, i.e.,\nwe provide an efficient algorithm for the maximum total composition ordering problem \\(((f_i(x)=a_ix+b_i)_{i\\in[n]},c)\\), where \\(a_i\\ge 0\\).\nLet \\(\\sigma:[n]\\to[n]\\) be a permutation compatible with the lexicographic order with respect to $(\\delta(f_i), \\gamma(f_i))$.\nThen there exists an optimal solution of the form \n\\((\\sigma(t),\\sigma(t+1),\\dots,\\sigma(n),\\sigma(1),\\sigma(2),\\dots,\\sigma(t-1))\\) for some $t$ by Lemma \\ref{lemma:tc}.\nTherefore, the problem can be computed in polynomial time by checking $n$ permutations above. \nTo reduce the time complexity, let $d_k=f_{\\sigma(k-1)}\\circ\\dots\\circ f_{\\sigma(1)}\\circ f_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(k)}(c)$ for $k=1,\\dots, n$ and let \\(a=\\prod_{i=1}^n a_i\\).\nThen it is not difficult to see that \n\\(d_{k+1}=a_{\\sigma(k)}\\cdot (d_k-a\\cdot c)-b_{\\sigma(k)}\\cdot(a-1)+a \\cdot c, \\)\nand hence the problem is solvable in ${\\mathrm{O}}(n\\log n)$ time. \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\\subsection{exact $k$-composition}\nIn this subsection, we prove Theorem \\ref{theorem:exact}, i.e.,\nwe provide an efficient algorithm for the maximum exact $k$-composition ordering problem \\(((f_i(x)=a_ix+b_i)_{i\\in[n]},c)\\), where \\(a_i\\ge 0\\).\nWe use a dynamic programming to find the optimal value.\n\nFor simplicity, we relabel the indices of functions\nso that the lexicographic order of $(\\delta(f_i), \\gamma(f_i))$ is monotone increasing.\n\n\n\n\nWe use dynamic programming to solve the problem.\nLet $m(i,j,l)$ be the maximum value of $f_{\\sigma(l)}\\circ\\dots\\circ f_{\\sigma(1)}(c)$\nfor a permutation $\\sigma$\nsuch that $i\\le \\sigma(1)<\\sigma(2)<\\dots<\\sigma(l)\\le i+j-1$ if $i+j-1\\le n$,\nand $i\\le \\sigma(1)<\\dots<\\sigma(p)\\le n,~1\\le \\sigma(p+1)<\\dots<\\sigma(l)\\le i+j-1-n$ for some $p~(0\\le p\\le l)$ if $i+j-1>n$.\nWe claim that the optimal value for the problem is $\\max_{i=1}^n m(i,n,k)$.\n\nLet $\\sigma^*: [n]\\to [n]$ be an optimal permutation for the problem.\nBy Lemma \\ref{lemma:tc},\nwe can assume that\n$i^*\\le \\sigma^*(1)<\\dots<\\sigma^*(p)\\le n,~1\\le \\sigma^*(p+1)<\\dots<\\sigma^*(k)\\le i^*-1$\nfor some $i^*$ and $p$.\nTherefore, we have $f_{\\sigma^*(k)}\\circ\\dots\\circ f_{\\sigma^*(1)}(c)\\le m(i^*,n,k)\\le \\max_{i=1}^n m(i,n,k)$ and, thus, $\\max_{i=1}^n m(i,n,k)$ is the optimal value for the problem.\n\nFor each $i,j,l$, the value $m(i,j,l)$ satisfies the following relation:\n\n", "itemtype": "equation", "pos": 41220, "prevtext": "\nwhere \\(\\mathbb{R}_+\\) is the set of nonnegative real numbers.\n\n\\begin{lemma}\n\\label{lemma-1ab}\nLet $c\\in\\mathbb{R}$, and let $\\overline{h}_i$ $(i \\in [n])$ be a function defined as $(\\ref{eq-111a})$.\nThen there exists an optimal solution \\(\\sigma\\)\nfor the maximum total composition ordering problem $((\\overline{h}_i)_{i\\in[n]},c)$ \nsuch that no $i\\,(>1)$ satisfies \\(\\overline{f}_{\\sigma(i)}\\circ\\overline{h}_{\\sigma(i-1)}\\circ\\dots\\circ \\overline{h}_{\\sigma(1)}(c)< c_{\\sigma(i)}\\),\nwhere $\\overline{f}_i(x)=\\max\\{a_ix+b_i,x\\}$. \n\\end{lemma}\n\\begin{proof}\nLet $\\sigma$ denote an optimal solution for the problem. \nAssume that there exists an index \\(i\\) that satisfies the condition in the lemma. \nLet $i^*$ denote the largest such $i$. \nThen by the definition of $i^*$, we have $\\overline{h}_{\\sigma(i^*)}\\circ\\dots\\circ \\overline{h}_{\\sigma(1)}(c)=\\overline{h}_{\\sigma(i^*)}(c)=c_{\\sigma(i^*)}$. \nIt holds that \n \\(c_{\\sigma(i)}< c_{\\sigma(i^*)}\\) for any $i$ with \\(0\\leq i< i^*\\), \nsince \n\\(c_{\\sigma(i)}\\le \\overline{h}_{\\sigma(i)}\\circ\\dots\\circ \\overline{h}_{\\sigma(1)}(c)\\le \\overline{h}_{\\sigma(i^*-1)}\\circ\\dots\\circ \\overline{h}_{\\sigma(1)}(c)< c_{\\sigma(i^*)}\\), \nwhere $c_{\\sigma(0)}=c$ is assumed. \nThus, we have\n\\(\n\\overline{h}_{\\sigma(n)}\\circ\\dots\\circ \\overline{h}_{\\sigma(1)}(c)\n= \\overline{h}_{\\sigma(n)}\\circ\\dots\\circ \\overline{h}_{\\sigma(i^*)}(c)\n\\le \\overline{h}_{\\sigma(i^*-1)}\\circ\\dots\\circ \\overline{h}_{\\sigma(1)}\\circ \\overline{h}_{\\sigma(n)}\\circ\\dots\\circ \\overline{h}_{\\sigma(i^*)}(c).\n\\)\nThis implies that $(\\sigma(i^*), \\dots \\sigma(n),\\sigma(1). \\dots , \\sigma(i^*-1))$ is also an optimal permutation for the problem. \nMoreover, in the composition according to this permutation,\nthe constant part of $\\bar{h}_i$ $(i\\not=i^*)$ is not explicitly used by the definition of $i^*$\n and \\(c_{\\sigma(i)}< c_{\\sigma(i^*)}\\) for any $i \\,(< i^*)$, which completes the proof. \n\\end{proof}\n\n\n\n\nIt follows from Lemma \\ref{lemma-1ab} that \n an optimal solution for the problem can be obtained by solving the following $n+1$ instances of the maximum partial composition ordering problem for monotone nondecreasing linear functions $((f_i)_{i\\in[n]},c)$ and $((f_i)_{i\\in[n]\\setminus\\{k\\}},c_k)$  for all $k\\in[n]$. \n\nTherefore, we have an \\({\\mathrm{O}}(n^2 \\log n)\\)-time algorithm by directly applying Theorem \\ref{theorem:partial-total} to the problems.\nMoreover, we note that\nthe maximum partial composition ordering problem for monotone nondecreasing linear functions\ncan be solved in linear time if we know the lexicographic order.\nThis implies that the problem can be solved in  \\({\\mathrm{O}}(n^2)\\) time by first computing the lexicographic order with respect to  $(\\delta(f_i), \\gamma(f_i))$.  \nThis is our algorithm for Theorem \\ref{theorem:pconst}.\n\n\\subsection{The proof of Lemma \\ref{lemma-ee}}\nIn this subsection, we prove Lemma \\ref{lemma-ee}.\nWe first consider the relationship between two linear functions.\nThe proof can be found in Appendix.\n\\begin{lemma}\\label{lemma:gammaprec}\nLet \\(f_i(x)=a_ix+b_i\\) and \\(f_j(x)=a_jx+b_j\\) be $($non-identity$)$ monotone nondecreasing functions $($i.e., \\((a_i,b_i),(a_j,b_j)\\ne (1,0)\\), \\(a_i,a_j\\ge 0\\)$)$. \nThen we have the following statements;\n\\begin{enumerate}\n\\item if \\(a_i,a_j=1\\), then \\(f_i\\simeq f_j\\),  \\label{lemma:gammaprec11}\n\\item if \\(a_i,a_j\\ge 1\\) and \\(a_i\\cdot a_j>1\\), then \\(f_i\\preceq f_j{\\Leftrightarrow}\\gamma(f_i)\\le \\gamma(f_j)\\),  \\label{lemma:gammaprec++}\n\\item if \\(a_i,a_j<1\\), then \\(f_i\\preceq f_j{\\Leftrightarrow}\\gamma(f_i)\\le \\gamma(f_j)\\), \\label{lemma:gammaprec--}\n\\item if \\(a_i\\ge 1\\), \\(a_j<1\\), then \\(f_i\\preceq f_j{\\Leftrightarrow}\\gamma(f_i)\\ge \\gamma(f_j)\\) and \\(f_i\\succeq f_j{\\Leftrightarrow}\\gamma(f_i)\\le \\gamma(f_j)\\).\\label{lemma:gammaprec+-}\n\n\\end{enumerate}\n\\end{lemma}\nBy this lemma, the relation \\(\\preceq\\) is total preorder for the both cases \\(a_1,a_2,\\dots,a_n\\ge 1\\) and \\(a_1,a_2,\\dots,a_n<1\\).\nMoreover, the permutation \\(\\sigma:[n]\\to [n]\\) such that \\(\\gamma(f_{\\sigma(1)})\\le\\dots\\le\\gamma(f_{\\sigma(n)})\\) is optimal for the cases.\nThis result matches the results \nin the time-dependent scheduling problem\nof the linear deterioration model (when \\(a_1,a_2,\\dots,a_n\\ge 1\\))\nand the linear shortening model (when \\(a_1,a_2,\\dots,a_n< 1\\)).\n\nNext we characterize the relationship between two functions of the form \\(\\max\\{a_ix+b_i,x\\}\\),\nthe proof can be found in Appendix.\n\\begin{lemma}\\label{lemma:gammaprec-check}\nFor $($non-identity$)$ monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\) and \\(f_j(x)=a_jx+b_j\\),  \nwe have the following statements;\n\\begin{enumerate}\n\\item if \\(a_i, a_j \\geq 1\\) and \\(\\gamma(f_i)\\le \\gamma(f_j)\\), then \\(\\overline{f}_i\\preceq \\overline{f}_j\\),\\label{lemma:gammaprec-check++}\n\\item if \\(a_i, a_j < 1\\)  and \\(\\gamma(f_i)\\le \\gamma(f_j)\\), then \\(\\overline{f}_i\\preceq \\overline{f}_j\\), \\label{lemma:gammaprec-check--}\n\\item if \\(a_i <1 \\), \\(a_j \\geq 1\\), and \\(\\gamma(f_i)\\le \\gamma(f_j)\\), then \\(\\overline{f}_i\\simeq \\overline{f}_j\\),\\label{lemma:gammaprec-check-+}\n\\item if \\(a_i \\geq 1\\), \\(a_j<1\\), and \\(\\gamma(f_i)\\le \\gamma(f_j)\\), then \\(\\overline{f}_i\\succeq \\overline{f}_j\\).\\label{lemma:gammaprec-check+-}\n\\end{enumerate}\n\\end{lemma}\n\n\nNote that Lemma \\ref{lemma:gammaprec-check} implies that the relation $\\preceq$ is total for the functions of the form \\(\\max \\{ax+b,x\\}\\) with $a\\geq 0$. \nMoreover, it is easy to check that the lexicographic order with respect to  $(\\delta(f_i), \\gamma(f_i))$\nsatisfies the condition in Lemma \\ref{lemma:extotalorder}, i.e.,\n$i<j$ implies \\(\\overline{f}_{\\sigma(i)}\\preceq \\overline{f}_{\\sigma(j)}\\)\nfor the permutation $\\sigma$ that is compatible with the ordering.\nTherefore, we have Lemma \\ref{lemma-ee}.\n\n\n\n\n\n\n\n\n\\section{Maximum Total Composition and Exact $k$-composition Ordering Problems}\\label{sec:maxtcop}\nIn this section we prove the total composition part of Theorem \\ref{theorem:partial-total} and Theorem \\ref{theorem:exact}.\nDifferent from the case when each function is of form $\\max\\{a_ix+b_i,x\\}$,\nthe binary relation $\\preceq$ for linear functions does not satisfy the condition in Lemma \\ref{lemma:extotalorder}.\nIn fact, we do not know if there exists such a simple criterion on the maximum total composition ordering.  \nWe instead present an efficient algorithm that chooses the best ordering among linearly many candidates.\nOur main result is the following lemma.\n\\begin{lemma}\n\\label{lemma:tc}\nFor monotone nondecreasing linear functions $f_i$ $(i \\in [n])$, \nlet $\\sigma$ denote a permutation compatible with the lexicographic order with respect to $(\\delta(f_i), \\gamma(f_i))$. \nThen an optimal solution for the maximum total composition ordering problem \\(((f_i)_{i\\in[n]},c)\\) is\n\n", "index": 25, "text": "\\begin{align*}\n  (\\sigma(t),\\sigma(t+1),\\dots,\\sigma(n),\\sigma(1),\\sigma(2),\\dots,\\sigma(t-1))\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex8.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle(\\sigma(t),\\sigma(t+1),\\dots,\\sigma(n),\\sigma(1),\\sigma(2),\\dots,%&#10;\\sigma(t-1))\" display=\"inline\"><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>,</mo><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>,</mo><mi mathvariant=\"normal\">\u2026</mi><mo>,</mo><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>,</mo><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow><mo>,</mo><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>2</mn><mo stretchy=\"false\">)</mo></mrow></mrow><mo>,</mo><mi mathvariant=\"normal\">\u2026</mi><mo>,</mo><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>t</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nTo evaluate $\\max_{i=1}^n m(i,n,k)$,\nour algorithm calculate the values of $m(i,j,l)$ for $0\\le i,j\\le n$ and $0\\le l\\le k$.\nTherefore, we can obtain the optimal value for the problem in ${\\mathrm{O}}(k\\cdot n^2)$ time.\nThe detailed algorithm for the maximum exact $k$-composition problem is shown in Algorithm \\ref{alg:exact}. \n\n\\begin{algorithm}\n\\caption{Maximum Exact $k$-Composition}\\label{alg:exact}\n\\begin{algorithmic}[1]\n\\STATE sort the input functions according to the lexicographic order of $(\\delta(f_i), \\gamma(f_i))$\n\\FOR{\\(l=0\\) to \\(k\\)}\n\\FOR{\\(j=l\\) to \\(n\\)}\n\\FOR{\\(i=1\\) to \\(n\\)}\n\\STATE \\textbf{if} $l=0$ \\textbf{then} $m(i,j,l)\\leftarrow c$\n\\STATE \\textbf{else if} $j=l$ \\textbf{then} $m(i,j,l)\\leftarrow f_{(i+j \\mod{n})}(m(i,j-1,l-1))$\n\\STATE \\textbf{else} $m(i,j,l)\\leftarrow \\max\\{m(i,j-1,l),f_{(i+j\\mod{n})}(m(i,j-1,l-1))\\}$ \n\\ENDFOR\n\\ENDFOR\n\\ENDFOR\n\\STATE return $\\max_{i=1}^n m(i,n,k)$\n\\end{algorithmic}\n\\end{algorithm}\n\n\n\n\n\n\\subsection{The proof of Lemma \\ref{lemma:tc}}\nIn this subsection, we prove Lemma \\ref{lemma:tc}.\nTo overcome the difficulty that \nthe binary relation $\\preceq$ for linear functions does not satisfy the condition in Lemma \\ref{lemma:extotalorder}, \nwe discuss relationships among three or four functions.\n\nThe following lemma shows the relationships between\n\\(\\gamma(f_i),\\,\\gamma(f_j)\\), \\(\\gamma(f_j\\circ f_i)\\) and \\(\\gamma(f_i\\circ f_j)\\) \nfor monotone linear functions.\nThe proof can be found in Appendix.\n\\begin{lemma}\\label{lemma:gammacomp}\nFor monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\) and \\(f_j(x)=a_j x+b_j\\) \\((a_i,a_j\\ge 0)\\),\nwe have the following statements. \n\\begin{enumerate}\n\\item If \\(\\gamma(f_i)=\\gamma(f_j)\\), then \\(\\gamma(f_i)=\\gamma(f_j)= \\gamma(f_j\\circ f_i)\\),\\label{lemma:gammacompeq}\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\) and \\(a_i,a_j\\ge 1\\), then  \\(\\gamma(f_i)\\le \\gamma(f_j\\circ f_i)\\le\\gamma(f_j)\\),\\label{lemma:gammacomp++}\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\) and \\(a_i,a_j<1\\), then  \\(\\gamma(f_i)\\le \\gamma(f_j\\circ f_i)\\le\\gamma(f_j)\\),\\label{lemma:gammacomp--}\n\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\), \\(a_i<1\\), \\(a_j\\ge 1\\), and \\(a_i\\cdot a_j\\ge 1\\),\nthen \\(\\gamma(f_j\\circ f_i)\\ge\\gamma(f_j)~(>\\gamma(f_i))\\),\\label{lemma:gammacomp-+>}\n\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\), \\(a_i<1\\), \\(a_j\\ge 1\\), and \\(a_i\\cdot a_j< 1\\), \nthen  \\(\\gamma(f_j\\circ f_i)\\le\\gamma(f_i)~(<\\gamma(f_j))\\),\\label{lemma:gammacomp-+<}\n\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\), \\(a_i\\ge 1\\), \\(a_j<1\\), and \\(a_i\\cdot a_j\\ge 1\\),\nthen  \\(\\gamma(f_j\\circ f_i)\\le\\gamma(f_i)~(<\\gamma(f_j))\\),\\label{lemma:gammacomp+->}\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\), \\(a_i\\ge 1\\), \\(a_j<1\\), and \\(a_i\\cdot a_j< 1\\),\nthen \\(\\gamma(f_j\\circ f_i)\\ge\\gamma(f_j)~(>\\gamma(f_i))\\).\\label{lemma:gammacomp+-<}\n\\end{enumerate}\n\n\n\\end{lemma}\n\n\nBy Lemmas \\ref{lemma:gammaprec} and \\ref{lemma:gammacomp},\nwe have the following inequalities for compositions of four functions.\n\\begin{lemma}\\label{lemma:comp+-+-}\nFor monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\)  $(i=1,2,3,4)$, \nif $a_1,a_3 \\geq 1$, $a_2,a_4 < 1$ and  \\(\\gamma(f_1) \\ge \\gamma(f_2) \\ge \\gamma(f_3) \\ge \\gamma(f_4)\\), \nthen we have\n\n", "itemtype": "equation", "pos": 43956, "prevtext": "\nfor some $t$.\n\\end{lemma}\n\nBefore proving Lemma \\ref{lemma:tc}, we discuss algorithms for the maximum total composition and the exact $k$-composition ordering problems.\n\n\\subsection{Algorithm for Total Composition}\nIn this subsection, we prove the total composition part of Theorem \\ref{theorem:partial-total}, i.e.,\nwe provide an efficient algorithm for the maximum total composition ordering problem \\(((f_i(x)=a_ix+b_i)_{i\\in[n]},c)\\), where \\(a_i\\ge 0\\).\nLet \\(\\sigma:[n]\\to[n]\\) be a permutation compatible with the lexicographic order with respect to $(\\delta(f_i), \\gamma(f_i))$.\nThen there exists an optimal solution of the form \n\\((\\sigma(t),\\sigma(t+1),\\dots,\\sigma(n),\\sigma(1),\\sigma(2),\\dots,\\sigma(t-1))\\) for some $t$ by Lemma \\ref{lemma:tc}.\nTherefore, the problem can be computed in polynomial time by checking $n$ permutations above. \nTo reduce the time complexity, let $d_k=f_{\\sigma(k-1)}\\circ\\dots\\circ f_{\\sigma(1)}\\circ f_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(k)}(c)$ for $k=1,\\dots, n$ and let \\(a=\\prod_{i=1}^n a_i\\).\nThen it is not difficult to see that \n\\(d_{k+1}=a_{\\sigma(k)}\\cdot (d_k-a\\cdot c)-b_{\\sigma(k)}\\cdot(a-1)+a \\cdot c, \\)\nand hence the problem is solvable in ${\\mathrm{O}}(n\\log n)$ time. \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\\subsection{exact $k$-composition}\nIn this subsection, we prove Theorem \\ref{theorem:exact}, i.e.,\nwe provide an efficient algorithm for the maximum exact $k$-composition ordering problem \\(((f_i(x)=a_ix+b_i)_{i\\in[n]},c)\\), where \\(a_i\\ge 0\\).\nWe use a dynamic programming to find the optimal value.\n\nFor simplicity, we relabel the indices of functions\nso that the lexicographic order of $(\\delta(f_i), \\gamma(f_i))$ is monotone increasing.\n\n\n\n\nWe use dynamic programming to solve the problem.\nLet $m(i,j,l)$ be the maximum value of $f_{\\sigma(l)}\\circ\\dots\\circ f_{\\sigma(1)}(c)$\nfor a permutation $\\sigma$\nsuch that $i\\le \\sigma(1)<\\sigma(2)<\\dots<\\sigma(l)\\le i+j-1$ if $i+j-1\\le n$,\nand $i\\le \\sigma(1)<\\dots<\\sigma(p)\\le n,~1\\le \\sigma(p+1)<\\dots<\\sigma(l)\\le i+j-1-n$ for some $p~(0\\le p\\le l)$ if $i+j-1>n$.\nWe claim that the optimal value for the problem is $\\max_{i=1}^n m(i,n,k)$.\n\nLet $\\sigma^*: [n]\\to [n]$ be an optimal permutation for the problem.\nBy Lemma \\ref{lemma:tc},\nwe can assume that\n$i^*\\le \\sigma^*(1)<\\dots<\\sigma^*(p)\\le n,~1\\le \\sigma^*(p+1)<\\dots<\\sigma^*(k)\\le i^*-1$\nfor some $i^*$ and $p$.\nTherefore, we have $f_{\\sigma^*(k)}\\circ\\dots\\circ f_{\\sigma^*(1)}(c)\\le m(i^*,n,k)\\le \\max_{i=1}^n m(i,n,k)$ and, thus, $\\max_{i=1}^n m(i,n,k)$ is the optimal value for the problem.\n\nFor each $i,j,l$, the value $m(i,j,l)$ satisfies the following relation:\n\n", "index": 27, "text": "\\begin{align*}\n  m(i,j,l)=\n  \\begin{cases}\n    c & (l=0),\\\\\n    f_{j}(m(i,j-1,l-1)) &(l\\ge 1, j=l),\\\\\n    \\max\\{m(i,j-1,l),f_{j}(m(i,j-1,l-1))\\} &(l\\ge 1, j>l).\\\\\n  \\end{cases}\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex9.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle m(i,j,l)=\\begin{cases}c&amp;(l=0),\\\\&#10;f_{j}(m(i,j-1,l-1))&amp;(l\\geq 1,j=l),\\\\&#10;\\max\\{m(i,j-1,l),f_{j}(m(i,j-1,l-1))\\}&amp;(l\\geq 1,j&gt;l).\\\\&#10;\\end{cases}\" display=\"inline\"><mrow><mrow><mi>m</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo>,</mo><mi>j</mi><mo>,</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mo>{</mo><mtable columnspacing=\"5pt\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mi>c</mi></mtd><mtd columnalign=\"left\"><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>l</mi><mo>=</mo><mn>0</mn></mrow><mo stretchy=\"false\">)</mo></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><msub><mi>f</mi><mi>j</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>m</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo>,</mo><mrow><mi>j</mi><mo>-</mo><mn>1</mn></mrow><mo>,</mo><mrow><mi>l</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><mi>l</mi><mo>\u2265</mo><mn>1</mn></mrow><mo>,</mo><mrow><mi>j</mi><mo>=</mo><mi>l</mi></mrow></mrow><mo stretchy=\"false\">)</mo></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mi>m</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo>,</mo><mrow><mi>j</mi><mo>-</mo><mn>1</mn></mrow><mo>,</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>,</mo><mrow><msub><mi>f</mi><mi>j</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>m</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo>,</mo><mrow><mi>j</mi><mo>-</mo><mn>1</mn></mrow><mo>,</mo><mrow><mi>l</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">}</mo></mrow></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><mi>l</mi><mo>\u2265</mo><mn>1</mn></mrow><mo>,</mo><mrow><mi>j</mi><mo>&gt;</mo><mi>l</mi></mrow></mrow><mo stretchy=\"false\">)</mo></mrow><mo>.</mo></mrow></mtd></mtr></mtable></mrow></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\n\\end{lemma}\n\\begin{lemma}\\label{lemma:comp-+-+}\nFor monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\)  $(i=1,2,3, 4)$, \nif $a_1,a_3<1$, $a_2,a_4 \\geq 1$ and  \\(\\gamma(f_1) \\ge \\gamma(f_2) \\ge \\gamma(f_3) \\ge \\gamma(f_4)\\), \nthen we have\n\n", "itemtype": "equation", "pos": 47317, "prevtext": "\nTo evaluate $\\max_{i=1}^n m(i,n,k)$,\nour algorithm calculate the values of $m(i,j,l)$ for $0\\le i,j\\le n$ and $0\\le l\\le k$.\nTherefore, we can obtain the optimal value for the problem in ${\\mathrm{O}}(k\\cdot n^2)$ time.\nThe detailed algorithm for the maximum exact $k$-composition problem is shown in Algorithm \\ref{alg:exact}. \n\n\\begin{algorithm}\n\\caption{Maximum Exact $k$-Composition}\\label{alg:exact}\n\\begin{algorithmic}[1]\n\\STATE sort the input functions according to the lexicographic order of $(\\delta(f_i), \\gamma(f_i))$\n\\FOR{\\(l=0\\) to \\(k\\)}\n\\FOR{\\(j=l\\) to \\(n\\)}\n\\FOR{\\(i=1\\) to \\(n\\)}\n\\STATE \\textbf{if} $l=0$ \\textbf{then} $m(i,j,l)\\leftarrow c$\n\\STATE \\textbf{else if} $j=l$ \\textbf{then} $m(i,j,l)\\leftarrow f_{(i+j \\mod{n})}(m(i,j-1,l-1))$\n\\STATE \\textbf{else} $m(i,j,l)\\leftarrow \\max\\{m(i,j-1,l),f_{(i+j\\mod{n})}(m(i,j-1,l-1))\\}$ \n\\ENDFOR\n\\ENDFOR\n\\ENDFOR\n\\STATE return $\\max_{i=1}^n m(i,n,k)$\n\\end{algorithmic}\n\\end{algorithm}\n\n\n\n\n\n\\subsection{The proof of Lemma \\ref{lemma:tc}}\nIn this subsection, we prove Lemma \\ref{lemma:tc}.\nTo overcome the difficulty that \nthe binary relation $\\preceq$ for linear functions does not satisfy the condition in Lemma \\ref{lemma:extotalorder}, \nwe discuss relationships among three or four functions.\n\nThe following lemma shows the relationships between\n\\(\\gamma(f_i),\\,\\gamma(f_j)\\), \\(\\gamma(f_j\\circ f_i)\\) and \\(\\gamma(f_i\\circ f_j)\\) \nfor monotone linear functions.\nThe proof can be found in Appendix.\n\\begin{lemma}\\label{lemma:gammacomp}\nFor monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\) and \\(f_j(x)=a_j x+b_j\\) \\((a_i,a_j\\ge 0)\\),\nwe have the following statements. \n\\begin{enumerate}\n\\item If \\(\\gamma(f_i)=\\gamma(f_j)\\), then \\(\\gamma(f_i)=\\gamma(f_j)= \\gamma(f_j\\circ f_i)\\),\\label{lemma:gammacompeq}\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\) and \\(a_i,a_j\\ge 1\\), then  \\(\\gamma(f_i)\\le \\gamma(f_j\\circ f_i)\\le\\gamma(f_j)\\),\\label{lemma:gammacomp++}\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\) and \\(a_i,a_j<1\\), then  \\(\\gamma(f_i)\\le \\gamma(f_j\\circ f_i)\\le\\gamma(f_j)\\),\\label{lemma:gammacomp--}\n\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\), \\(a_i<1\\), \\(a_j\\ge 1\\), and \\(a_i\\cdot a_j\\ge 1\\),\nthen \\(\\gamma(f_j\\circ f_i)\\ge\\gamma(f_j)~(>\\gamma(f_i))\\),\\label{lemma:gammacomp-+>}\n\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\), \\(a_i<1\\), \\(a_j\\ge 1\\), and \\(a_i\\cdot a_j< 1\\), \nthen  \\(\\gamma(f_j\\circ f_i)\\le\\gamma(f_i)~(<\\gamma(f_j))\\),\\label{lemma:gammacomp-+<}\n\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\), \\(a_i\\ge 1\\), \\(a_j<1\\), and \\(a_i\\cdot a_j\\ge 1\\),\nthen  \\(\\gamma(f_j\\circ f_i)\\le\\gamma(f_i)~(<\\gamma(f_j))\\),\\label{lemma:gammacomp+->}\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\), \\(a_i\\ge 1\\), \\(a_j<1\\), and \\(a_i\\cdot a_j< 1\\),\nthen \\(\\gamma(f_j\\circ f_i)\\ge\\gamma(f_j)~(>\\gamma(f_i))\\).\\label{lemma:gammacomp+-<}\n\\end{enumerate}\n\n\n\\end{lemma}\n\n\nBy Lemmas \\ref{lemma:gammaprec} and \\ref{lemma:gammacomp},\nwe have the following inequalities for compositions of four functions.\n\\begin{lemma}\\label{lemma:comp+-+-}\nFor monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\)  $(i=1,2,3,4)$, \nif $a_1,a_3 \\geq 1$, $a_2,a_4 < 1$ and  \\(\\gamma(f_1) \\ge \\gamma(f_2) \\ge \\gamma(f_3) \\ge \\gamma(f_4)\\), \nthen we have\n\n", "index": 29, "text": "\\begin{align*}\nf_4\\circ f_3\\circ f_2\\circ f_1(x) \\le \\max\\{f_4\\circ f_1\\circ f_3\\circ f_2(x),~f_3\\circ f_2\\circ f_4\\circ f_1(x)\\}\\quad(\\forall x).\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex10.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{4}\\circ f_{3}\\circ f_{2}\\circ f_{1}(x)\\leq\\max\\{f_{4}\\circ f_%&#10;{1}\\circ f_{3}\\circ f_{2}(x),~{}f_{3}\\circ f_{2}\\circ f_{4}\\circ f_{1}(x)\\}%&#10;\\quad(\\forall x).\" display=\"inline\"><mrow><mrow><mrow><mrow><msub><mi>f</mi><mn>4</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>3</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>2</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>1</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><mrow><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mrow><msub><mi>f</mi><mn>4</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>1</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>3</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>2</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo rspace=\"5.8pt\">,</mo><mrow><mrow><msub><mi>f</mi><mn>3</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>2</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>4</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>1</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">}</mo></mrow></mrow><mo mathvariant=\"italic\" separator=\"true\">\u2003</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mo>\u2200</mo><mi>x</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\n\n\\end{lemma}\n\\begin{proof}\nWe only prove Lemma \\ref{lemma:comp+-+-} since Lemma \\ref{lemma:comp-+-+} can be proved in a similar way.\nLet \\(g(x)=f_3\\circ f_2(x)\\).\nIf \\(a_2 \\cdot a_3\\ge 1\\), then \\(\\gamma(g)\\le \\gamma(f_3)\\le \\gamma(f_1)\\) holds\nby \\ref{lemma:gammacompeq} and \\ref{lemma:gammacomp+->} in Lemma \\ref{lemma:gammacomp},\nand \\(g\\circ f_1(x)\\le f_1\\circ g(x)\\) holds by \\ref{lemma:gammaprec11} and \\ref{lemma:gammaprec++} in Lemma \\ref{lemma:gammaprec}.\nThus, we have \\(f_4\\circ f_3\\circ f_2\\circ f_1(x)\\le f_4\\circ f_1\\circ f_3\\circ f_2(x)\\).\n\nOn the other hand, if \\(a_2\\cdot a_3< 1\\), then \\(\\gamma(g)\\ge \\gamma(f_2)\\ge \\gamma(f_4)\\) holds by \\ref{lemma:gammacompeq} and \\ref{lemma:gammacomp+-<} in Lemma \\ref{lemma:gammacomp},\nand \\(f_4\\circ g(x)\\le g\\circ f_4(x)\\) holds by \\ref{lemma:gammaprec--} in Lemma \\ref{lemma:gammaprec}.\nThus, we have \\(f_4\\circ f_3\\circ f_2\\circ f_1(x)\\le f_3\\circ f_2\\circ f_4\\circ f_1(x)\\).\n\\end{proof}\n\n\nBy Lemmas \\ref{lemma:comp+-+-} and \\ref{lemma:comp-+-+}, we obtain the following lemma. \n\\begin{lemma}\\label{lemma:atmost2}\nThere exists an optimal permutation \\(\\sigma\\) \nfor the maximum total composition ordering problem for monotone nondecreasing functions $f_i$ $(i\\in [n])$ \nsuch that\nat most two $i$'s \nsatisfy \\(\\delta(f_{\\sigma(i)}) \\cdot \\delta(f_{\\sigma(i+1)})=-1\\).\n\\end{lemma}\n\\begin{proof}\nLet \\(\\sigma\\) be an  optimal solution,\nwith the minimum number of $i$'s satisfying \n$\\delta(f_{\\sigma(i)})\\cdot \\delta(f_{\\sigma(i+1)})=-1$. \nAssume that $\\sigma$ contains at least three such $i$'s. \nLet $i_1,i_2$ and $i_3$ denote the three smallest such $i$'s with $i_1< i_2< i_3$,  \nand \\(i_4\\) denote the fourth smallest such $i$ if exists; otherwise we define $i_4=n$.  \nLet \\(g_1(x)=f_{\\sigma(i_1)}\\circ\\dots\\circ f_{\\sigma(1)}(x)\\),\n\\(g_2(x)=f_{\\sigma(i_2)}\\circ\\dots\\circ f_{\\sigma(i_1+1)}(x)\\),\n\\(g_3(x)=f_{\\sigma(i_3)}\\circ\\dots\\circ f_{\\sigma(i_2+1)}(x)\\),\nand \\(g_4(x)=f_{\\sigma(i_4)}\\circ\\dots\\circ f_{\\sigma(i_3+1)}(x)\\).\nThen we have \\(\\delta(g_1)= -\\delta(g_2)= \\delta(g_3)= -\\delta(g_4)\\).\nWe claim that \\(\\gamma(g_1)\\ge \\gamma(g_2)\\ge \\gamma(g_3)\\ge \\gamma(g_4)\\).\n\nAssume that \\(\\gamma(g_j)<\\gamma(g_{j+1})\\) for some \\(j\\in\\{1,2,3\\}\\).\nThen it follows from \\ref{lemma:gammaprec+-} in Lemma\n\\ref{lemma:gammaprec}  that \n\\(g_{j+1}\\circ g_{j}(x) \\le g_{j}\\circ g_{j+1}(x)\\) holds,  \n which contradicts the assumption on $\\sigma$.\nTherefore we have\n\n", "itemtype": "equation", "pos": 47724, "prevtext": "\n\\end{lemma}\n\\begin{lemma}\\label{lemma:comp-+-+}\nFor monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\)  $(i=1,2,3, 4)$, \nif $a_1,a_3<1$, $a_2,a_4 \\geq 1$ and  \\(\\gamma(f_1) \\ge \\gamma(f_2) \\ge \\gamma(f_3) \\ge \\gamma(f_4)\\), \nthen we have\n\n", "index": 31, "text": "\\begin{align*}\nf_4\\circ f_3\\circ f_2\\circ f_1(x)\\le \\max\\{f_4\\circ f_1\\circ f_3\\circ f_2(x),~f_3\\circ f_2\\circ f_4\\circ f_1(x)\\}\\quad(\\forall x).\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex11.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{4}\\circ f_{3}\\circ f_{2}\\circ f_{1}(x)\\leq\\max\\{f_{4}\\circ f_%&#10;{1}\\circ f_{3}\\circ f_{2}(x),~{}f_{3}\\circ f_{2}\\circ f_{4}\\circ f_{1}(x)\\}%&#10;\\quad(\\forall x).\" display=\"inline\"><mrow><mrow><mrow><mrow><msub><mi>f</mi><mn>4</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>3</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>2</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>1</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><mrow><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mrow><msub><mi>f</mi><mn>4</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>1</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>3</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>2</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo rspace=\"5.8pt\">,</mo><mrow><mrow><msub><mi>f</mi><mn>3</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>2</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>4</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>1</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">}</mo></mrow></mrow><mo mathvariant=\"italic\" separator=\"true\">\u2003</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mo>\u2200</mo><mi>x</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nby Lemmas \\ref{lemma:comp+-+-} and \\ref{lemma:comp-+-+}.\nThis again contradicts the assumption on $\\sigma$. \n\\end{proof}\n\n\n\nNext, we provide inequalities for compositions of three functions.\n\\begin{lemma}\\label{lemma:comp+-+}\nFor monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\)  $(i=1,2,3)$, \nif $a_1,a_3\\geq 1$, $a_2<1$, \\(a_1\\cdot a_2\\cdot a_3\\ge 1\\) and \\(\\gamma(f_1) \\ge \\gamma(f_2) \\ge \\gamma(f_3)\\), \nthen we have\n\n", "itemtype": "equation", "pos": 50301, "prevtext": "\n\n\\end{lemma}\n\\begin{proof}\nWe only prove Lemma \\ref{lemma:comp+-+-} since Lemma \\ref{lemma:comp-+-+} can be proved in a similar way.\nLet \\(g(x)=f_3\\circ f_2(x)\\).\nIf \\(a_2 \\cdot a_3\\ge 1\\), then \\(\\gamma(g)\\le \\gamma(f_3)\\le \\gamma(f_1)\\) holds\nby \\ref{lemma:gammacompeq} and \\ref{lemma:gammacomp+->} in Lemma \\ref{lemma:gammacomp},\nand \\(g\\circ f_1(x)\\le f_1\\circ g(x)\\) holds by \\ref{lemma:gammaprec11} and \\ref{lemma:gammaprec++} in Lemma \\ref{lemma:gammaprec}.\nThus, we have \\(f_4\\circ f_3\\circ f_2\\circ f_1(x)\\le f_4\\circ f_1\\circ f_3\\circ f_2(x)\\).\n\nOn the other hand, if \\(a_2\\cdot a_3< 1\\), then \\(\\gamma(g)\\ge \\gamma(f_2)\\ge \\gamma(f_4)\\) holds by \\ref{lemma:gammacompeq} and \\ref{lemma:gammacomp+-<} in Lemma \\ref{lemma:gammacomp},\nand \\(f_4\\circ g(x)\\le g\\circ f_4(x)\\) holds by \\ref{lemma:gammaprec--} in Lemma \\ref{lemma:gammaprec}.\nThus, we have \\(f_4\\circ f_3\\circ f_2\\circ f_1(x)\\le f_3\\circ f_2\\circ f_4\\circ f_1(x)\\).\n\\end{proof}\n\n\nBy Lemmas \\ref{lemma:comp+-+-} and \\ref{lemma:comp-+-+}, we obtain the following lemma. \n\\begin{lemma}\\label{lemma:atmost2}\nThere exists an optimal permutation \\(\\sigma\\) \nfor the maximum total composition ordering problem for monotone nondecreasing functions $f_i$ $(i\\in [n])$ \nsuch that\nat most two $i$'s \nsatisfy \\(\\delta(f_{\\sigma(i)}) \\cdot \\delta(f_{\\sigma(i+1)})=-1\\).\n\\end{lemma}\n\\begin{proof}\nLet \\(\\sigma\\) be an  optimal solution,\nwith the minimum number of $i$'s satisfying \n$\\delta(f_{\\sigma(i)})\\cdot \\delta(f_{\\sigma(i+1)})=-1$. \nAssume that $\\sigma$ contains at least three such $i$'s. \nLet $i_1,i_2$ and $i_3$ denote the three smallest such $i$'s with $i_1< i_2< i_3$,  \nand \\(i_4\\) denote the fourth smallest such $i$ if exists; otherwise we define $i_4=n$.  \nLet \\(g_1(x)=f_{\\sigma(i_1)}\\circ\\dots\\circ f_{\\sigma(1)}(x)\\),\n\\(g_2(x)=f_{\\sigma(i_2)}\\circ\\dots\\circ f_{\\sigma(i_1+1)}(x)\\),\n\\(g_3(x)=f_{\\sigma(i_3)}\\circ\\dots\\circ f_{\\sigma(i_2+1)}(x)\\),\nand \\(g_4(x)=f_{\\sigma(i_4)}\\circ\\dots\\circ f_{\\sigma(i_3+1)}(x)\\).\nThen we have \\(\\delta(g_1)= -\\delta(g_2)= \\delta(g_3)= -\\delta(g_4)\\).\nWe claim that \\(\\gamma(g_1)\\ge \\gamma(g_2)\\ge \\gamma(g_3)\\ge \\gamma(g_4)\\).\n\nAssume that \\(\\gamma(g_j)<\\gamma(g_{j+1})\\) for some \\(j\\in\\{1,2,3\\}\\).\nThen it follows from \\ref{lemma:gammaprec+-} in Lemma\n\\ref{lemma:gammaprec}  that \n\\(g_{j+1}\\circ g_{j}(x) \\le g_{j}\\circ g_{j+1}(x)\\) holds,  \n which contradicts the assumption on $\\sigma$.\nTherefore we have\n\n", "index": 33, "text": "\\begin{align*}\nf_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(1)}(x)\n&=f_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(i_4+1)}\\circ g_4\\circ g_3\\circ g_2\\circ g_1(x)\\\\\n&\\le \\max\\left\\{\n\\begin{matrix}\nf_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(i_4+1)}\\circ g_4\\circ g_1\\circ g_3\\circ g_2(x),\\\\\nf_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(i_4+1)}\\circ g_3\\circ g_2\\circ g_4\\circ g_1(x)\n\\end{matrix}\n\\right\\}\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex12.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(1)}(x)\" display=\"inline\"><mrow><mrow><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex12.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=f_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(i_{4}+1)}\\circ g_{4}\\circ&#10;g%&#10;_{3}\\circ g_{2}\\circ g_{1}(x)\" display=\"inline\"><mrow><mi/><mo>=</mo><mrow><mrow><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>i</mi><mn>4</mn></msub><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><msub><mi>g</mi><mn>4</mn></msub><mo>\u2218</mo><msub><mi>g</mi><mn>3</mn></msub><mo>\u2218</mo><msub><mi>g</mi><mn>2</mn></msub><mo>\u2218</mo><msub><mi>g</mi><mn>1</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex13.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle\\leq\\max\\left\\{\\begin{matrix}f_{\\sigma(n)}\\circ\\dots\\circ f_{%&#10;\\sigma(i_{4}+1)}\\circ g_{4}\\circ g_{1}\\circ g_{3}\\circ g_{2}(x),\\\\&#10;f_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(i_{4}+1)}\\circ g_{3}\\circ g_{2}\\circ g_%&#10;{4}\\circ g_{1}(x)\\end{matrix}\\right\\}\" display=\"inline\"><mrow><mi/><mo>\u2264</mo><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo>{</mo><mtable rowspacing=\"0pt\"><mtr><mtd columnalign=\"center\"><mrow><mrow><mrow><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>i</mi><mn>4</mn></msub><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><msub><mi>g</mi><mn>4</mn></msub><mo>\u2218</mo><msub><mi>g</mi><mn>1</mn></msub><mo>\u2218</mo><msub><mi>g</mi><mn>3</mn></msub><mo>\u2218</mo><msub><mi>g</mi><mn>2</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"center\"><mrow><mrow><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>i</mi><mn>4</mn></msub><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><msub><mi>g</mi><mn>3</mn></msub><mo>\u2218</mo><msub><mi>g</mi><mn>2</mn></msub><mo>\u2218</mo><msub><mi>g</mi><mn>4</mn></msub><mo>\u2218</mo><msub><mi>g</mi><mn>1</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mtd></mtr></mtable><mo>}</mo></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\n\n\\end{lemma}\n\\begin{lemma}\\label{lemma:comp-+-}\nFor monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\)  $(i=1,2,3)$, \nif $a_1,a_3< 1$, $a_2\\geq 1$, \\(a_1\\cdot a_2\\cdot a_3< 1\\) and \\(\\gamma(f_1) \\ge \\gamma(f_2) \\ge \\gamma(f_3)\\), \n then we have\n\n", "itemtype": "equation", "pos": 51126, "prevtext": "\nby Lemmas \\ref{lemma:comp+-+-} and \\ref{lemma:comp-+-+}.\nThis again contradicts the assumption on $\\sigma$. \n\\end{proof}\n\n\n\nNext, we provide inequalities for compositions of three functions.\n\\begin{lemma}\\label{lemma:comp+-+}\nFor monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\)  $(i=1,2,3)$, \nif $a_1,a_3\\geq 1$, $a_2<1$, \\(a_1\\cdot a_2\\cdot a_3\\ge 1\\) and \\(\\gamma(f_1) \\ge \\gamma(f_2) \\ge \\gamma(f_3)\\), \nthen we have\n\n", "index": 35, "text": "\\begin{align*}\nf_3\\circ f_2\\circ f_1(x)\\le \\max\\{f_2\\circ f_1\\circ f_3(x),~f_1\\circ f_3\\circ f_2(x)\\}\\quad(\\forall x).\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex14.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{3}\\circ f_{2}\\circ f_{1}(x)\\leq\\max\\{f_{2}\\circ f_{1}\\circ f_%&#10;{3}(x),~{}f_{1}\\circ f_{3}\\circ f_{2}(x)\\}\\quad(\\forall x).\" display=\"inline\"><mrow><mrow><mrow><mrow><msub><mi>f</mi><mn>3</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>2</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>1</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><mrow><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mrow><msub><mi>f</mi><mn>2</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>1</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>3</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo rspace=\"5.8pt\">,</mo><mrow><mrow><msub><mi>f</mi><mn>1</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>3</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>2</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">}</mo></mrow></mrow><mo mathvariant=\"italic\" separator=\"true\">\u2003</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mo>\u2200</mo><mi>x</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\n\n\\end{lemma}\n\\begin{lemma}\\label{lemma:comp-+-}\nFor monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\)  $(i=1,2,3)$, \nif $a_1,a_3< 1$, $a_2\\geq 1$, \\(a_1\\cdot a_2\\cdot a_3< 1\\) and \\(\\gamma(f_1) \\ge \\gamma(f_2) \\ge \\gamma(f_3)\\), \n then we have\n\n", "itemtype": "equation", "pos": 51126, "prevtext": "\nby Lemmas \\ref{lemma:comp+-+-} and \\ref{lemma:comp-+-+}.\nThis again contradicts the assumption on $\\sigma$. \n\\end{proof}\n\n\n\nNext, we provide inequalities for compositions of three functions.\n\\begin{lemma}\\label{lemma:comp+-+}\nFor monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\)  $(i=1,2,3)$, \nif $a_1,a_3\\geq 1$, $a_2<1$, \\(a_1\\cdot a_2\\cdot a_3\\ge 1\\) and \\(\\gamma(f_1) \\ge \\gamma(f_2) \\ge \\gamma(f_3)\\), \nthen we have\n\n", "index": 35, "text": "\\begin{align*}\nf_3\\circ f_2\\circ f_1(x)\\le \\max\\{f_2\\circ f_1\\circ f_3(x),~f_1\\circ f_3\\circ f_2(x)\\}\\quad(\\forall x).\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex15.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{3}\\circ f_{2}\\circ f_{1}(x)\\leq\\max\\{f_{2}\\circ f_{1}\\circ f_%&#10;{3}(x),~{}f_{1}\\circ f_{3}\\circ f_{2}(x)\\}\\quad(\\forall x).\" display=\"inline\"><mrow><mrow><mrow><mrow><msub><mi>f</mi><mn>3</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>2</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>1</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><mrow><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mrow><msub><mi>f</mi><mn>2</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>1</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>3</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo rspace=\"5.8pt\">,</mo><mrow><mrow><msub><mi>f</mi><mn>1</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>3</mn></msub><mo>\u2218</mo><msub><mi>f</mi><mn>2</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">}</mo></mrow></mrow><mo mathvariant=\"italic\" separator=\"true\">\u2003</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mo>\u2200</mo><mi>x</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nThis implies that the lemma holds when \\(s=0\\) or \\(t=n\\). \nFor \\(0<s\\le t<n\\), we separately consider the following  two cases.\n\n\\noindent\\textbf{Case 1:} If \\(\\delta(f_{\\sigma(s+1)})=\\dots=\\delta(f_{\\sigma(t)})=+1\\), \nlet \\(g=f_{\\sigma(n-1)}\\circ\\dots\\circ f_{\\sigma(2)}\\).\nThen  Lemma \\ref{lemma:gammaprec} and the optimality of \\(\\sigma\\) imply  \n\\(\\gamma(f_{\\sigma(1)})\\ge \\gamma(g)\\ge \\gamma(f_{\\sigma(n)})\\), \nsince \\(-\\delta(f_{\\sigma(1)})=\\delta(g)=-\\delta(f_{\\sigma(n)})=+1\\).\nThis proves the lemma. \n\n\\noindent\\textbf{Case 2:} If \\(\\delta(f_{\\sigma(s+1)})=\\dots=\\delta(f_{\\sigma(t)})=-1\\), \nthen let \\(h_1=f_{\\sigma(s)}\\circ\\dots\\circ f_{\\sigma(1)}\\),\n\\(h_2=f_{\\sigma(t)}\\circ\\dots\\circ f_{\\sigma(s+1)}\\) and\n\\(h_3=f_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(t+1)}\\).\nIf \\(\\gamma(h_1)<\\gamma(h_2)\\), then \\(h_3\\circ h_2\\circ h_1(x)\\le h_3\\circ h_1\\circ h_2(x)\\)\nby \\ref{lemma:gammaprec+-} in Lemma \\ref{lemma:gammaprec}.\nIf \\(\\gamma(h_2)<\\gamma(h_3)\\), then \\(h_3\\circ h_2\\circ h_1(x)\\le h_2\\circ h_3\\circ h_1(x)\\)\nby \\ref{lemma:gammaprec+-} in Lemma \\ref{lemma:gammaprec}.\nOtherwise (i.e., \\(\\gamma(h_1)\\ge \\gamma(h_2)\\ge \\gamma(h_3)\\)), we have\n\n", "itemtype": "equation", "pos": 55108, "prevtext": "\n\\end{lemma}\n\\begin{proof}\nWe only prove Lemma \\ref{lemma:comp+-+} since Lemma \\ref{lemma:comp-+-} can be prove in a similar way.\nIf \\(a_2\\cdot a_3\\ge 1\\), then \\(\\gamma(f_3\\circ f_2)\\le \\gamma(f_3)\\le \\gamma(f_1)\\)\nby  \\ref{lemma:gammacompeq} and \\ref{lemma:gammacomp+->} in Lemma \\ref{lemma:gammacomp},\nand it implies \\(f_3\\circ f_2\\circ f_1(x)\\le f_1\\circ f_3\\circ f_2(x)\\)\nby \\ref{lemma:gammaprec11} and \\ref{lemma:gammaprec++} in Lemma \\ref{lemma:gammaprec}.\nIf \\(a_2\\cdot a_3< 1\\) and \\(\\gamma(f_3\\circ f_2)\\ge \\gamma(f_1)\\),\nthen \\(f_3\\circ f_2\\circ f_1(x)\\le f_1\\circ f_3\\circ f_2(x)\\)\nby \\ref{lemma:gammaprec+-} in Lemma \\ref{lemma:gammaprec}.\n\nIf \\(a_1\\cdot a_2\\ge 1\\), then \\(\\gamma(f_2\\circ f_1)\\ge \\gamma(f_1)\\ge \\gamma(f_3)\\)\nby  \\ref{lemma:gammacompeq} and \\ref{lemma:gammacomp-+>} in Lemma \\ref{lemma:gammacomp},\nand it implies \\(f_3\\circ f_2\\circ f_1(x)\\le f_2\\circ f_1\\circ f_3(x)\\) by \\ref{lemma:gammaprec11} and \\ref{lemma:gammaprec++} in Lemma \\ref{lemma:gammaprec}.\nIf \\(a_1\\cdot a_2< 1\\) and \\(\\gamma(f_2\\circ f_1)\\le \\gamma(f_3)\\),\nthen \\(f_3\\circ f_2\\circ f_1(x)\\le f_2\\circ f_1\\circ f_3(x)\\) by \\ref{lemma:gammaprec+-} in Lemma \\ref{lemma:gammaprec}.\n\nOtherwise, we have\n\\(a_2\\cdot a_3< 1\\), \\(a_1\\cdot a_2<1\\),\n\\(\\gamma(f_3\\circ f_2)<\\gamma(f_1)\\),\nand \\(\\gamma(f_2\\circ f_1)>\\gamma(f_3)\\).\nThen we have \n\\(\\gamma((f_3\\circ f_2)\\circ f_1)\\ge \\gamma(f_1)\\) by \\ref{lemma:gammacomp-+>} in Lemma \\ref{lemma:gammacomp},\nand \\(\\gamma(f_3\\circ (f_2\\circ f_1))\\le \\gamma(f_3)\\) by \\ref{lemma:gammacomp+->} in Lemma \\ref{lemma:gammacomp}\nsince \\(a_1\\cdot a_2\\cdot a_3\\ge 1\\).\nTherefore \\(\\gamma(f_1)=\\gamma(f_2)=\\gamma(f_3)\\),\nThis together with \\(\\gamma(f_3\\circ f_2)< \\gamma(f_1)\\) contradicts \n\\ref{lemma:gammacompeq}  in Lemma \\ref{lemma:gammacomp}. \n\\end{proof}\n\n\n\n\nBy Lemmas \\ref{lemma:gammaprec}, \\ref{lemma:gammacomp}, \\ref{lemma:atmost2}, \\ref{lemma:comp+-+}, and \\ref{lemma:comp-+-},\nwe get the following lemmas.\n\\begin{lemma}\\label{lemma:prod>}\nIf \\(\\prod_{i=1}^n a_i\\ge 1\\), then\nthere exists an optimal permutation \\(\\sigma\\) such that, \nfor some two integers \\(s,t\\) \\((0\\le s\\le t\\le n)\\), \n\\(\\delta(f_{\\sigma(t+1)})=\\dots=\\delta(f_{\\sigma(n)})=\\delta(f_{\\sigma(1)})=\\dots=\\delta(f_{\\sigma(s)})=-1\\), \n \\(\\delta(f_{\\sigma(s+1)})=\\dots=\\delta(f_{\\sigma(t)})=1\\), \n\\(\\gamma_{\\sigma(t+1)}\\le\\dots\\le\\gamma_{\\sigma(n)}\\leq\n\\gamma_{\\sigma(1)}\\le\\dots\\le \\gamma_{\\sigma(s)}\\),  \nand \n\\(\\gamma_{\\sigma(s+1)}\\le\\dots\\le\\gamma_{\\sigma(t)}\\).  \n\\end{lemma}\n\\begin{lemma}\\label{lemma:prod<}\nIf \\(\\prod_{i=1}^n a_i< 1\\),\nthen there exists an optimal permutation \\(\\sigma\\) such that, for some two integers \\(s,t\\)\n\\((0\\le s\\le t\\le n)\\), \n\\(\\delta(f_{\\sigma(t+1)})=\\dots=\\delta(f_{\\sigma(n)})=\\delta(f_{\\sigma(1)})=\\dots=\\delta(f_{\\sigma(s)})=1\\), \n\\(\\delta(f_{\\sigma(s+1)})=\\dots=\\delta(f_{\\sigma(t)})=-1\\), \n \\(\\gamma_{\\sigma(t+1)}\\le\\dots\\le\\gamma_{\\sigma(n)} \\leq \\gamma_{\\sigma(1)}\\le\\dots\\le \\gamma_{\\sigma(s)}\\), and\n\\(\\gamma_{\\sigma(s+1)}\\le\\dots\\le\\gamma_{\\sigma(t)}\\).\n\\end{lemma}\n\n\\begin{proof}\nWe only prove Lemma \\ref{lemma:prod>} since Lemma \\ref{lemma:prod<} can be proved in a similar way.\nBy Lemma \\ref{lemma:atmost2},\nthere exists an optimal permutation \\(\\sigma\\) and two integers \\(s,t\\) \\((0\\le s\\le t\\le n)\\)\nsuch that\n\\(\\delta(f_{\\sigma(1)})=\\dots=\\delta(f_{\\sigma(s)})=-\\delta(f_{\\sigma(s+1)})=\\dots=-\\delta(f_{\\sigma(t)})=\\delta(f_{\\sigma(t+1)})=\\dots=\\delta(f_{\\sigma(n)})\\).\nBy Lemma \\ref{lemma:gammaprec}, we have \n\n", "index": 39, "text": "\\begin{align*}\n\\gamma_{\\sigma(1)}\\le\\dots\\le \\gamma_{\\sigma(s)},~\n\\gamma_{\\sigma(s+1)}\\le\\dots\\le \\gamma_{\\sigma(t)},~\n\\gamma_{\\sigma(t+1)}\\le\\dots\\le \\gamma_{\\sigma(n)}.\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex16.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle\\gamma_{\\sigma(1)}\\leq\\dots\\leq\\gamma_{\\sigma(s)},~{}\\gamma_{%&#10;\\sigma(s+1)}\\leq\\dots\\leq\\gamma_{\\sigma(t)},~{}\\gamma_{\\sigma(t+1)}\\leq\\dots%&#10;\\leq\\gamma_{\\sigma(n)}.\" display=\"inline\"><mrow><mrow><mrow><msub><mi>\u03b3</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2264</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2264</mo><msub><mi>\u03b3</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>s</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo rspace=\"5.8pt\">,</mo><mrow><msub><mi>\u03b3</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>s</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2264</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2264</mo><msub><mi>\u03b3</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo rspace=\"5.8pt\">,</mo><mrow><msub><mi>\u03b3</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2264</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2264</mo><msub><mi>\u03b3</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nby Lemma \\ref{lemma:comp+-+}.\nIn either case, we can obtain a desired optimal solution by modifying $\\sigma$. \n\\end{proof}\n\n\nBy Lemmas \\ref{lemma:prod>} and \\ref{lemma:prod<}, we obtain Lemma \\ref{lemma:tc}.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\\section{Negative Results}\\label{sec:nr}\nIn the previous sections, we show that both the total and partial composition ordering problems can be solved efficiently if all $f_i$'s are monotone linear.  \nIt turns out that they cannot be generalized to nonlinear functions $f_i$. \nIn this section, we show the optimal composition ordering problems  are in general intractable, even if all $f_i$'s are \nmonotone increasing, piecewise linear functions with at most two pieces. \nWe remark that the maximum total composition ordering problem is known to be {} NP-hard, even if all $f_i$'s are  \n monotone increasing,  \n{\\em concave},  piecewise linear functions with at most two pieces \\cite{cheng1998tco}, which can be shown by considering the time-dependent scheduling problem. \n\n\n\nFor our reductions, \nwe use the following NP-complete problems (see \\cite{garey1979cai,ng2010ppa}).\n\\begin{description}\n\\item[{\\sc Partition}:] Given $n$ positive integers $a_1,\\dots,a_n$ with $\\sum_{i=1}^n a_i=2T$,\nask whether exists a subset \\(I\\subseteq [n]\\) such that $\\sum_{i \\in I}a_i=T$. \n\\item[{\\sc ProductPartition}:] Given $n$ positive integers $a_1,\\dots,a_n$ with $\\prod_{i=1}^n a_i=T^2$,\nask whether there exists a subset \\(I\\subseteq [n]\\) such that $\\prod_{i\\in I}a_i=T$. \n\\end{description}\nWe use {\\sc Partition}{} problem for concave case and\n{\\sc ProductPartition}{} for convex case.\n\n\n\n\\subsection{Monotone increasing, concave, piecewise linear functions with at most two pieces}\nIn this section, we consider the case in which all $f_i$'s are monotone increasing, concave,  piecewise linear functions with at most two pieces, \nthat is, \n$f_i$ is given as\n\n", "itemtype": "equation", "pos": 56445, "prevtext": "\nThis implies that the lemma holds when \\(s=0\\) or \\(t=n\\). \nFor \\(0<s\\le t<n\\), we separately consider the following  two cases.\n\n\\noindent\\textbf{Case 1:} If \\(\\delta(f_{\\sigma(s+1)})=\\dots=\\delta(f_{\\sigma(t)})=+1\\), \nlet \\(g=f_{\\sigma(n-1)}\\circ\\dots\\circ f_{\\sigma(2)}\\).\nThen  Lemma \\ref{lemma:gammaprec} and the optimality of \\(\\sigma\\) imply  \n\\(\\gamma(f_{\\sigma(1)})\\ge \\gamma(g)\\ge \\gamma(f_{\\sigma(n)})\\), \nsince \\(-\\delta(f_{\\sigma(1)})=\\delta(g)=-\\delta(f_{\\sigma(n)})=+1\\).\nThis proves the lemma. \n\n\\noindent\\textbf{Case 2:} If \\(\\delta(f_{\\sigma(s+1)})=\\dots=\\delta(f_{\\sigma(t)})=-1\\), \nthen let \\(h_1=f_{\\sigma(s)}\\circ\\dots\\circ f_{\\sigma(1)}\\),\n\\(h_2=f_{\\sigma(t)}\\circ\\dots\\circ f_{\\sigma(s+1)}\\) and\n\\(h_3=f_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(t+1)}\\).\nIf \\(\\gamma(h_1)<\\gamma(h_2)\\), then \\(h_3\\circ h_2\\circ h_1(x)\\le h_3\\circ h_1\\circ h_2(x)\\)\nby \\ref{lemma:gammaprec+-} in Lemma \\ref{lemma:gammaprec}.\nIf \\(\\gamma(h_2)<\\gamma(h_3)\\), then \\(h_3\\circ h_2\\circ h_1(x)\\le h_2\\circ h_3\\circ h_1(x)\\)\nby \\ref{lemma:gammaprec+-} in Lemma \\ref{lemma:gammaprec}.\nOtherwise (i.e., \\(\\gamma(h_1)\\ge \\gamma(h_2)\\ge \\gamma(h_3)\\)), we have\n\n", "index": 41, "text": "\\begin{align*}\nh_3\\circ h_2\\circ h_1(x)\\le \\max\\{h_2\\circ h_1\\circ h_3(x),\\, h_1\\circ h_3\\circ h_2(x)\\}\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex17.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle h_{3}\\circ h_{2}\\circ h_{1}(x)\\leq\\max\\{h_{2}\\circ h_{1}\\circ h_%&#10;{3}(x),\\,h_{1}\\circ h_{3}\\circ h_{2}(x)\\}\" display=\"inline\"><mrow><mrow><mrow><msub><mi>h</mi><mn>3</mn></msub><mo>\u2218</mo><msub><mi>h</mi><mn>2</mn></msub><mo>\u2218</mo><msub><mi>h</mi><mn>1</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mrow><msub><mi>h</mi><mn>2</mn></msub><mo>\u2218</mo><msub><mi>h</mi><mn>1</mn></msub><mo>\u2218</mo><msub><mi>h</mi><mn>3</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo rspace=\"4.2pt\">,</mo><mrow><mrow><msub><mi>h</mi><mn>1</mn></msub><mo>\u2218</mo><msub><mi>h</mi><mn>3</mn></msub><mo>\u2218</mo><msub><mi>h</mi><mn>2</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">}</mo></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nfor some reals $a_i^1$, $a_i^2$, $b_i^1$ and $b_i^2$ with $a_i^1, a_i^2>0$. \n \n\n\n\n\n\\begin{proof}\nWe show that {\\sc Partition}{}  can be reduced to the problem. \nLet  $a_1,\\dots, a_n$ denote positive integers with $\\sum_{i=1}^n a_i=2T$.\nWe construct $n+2$ functions $f_i$ $(i=1, \\dots , n+2)$ as follows:\n\n", "itemtype": "equation", "pos": 58435, "prevtext": "\nby Lemma \\ref{lemma:comp+-+}.\nIn either case, we can obtain a desired optimal solution by modifying $\\sigma$. \n\\end{proof}\n\n\nBy Lemmas \\ref{lemma:prod>} and \\ref{lemma:prod<}, we obtain Lemma \\ref{lemma:tc}.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\\section{Negative Results}\\label{sec:nr}\nIn the previous sections, we show that both the total and partial composition ordering problems can be solved efficiently if all $f_i$'s are monotone linear.  \nIt turns out that they cannot be generalized to nonlinear functions $f_i$. \nIn this section, we show the optimal composition ordering problems  are in general intractable, even if all $f_i$'s are \nmonotone increasing, piecewise linear functions with at most two pieces. \nWe remark that the maximum total composition ordering problem is known to be {} NP-hard, even if all $f_i$'s are  \n monotone increasing,  \n{\\em concave},  piecewise linear functions with at most two pieces \\cite{cheng1998tco}, which can be shown by considering the time-dependent scheduling problem. \n\n\n\nFor our reductions, \nwe use the following NP-complete problems (see \\cite{garey1979cai,ng2010ppa}).\n\\begin{description}\n\\item[{\\sc Partition}:] Given $n$ positive integers $a_1,\\dots,a_n$ with $\\sum_{i=1}^n a_i=2T$,\nask whether exists a subset \\(I\\subseteq [n]\\) such that $\\sum_{i \\in I}a_i=T$. \n\\item[{\\sc ProductPartition}:] Given $n$ positive integers $a_1,\\dots,a_n$ with $\\prod_{i=1}^n a_i=T^2$,\nask whether there exists a subset \\(I\\subseteq [n]\\) such that $\\prod_{i\\in I}a_i=T$. \n\\end{description}\nWe use {\\sc Partition}{} problem for concave case and\n{\\sc ProductPartition}{} for convex case.\n\n\n\n\\subsection{Monotone increasing, concave, piecewise linear functions with at most two pieces}\nIn this section, we consider the case in which all $f_i$'s are monotone increasing, concave,  piecewise linear functions with at most two pieces, \nthat is, \n$f_i$ is given as\n\n", "index": 43, "text": "\\begin{equation}\n\\label{eq-sec5-a1} \nf_i(x)=\\min\\{a_i^1x+b_i^1,\\,a_i^2x+b_i^2\\}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E8.m1\" class=\"ltx_Math\" alttext=\"f_{i}(x)=\\min\\{a_{i}^{1}x+b_{i}^{1},\\,a_{i}^{2}x+b_{i}^{2}\\}\" display=\"block\"><mrow><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>min</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mrow><msubsup><mi>a</mi><mi>i</mi><mn>1</mn></msubsup><mo>\u2062</mo><mi>x</mi></mrow><mo>+</mo><msubsup><mi>b</mi><mi>i</mi><mn>1</mn></msubsup></mrow><mo rspace=\"4.2pt\">,</mo><mrow><mrow><msubsup><mi>a</mi><mi>i</mi><mn>2</mn></msubsup><mo>\u2062</mo><mi>x</mi></mrow><mo>+</mo><msubsup><mi>b</mi><mi>i</mi><mn>2</mn></msubsup></mrow><mo stretchy=\"false\">}</mo></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nIt is clear  that all $f_i$'s are monotone, concave, and piecewise linear with at most two pieces.  \nMoreover, we note that all $f_i$'s ($i=1,\\dots,n+1$) satisfy $f_i(x) \\geq x$ if $0\\leq x \\leq 3T$,\nand \\(f_{n+2}(x)\\le x\\) if $x \\leq 3T-1/2$.\nWe claim that $3T$ is the optimal value for the maximum partial (total) composition ordering problem $((f_i)_{i\\in [n+1]},c=0)$ \nif there exists a partition \\(I\\subseteq [n]\\) such that $\\sum_{i \\in I}a_i=T$, \nand the optimal value is at most \\(3T-1/2\\) if $\\sum_{i \\in I}a_i\\ne T$ for any partition \\(I\\subseteq [n]\\).\nThis implies that\nthe optimal value for the maximum partial (total) composition ordering problem $((f_i)_{i\\in[n+2]},c=0)$ is at least \\(3\\alpha T\\) if $\\sum_{i \\in I}a_i=T$ for some \\(I\\subseteq [n]\\), \nand at most \\(3T\\) if $\\sum_{i \\in I}a_i\\ne T$ for any partition \\(I\\subseteq [n]\\),\nsince \\(f_{n+2}(3T)=3\\alpha T+3T-1/2>3\\alpha T\\) and \\(f_{n+2}(x)\\le x\\) if $x \\le 3T-1/2$.\nThus, there exists no $\\alpha$-approximation algorithm for the problems unless P=NP.\n\nLet $\\sigma:[n+1] \\to [n+1]$ denote a permutation with $\\sigma(l)=n+1$. \nThen define $I=\\{\\sigma(i) {\\,:\\,} i=1, \\dots , l-1\\}$ and \n$q=\\sum_{i \\in I} a_{i}$.\nNote that $\\sum_{i=l+1}^{n+1} a_{\\sigma(i)}=\\sum_{i \\not\\in I} a_i=2T-q$. \nConsider the function composition by $\\sigma$:\n\n", "itemtype": "equation", "pos": 58834, "prevtext": "\nfor some reals $a_i^1$, $a_i^2$, $b_i^1$ and $b_i^2$ with $a_i^1, a_i^2>0$. \n \n\n\n\n\n\\begin{proof}\nWe show that {\\sc Partition}{}  can be reduced to the problem. \nLet  $a_1,\\dots, a_n$ denote positive integers with $\\sum_{i=1}^n a_i=2T$.\nWe construct $n+2$ functions $f_i$ $(i=1, \\dots , n+2)$ as follows:\n\n", "index": 45, "text": "\\begin{align*}\nf_i(x)=\n\\begin{cases}\nx+a_i &{\\rm if} \\ i=1,\\dots , n,\\\\\n\\min\\left\\{2x,~\\frac{1}{2}x+\\frac{3}{2}T\\right\\} &{\\rm if} \\ i=n+1,\\\\\n6\\alpha T(x-(3T-\\frac{1}{2}))+(3T-\\frac{1}{2}) &{\\rm if} \\ i=n+2.\n\\end{cases}\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex18.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{i}(x)=\\begin{cases}x+a_{i}&amp;{\\rm if}\\ i=1,\\dots,n,\\\\&#10;\\min\\left\\{2x,~{}\\frac{1}{2}x+\\frac{3}{2}T\\right\\}&amp;{\\rm if}\\ i=n+1,\\\\&#10;6\\alpha T(x-(3T-\\frac{1}{2}))+(3T-\\frac{1}{2})&amp;{\\rm if}\\ i=n+2.\\end{cases}\" display=\"inline\"><mrow><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mo>{</mo><mtable columnspacing=\"5pt\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mrow><mi>x</mi><mo>+</mo><msub><mi>a</mi><mi>i</mi></msub></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mrow><mpadded width=\"+5pt\"><mi>if</mi></mpadded><mo>\u2062</mo><mi>i</mi></mrow><mo>=</mo><mrow><mn>1</mn><mo>,</mo><mi mathvariant=\"normal\">\u2026</mi><mo>,</mo><mi>n</mi></mrow></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><mi>min</mi><mo>\u2061</mo><mrow><mo>{</mo><mrow><mn>2</mn><mo>\u2062</mo><mi>x</mi></mrow><mo rspace=\"5.8pt\">,</mo><mrow><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>\u2062</mo><mi>x</mi></mrow><mo>+</mo><mrow><mfrac><mn>3</mn><mn>2</mn></mfrac><mo>\u2062</mo><mi>T</mi></mrow></mrow><mo>}</mo></mrow></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mrow><mpadded width=\"+5pt\"><mi>if</mi></mpadded><mo>\u2062</mo><mi>i</mi></mrow><mo>=</mo><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><mrow><mn>6</mn><mo>\u2062</mo><mi>\u03b1</mi><mo>\u2062</mo><mi>T</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>x</mi><mo>-</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><mn>3</mn><mo>\u2062</mo><mi>T</mi></mrow><mo>-</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><mn>3</mn><mo>\u2062</mo><mi>T</mi></mrow><mo>-</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mrow><mpadded width=\"+5pt\"><mi>if</mi></mpadded><mo>\u2062</mo><mi>i</mi></mrow><mo>=</mo><mrow><mi>n</mi><mo>+</mo><mn>2</mn></mrow></mrow><mo>.</mo></mrow></mtd></mtr></mtable></mrow></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nNote that $\\min\\left\\{q,~-\\frac{1}{2}q+\\frac{3}{2}T\\right\\} \\leq T$ holds, where the equality holds only when $q=T$. \nThis implies that \n\n", "itemtype": "equation", "pos": 60379, "prevtext": "\nIt is clear  that all $f_i$'s are monotone, concave, and piecewise linear with at most two pieces.  \nMoreover, we note that all $f_i$'s ($i=1,\\dots,n+1$) satisfy $f_i(x) \\geq x$ if $0\\leq x \\leq 3T$,\nand \\(f_{n+2}(x)\\le x\\) if $x \\leq 3T-1/2$.\nWe claim that $3T$ is the optimal value for the maximum partial (total) composition ordering problem $((f_i)_{i\\in [n+1]},c=0)$ \nif there exists a partition \\(I\\subseteq [n]\\) such that $\\sum_{i \\in I}a_i=T$, \nand the optimal value is at most \\(3T-1/2\\) if $\\sum_{i \\in I}a_i\\ne T$ for any partition \\(I\\subseteq [n]\\).\nThis implies that\nthe optimal value for the maximum partial (total) composition ordering problem $((f_i)_{i\\in[n+2]},c=0)$ is at least \\(3\\alpha T\\) if $\\sum_{i \\in I}a_i=T$ for some \\(I\\subseteq [n]\\), \nand at most \\(3T\\) if $\\sum_{i \\in I}a_i\\ne T$ for any partition \\(I\\subseteq [n]\\),\nsince \\(f_{n+2}(3T)=3\\alpha T+3T-1/2>3\\alpha T\\) and \\(f_{n+2}(x)\\le x\\) if $x \\le 3T-1/2$.\nThus, there exists no $\\alpha$-approximation algorithm for the problems unless P=NP.\n\nLet $\\sigma:[n+1] \\to [n+1]$ denote a permutation with $\\sigma(l)=n+1$. \nThen define $I=\\{\\sigma(i) {\\,:\\,} i=1, \\dots , l-1\\}$ and \n$q=\\sum_{i \\in I} a_{i}$.\nNote that $\\sum_{i=l+1}^{n+1} a_{\\sigma(i)}=\\sum_{i \\not\\in I} a_i=2T-q$. \nConsider the function composition by $\\sigma$:\n\n", "index": 47, "text": "\\begin{align*}\nf_{\\sigma(n+1)}&\\circ\\dots\\circ f_{\\sigma(l+1)}\\circ f_{\\sigma(l)} \\circ \nf_{\\sigma(l-1)}\\circ\\dots\\circ f_{\\sigma(1)}(0)\\\\\n&=f_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(l+1)}\\circ f_{n+1}(q)\\\\\n&=f_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(l+1)}\\left(\\min\\left\\{2q,~\\frac{1}{2}q+\\frac{3}{2}T\\right\\}\\right)\\\\\n&=\\min\\left\\{2q,~\\frac{1}{2}q+\\frac{3}{2}T\\right\\}+2T-q \\, =\\min\\left\\{q,~-\\frac{1}{2}q+\\frac{3}{2}T\\right\\}+2T.\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex19.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{\\sigma(n+1)}\" display=\"inline\"><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex19.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle\\circ\\dots\\circ f_{\\sigma(l+1)}\\circ f_{\\sigma(l)}\\circ f_{\\sigma%&#10;(l-1)}\\circ\\dots\\circ f_{\\sigma(1)}(0)\" display=\"inline\"><mrow><mi/><mo>\u2218</mo><mrow><mrow><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>l</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex20.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=f_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(l+1)}\\circ f_{n+1}(q)\" display=\"inline\"><mrow><mi/><mo>=</mo><mrow><mrow><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>q</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex21.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=f_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(l+1)}\\left(\\min\\left\\{2q,%&#10;~{}\\frac{1}{2}q+\\frac{3}{2}T\\right\\}\\right)\" display=\"inline\"><mrow><mi/><mo>=</mo><mrow><mrow><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo>(</mo><mrow><mi>min</mi><mo>\u2061</mo><mrow><mo>{</mo><mrow><mn>2</mn><mo>\u2062</mo><mi>q</mi></mrow><mo rspace=\"5.8pt\">,</mo><mrow><mrow><mstyle displaystyle=\"true\"><mfrac><mn>1</mn><mn>2</mn></mfrac></mstyle><mo>\u2062</mo><mi>q</mi></mrow><mo>+</mo><mrow><mstyle displaystyle=\"true\"><mfrac><mn>3</mn><mn>2</mn></mfrac></mstyle><mo>\u2062</mo><mi>T</mi></mrow></mrow><mo>}</mo></mrow></mrow><mo>)</mo></mrow></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex22.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\min\\left\\{2q,~{}\\frac{1}{2}q+\\frac{3}{2}T\\right\\}+2T-q\\,=\\min%&#10;\\left\\{q,~{}-\\frac{1}{2}q+\\frac{3}{2}T\\right\\}+2T.\" display=\"inline\"><mrow><mrow><mi/><mo>=</mo><mrow><mrow><mrow><mi>min</mi><mo>\u2061</mo><mrow><mo>{</mo><mrow><mn>2</mn><mo>\u2062</mo><mi>q</mi></mrow><mo rspace=\"5.8pt\">,</mo><mrow><mrow><mstyle displaystyle=\"true\"><mfrac><mn>1</mn><mn>2</mn></mfrac></mstyle><mo>\u2062</mo><mi>q</mi></mrow><mo>+</mo><mrow><mstyle displaystyle=\"true\"><mfrac><mn>3</mn><mn>2</mn></mfrac></mstyle><mo>\u2062</mo><mi>T</mi></mrow></mrow><mo>}</mo></mrow></mrow><mo>+</mo><mrow><mn>2</mn><mo>\u2062</mo><mi>T</mi></mrow></mrow><mo>-</mo><mpadded width=\"+1.7pt\"><mi>q</mi></mpadded></mrow><mo>=</mo><mrow><mrow><mi>min</mi><mo>\u2061</mo><mrow><mo>{</mo><mi>q</mi><mo rspace=\"5.8pt\">,</mo><mrow><mrow><mo>-</mo><mrow><mstyle displaystyle=\"true\"><mfrac><mn>1</mn><mn>2</mn></mfrac></mstyle><mo>\u2062</mo><mi>q</mi></mrow></mrow><mo>+</mo><mrow><mstyle displaystyle=\"true\"><mfrac><mn>3</mn><mn>2</mn></mfrac></mstyle><mo>\u2062</mo><mi>T</mi></mrow></mrow><mo>}</mo></mrow></mrow><mo>+</mo><mrow><mn>2</mn><mo>\u2062</mo><mi>T</mi></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nsince \\(q\\) is an integer, which proves the claim. \n\n\n\n\n\n\n\n\\end{proof}\n\nBy Lemma \\ref{lemma:partialtotal}, we have the following corollary. \nWe also have the following corollary.\n\\begin{corollary}\\label{cor:2concaveNPH}\nThe maximum total composition ordering problem \nis NP-hard, even if all $f_i$'s are represented by  $f_i(x)=\\max\\{x,\\min\\{a_i^1x+b_i^1,a_i^2x+b_i^2\\}\\}$ for some \n reals $a_i^1$, $a_i^2$, $b_i^1$ and $b_i^2$ with $a_i^1, a_i^2>0$. \n\\end{corollary}\n\n\\subsection{Monotone increasing,  convex,  piecewise linear functions with at most two pieces}\nIn this section, we consider the case in which all $f_i$'s are monotone increasing,  convex,  piecewise linear functions with at most two pieces, \nthat is, \n$f_i$ is given as\n\n", "itemtype": "equation", "pos": 60956, "prevtext": "\nNote that $\\min\\left\\{q,~-\\frac{1}{2}q+\\frac{3}{2}T\\right\\} \\leq T$ holds, where the equality holds only when $q=T$. \nThis implies that \n\n", "index": 49, "text": "\\begin{equation}\n\\label{eq-sec5-a3}\nf_{\\sigma(n+1)}\\circ\\dots\\circ f_{\\sigma(l+1)}\\circ f_{\\sigma(l)} \\circ \nf_{\\sigma(l-1)}\\circ\\dots\\circ f_{\\sigma(1)}(0) \n\\begin{cases}\n= 3T &(q=T),\\\\\n\\leq 3T-1/2 &(q\\ne T)\n\\end{cases}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E9.m1\" class=\"ltx_Math\" alttext=\"f_{\\sigma(n+1)}\\circ\\dots\\circ f_{\\sigma(l+1)}\\circ f_{\\sigma(l)}\\circ f_{%&#10;\\sigma(l-1)}\\circ\\dots\\circ f_{\\sigma(1)}(0)\\begin{cases}=3T&amp;(q=T),\\\\&#10;\\leq 3T-1/2&amp;(q\\neq T)\\end{cases}\" display=\"block\"><mrow><mrow><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>l</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mrow><mo>{</mo><mtable columnspacing=\"5pt\" displaystyle=\"true\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mrow><mi/><mo>=</mo><mrow><mn>3</mn><mo>\u2062</mo><mi>T</mi></mrow></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>q</mi><mo>=</mo><mi>T</mi></mrow><mo stretchy=\"false\">)</mo></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><mi/><mo>\u2264</mo><mrow><mrow><mn>3</mn><mo>\u2062</mo><mi>T</mi></mrow><mo>-</mo><mrow><mn>1</mn><mo>/</mo><mn>2</mn></mrow></mrow></mrow></mtd><mtd columnalign=\"left\"><mrow><mo stretchy=\"false\">(</mo><mrow><mi>q</mi><mo>\u2260</mo><mi>T</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mtd></mtr></mtable></mrow></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nfor some reals $a_i^1$, $a_i^2$, $b_i^1$ and $b_i^2$ with $a_i^1, a_i^2>0$. \nBefore showing the intractability of the problems, we present two basic properties for the function composition. \n\nFor an integer $i \\in [n]$, let $g_i=a_i(x-d)+d$. \nThen we have \n\n", "itemtype": "equation", "pos": 61931, "prevtext": "\nsince \\(q\\) is an integer, which proves the claim. \n\n\n\n\n\n\n\n\\end{proof}\n\nBy Lemma \\ref{lemma:partialtotal}, we have the following corollary. \nWe also have the following corollary.\n\\begin{corollary}\\label{cor:2concaveNPH}\nThe maximum total composition ordering problem \nis NP-hard, even if all $f_i$'s are represented by  $f_i(x)=\\max\\{x,\\min\\{a_i^1x+b_i^1,a_i^2x+b_i^2\\}\\}$ for some \n reals $a_i^1$, $a_i^2$, $b_i^1$ and $b_i^2$ with $a_i^1, a_i^2>0$. \n\\end{corollary}\n\n\\subsection{Monotone increasing,  convex,  piecewise linear functions with at most two pieces}\nIn this section, we consider the case in which all $f_i$'s are monotone increasing,  convex,  piecewise linear functions with at most two pieces, \nthat is, \n$f_i$ is given as\n\n", "index": 51, "text": "\\begin{equation}\n\\label{eq-sec5-a4} \nf_i(x)=\\max\\{a_i^1x+b_i^1,\\,a_i^2x+b_i^2\\}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E10.m1\" class=\"ltx_Math\" alttext=\"f_{i}(x)=\\max\\{a_{i}^{1}x+b_{i}^{1},\\,a_{i}^{2}x+b_{i}^{2}\\}\" display=\"block\"><mrow><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mrow><msubsup><mi>a</mi><mi>i</mi><mn>1</mn></msubsup><mo>\u2062</mo><mi>x</mi></mrow><mo>+</mo><msubsup><mi>b</mi><mi>i</mi><mn>1</mn></msubsup></mrow><mo rspace=\"4.2pt\">,</mo><mrow><mrow><msubsup><mi>a</mi><mi>i</mi><mn>2</mn></msubsup><mo>\u2062</mo><mi>x</mi></mrow><mo>+</mo><msubsup><mi>b</mi><mi>i</mi><mn>2</mn></msubsup></mrow><mo stretchy=\"false\">}</mo></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nThus, $\\prod_{i=1}^na_i >0$ implies the following inequalities:\n\n", "itemtype": "equation", "pos": 62283, "prevtext": "\nfor some reals $a_i^1$, $a_i^2$, $b_i^1$ and $b_i^2$ with $a_i^1, a_i^2>0$. \nBefore showing the intractability of the problems, we present two basic properties for the function composition. \n\nFor an integer $i \\in [n]$, let $g_i=a_i(x-d)+d$. \nThen we have \n\n", "index": 53, "text": "\\begin{equation}\n\\label{eq-sec5-a5}\ng_{n}\\circ g_{n-1}\\circ \\dots\\circ g_{1}(x)=(x-d)\\prod_{i=1}^na_i+d.  \n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E11.m1\" class=\"ltx_Math\" alttext=\"g_{n}\\circ g_{n-1}\\circ\\dots\\circ g_{1}(x)=(x-d)\\prod_{i=1}^{n}a_{i}+d.\" display=\"block\"><mrow><mrow><mrow><mrow><msub><mi>g</mi><mi>n</mi></msub><mo>\u2218</mo><msub><mi>g</mi><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>g</mi><mn>1</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>x</mi><mo>-</mo><mi>d</mi></mrow><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u220f</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msub><mi>a</mi><mi>i</mi></msub></mrow></mrow><mo>+</mo><mi>d</mi></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\n\nWe are now ready to prove the intractability. \n\n\n\n\n\\begin{proof}\nWe show that {\\sc ProductPartition}{} can be reduced to them. \n\nLet  $a_1,\\dots, a_n\\,(> 1)$ denote positive integers with $\\prod_{i=1}^na_i=T^2$.\nWe construct $n+2$ functions $f_i$ $(i=1, \\dots , n+2)$ as follows:\n\n", "itemtype": "equation", "pos": 62469, "prevtext": "\nThus, $\\prod_{i=1}^na_i >0$ implies the following inequalities:\n\n", "index": 55, "text": "\\begin{equation}\n\\label{eq-sec5-a6}\n\\left.\n\\begin{array}{ll}\ng_{n}\\circ g_{n-1}\\circ \\dots\\circ g_{1}(x) < d & {\\rm if } \\ x< d,\\\\\ng_{n}\\circ g_{n-1}\\circ \\dots\\circ g_{1}(x) = d & {\\rm if } \\ x= d,\\\\\ng_{n}\\circ g_{n-1}\\circ \\dots\\circ g_{1}(x)> d & {\\rm if } \\  x> d.\n\\end{array}\n\\right.\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E12.m1\" class=\"ltx_Math\" alttext=\"\\left.\\begin{array}[]{ll}g_{n}\\circ g_{n-1}\\circ\\dots\\circ g_{1}(x)&lt;d&amp;{\\rm if}%&#10;\\ x&lt;d,\\\\&#10;g_{n}\\circ g_{n-1}\\circ\\dots\\circ g_{1}(x)=d&amp;{\\rm if}\\ x=d,\\\\&#10;g_{n}\\circ g_{n-1}\\circ\\dots\\circ g_{1}(x)&gt;d&amp;{\\rm if}\\ x&gt;d.\\end{array}\\right.\" display=\"block\"><mtable columnspacing=\"5pt\" displaystyle=\"true\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mrow><mrow><mrow><msub><mi>g</mi><mi>n</mi></msub><mo>\u2218</mo><msub><mi>g</mi><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>g</mi><mn>1</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>&lt;</mo><mi>d</mi></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mrow><mpadded width=\"+5pt\"><mi>if</mi></mpadded><mo>\u2062</mo><mi>x</mi></mrow><mo>&lt;</mo><mi>d</mi></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><mrow><mrow><msub><mi>g</mi><mi>n</mi></msub><mo>\u2218</mo><msub><mi>g</mi><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>g</mi><mn>1</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mi>d</mi></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mrow><mpadded width=\"+5pt\"><mi>if</mi></mpadded><mo>\u2062</mo><mi>x</mi></mrow><mo>=</mo><mi>d</mi></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><mrow><mrow><msub><mi>g</mi><mi>n</mi></msub><mo>\u2218</mo><msub><mi>g</mi><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>g</mi><mn>1</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>&gt;</mo><mi>d</mi></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mrow><mpadded width=\"+5pt\"><mi>if</mi></mpadded><mo>\u2062</mo><mi>x</mi></mrow><mo>&gt;</mo><mi>d</mi></mrow><mo>.</mo></mrow></mtd></mtr></mtable></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\n\n\\noindent \nIt is clear that all $f_i$'s are monotone, convex, and piecewise linear with at most two pieces.  \nMoreover, we note that  $f_i \\geq x$ holds for all functions $f_i$, which together with Lemma \\ref{lemma:partialtotal} implies that  \nthe maximum partial and total composition ordering problems are equivalent for the functions $f_i$. \nTherefore, we deal with the total setting only. \nWe now claim that $2T^2$ is the optimal value for the maximum partial composition ordering problem $((f_i)_{i\\in [n+1},c=0)$ \nif there exists a desired partition \\(I\\subseteq [n]\\) for {\\sc ProductPartition}{}, i.e., $\\prod_{i\\in I}a_i=T$,\nand at most \\(2T^2-(T/(T+1))^2\\) otherwise.\nThis implies that the optimal value for the maximum total composition ordering problem $((f_i)_{i\\in[n+2]},c=0)$ is at least \\(2\\alpha T^2\\) \nif $\\prod_{i\\in I}a_i=T$ for an \\(I\\subseteq [n]\\),\nand at most \\(2T^2\\) if $\\prod_{i\\in I}a_i\\ne T$ for any \\(I\\subseteq [n]\\),\nsince \\(f_{n+2}(2T^2)>2\\alpha T^2\\) and \\(f_{n+2}(x)\\le x\\) if \\(x\\le 2T^2-(T/(T+1))^2\\).\nThus, there exists no \\(\\alpha\\)-approximation algorithm for the problems unless P=NP.\n\nLet $\\sigma:[n+1] \\to [n+1]$ denote a permutation with $\\sigma(l)=n+1$. \nThen define $I=\\{\\sigma(i) {\\,:\\,} i=1, \\dots , l-1\\}$ and \n$p=\\frac{1}{\\prod_{i \\in I} a_{i}}$.\nNote that $\\prod_{i=l+1}^{n+1} a_{\\sigma(i)}=\\prod_{i \\not\\in I} a_i=pT^2$. \nConsider the function composition by $\\sigma$:\n\n", "itemtype": "equation", "pos": 63054, "prevtext": "\n\nWe are now ready to prove the intractability. \n\n\n\n\n\\begin{proof}\nWe show that {\\sc ProductPartition}{} can be reduced to them. \n\nLet  $a_1,\\dots, a_n\\,(> 1)$ denote positive integers with $\\prod_{i=1}^na_i=T^2$.\nWe construct $n+2$ functions $f_i$ $(i=1, \\dots , n+2)$ as follows:\n\n", "index": 57, "text": "\\begin{align*}\nf_i(x)=\n\\begin{cases}\n\\max\\left\\{\\frac{1}{a_i}(x-T^2)+T^2,~ a_i(x-T^2)+T^2\\right\\} &\\text{if}  \\ i=1,\\dots , n,\\\\\nx+2T &\\text{if} \\ i=n+1,\\\\\n4\\alpha (T+1)^2\\left(x-2T^2+\\left(\\frac{T}{T+1}\\right)^2\\right)-2T^2+\\left(\\frac{T}{T+1}\\right)^2\n&\\text{if} \\ i=n+2,\\\\\n\\end{cases}\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex23.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{i}(x)=\\begin{cases}\\max\\left\\{\\frac{1}{a_{i}}(x-T^{2})+T^{2},%&#10;~{}a_{i}(x-T^{2})+T^{2}\\right\\}&amp;\\text{if}\\ i=1,\\dots,n,\\\\&#10;x+2T&amp;\\text{if}\\ i=n+1,\\\\&#10;4\\alpha(T+1)^{2}\\left(x-2T^{2}+\\left(\\frac{T}{T+1}\\right)^{2}\\right)-2T^{2}+%&#10;\\left(\\frac{T}{T+1}\\right)^{2}&amp;\\text{if}\\ i=n+2,\\\\&#10;\\end{cases}\" display=\"inline\"><mrow><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mo>{</mo><mtable columnspacing=\"5pt\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo>{</mo><mrow><mrow><mfrac><mn>1</mn><msub><mi>a</mi><mi>i</mi></msub></mfrac><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>x</mi><mo>-</mo><msup><mi>T</mi><mn>2</mn></msup></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><msup><mi>T</mi><mn>2</mn></msup></mrow><mo rspace=\"5.8pt\">,</mo><mrow><mrow><msub><mi>a</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>x</mi><mo>-</mo><msup><mi>T</mi><mn>2</mn></msup></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><msup><mi>T</mi><mn>2</mn></msup></mrow><mo>}</mo></mrow></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mrow><mpadded width=\"+5pt\"><mtext>if</mtext></mpadded><mo>\u2062</mo><mi>i</mi></mrow><mo>=</mo><mrow><mn>1</mn><mo>,</mo><mi mathvariant=\"normal\">\u2026</mi><mo>,</mo><mi>n</mi></mrow></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><mi>x</mi><mo>+</mo><mrow><mn>2</mn><mo>\u2062</mo><mi>T</mi></mrow></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mrow><mpadded width=\"+5pt\"><mtext>if</mtext></mpadded><mo>\u2062</mo><mi>i</mi></mrow><mo>=</mo><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><mrow><mrow><mn>4</mn><mo>\u2062</mo><mi>\u03b1</mi><mo>\u2062</mo><msup><mrow><mo stretchy=\"false\">(</mo><mrow><mi>T</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow><mn>2</mn></msup><mo>\u2062</mo><mrow><mo>(</mo><mrow><mrow><mi>x</mi><mo>-</mo><mrow><mn>2</mn><mo>\u2062</mo><msup><mi>T</mi><mn>2</mn></msup></mrow></mrow><mo>+</mo><msup><mrow><mo>(</mo><mfrac><mi>T</mi><mrow><mi>T</mi><mo>+</mo><mn>1</mn></mrow></mfrac><mo>)</mo></mrow><mn>2</mn></msup></mrow><mo>)</mo></mrow></mrow><mo>-</mo><mrow><mn>2</mn><mo>\u2062</mo><msup><mi>T</mi><mn>2</mn></msup></mrow></mrow><mo>+</mo><msup><mrow><mo>(</mo><mfrac><mi>T</mi><mrow><mi>T</mi><mo>+</mo><mn>1</mn></mrow></mfrac><mo>)</mo></mrow><mn>2</mn></msup></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mrow><mpadded width=\"+5pt\"><mtext>if</mtext></mpadded><mo>\u2062</mo><mi>i</mi></mrow><mo>=</mo><mrow><mi>n</mi><mo>+</mo><mn>2</mn></mrow></mrow><mo>,</mo></mrow></mtd></mtr></mtable></mrow></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nwhere \\eqref{eq-sec5-a7} follows from \\eqref{eq-sec5-a5} and \\eqref{eq-sec5-a6}, \nand  \n(\\ref{eq-sec5-a8}) follows from  \\eqref{eq-sec5-a5} and $a_{\\sigma(i)} > 1$ for all $\\ i \\geq l+1$. \nWe also note that \\eqref{eq-sec5-a8} is satisfied by equality if and only if  \\(T^2(1-p)+2T\\ge T^2\\),\ni.e., \\(p\\le 2/T\\).\n\n\nThus, we have\n\n", "itemtype": "equation", "pos": 64777, "prevtext": "\n\n\\noindent \nIt is clear that all $f_i$'s are monotone, convex, and piecewise linear with at most two pieces.  \nMoreover, we note that  $f_i \\geq x$ holds for all functions $f_i$, which together with Lemma \\ref{lemma:partialtotal} implies that  \nthe maximum partial and total composition ordering problems are equivalent for the functions $f_i$. \nTherefore, we deal with the total setting only. \nWe now claim that $2T^2$ is the optimal value for the maximum partial composition ordering problem $((f_i)_{i\\in [n+1},c=0)$ \nif there exists a desired partition \\(I\\subseteq [n]\\) for {\\sc ProductPartition}{}, i.e., $\\prod_{i\\in I}a_i=T$,\nand at most \\(2T^2-(T/(T+1))^2\\) otherwise.\nThis implies that the optimal value for the maximum total composition ordering problem $((f_i)_{i\\in[n+2]},c=0)$ is at least \\(2\\alpha T^2\\) \nif $\\prod_{i\\in I}a_i=T$ for an \\(I\\subseteq [n]\\),\nand at most \\(2T^2\\) if $\\prod_{i\\in I}a_i\\ne T$ for any \\(I\\subseteq [n]\\),\nsince \\(f_{n+2}(2T^2)>2\\alpha T^2\\) and \\(f_{n+2}(x)\\le x\\) if \\(x\\le 2T^2-(T/(T+1))^2\\).\nThus, there exists no \\(\\alpha\\)-approximation algorithm for the problems unless P=NP.\n\nLet $\\sigma:[n+1] \\to [n+1]$ denote a permutation with $\\sigma(l)=n+1$. \nThen define $I=\\{\\sigma(i) {\\,:\\,} i=1, \\dots , l-1\\}$ and \n$p=\\frac{1}{\\prod_{i \\in I} a_{i}}$.\nNote that $\\prod_{i=l+1}^{n+1} a_{\\sigma(i)}=\\prod_{i \\not\\in I} a_i=pT^2$. \nConsider the function composition by $\\sigma$:\n\n", "index": 59, "text": "\\begin{align}\nf_{\\sigma(n+1)} \\circ\\dots \\circ f_{\\sigma(l+1)}\\circ&  f_{\\sigma(l)} \\circ   f_{\\sigma(l-1)}\\circ\\dots\\circ f_{\\sigma(1)}(0)\\nonumber\\\\\n&= \\,\\, f_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(l+1)}\\circ f_{n+1}(T^2(1-p)) \\label{eq-sec5-a7}\\\\\n&=\\,\\, f_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(l+1)}(T^2(1-p)+2T) \\nonumber\\\\\n&\\leq \\,\\, pT^2 (T^2(1-p)+2T-T^2)+T^2 \\label{eq-sec5-a8}\\\\\n&=\\,\\, 2T^2 -T^2(pT-1)^2 \\nonumber\n\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex24.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{\\sigma(n+1)}\\circ\\dots\\circ f_{\\sigma(l+1)}\\circ\" display=\"inline\"><mrow><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex24.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{\\sigma(l)}\\circ f_{\\sigma(l-1)}\\circ\\dots\\circ f_{\\sigma(1)}(0)\" display=\"inline\"><mrow><mrow><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>l</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E13.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\,\\,f_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(l+1)}\\circ f_{n+1}(T^%&#10;{2}(1-p))\" display=\"inline\"><mrow><mi/><mo rspace=\"5.9pt\">=</mo><mrow><mrow><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><msup><mi>T</mi><mn>2</mn></msup><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mn>1</mn><mo>-</mo><mi>p</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex25.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\,\\,f_{\\sigma(n)}\\circ\\dots\\circ f_{\\sigma(l+1)}(T^{2}(1-p)+2T)\" display=\"inline\"><mrow><mi/><mo rspace=\"5.9pt\">=</mo><mrow><mrow><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><msup><mi>T</mi><mn>2</mn></msup><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mn>1</mn><mo>-</mo><mi>p</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><mrow><mn>2</mn><mo>\u2062</mo><mi>T</mi></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E14.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle\\leq\\,\\,pT^{2}(T^{2}(1-p)+2T-T^{2})+T^{2}\" display=\"inline\"><mrow><mi/><mo rspace=\"5.9pt\">\u2264</mo><mrow><mrow><mi>p</mi><mo>\u2062</mo><msup><mi>T</mi><mn>2</mn></msup><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><mrow><msup><mi>T</mi><mn>2</mn></msup><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mn>1</mn><mo>-</mo><mi>p</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><mrow><mn>2</mn><mo>\u2062</mo><mi>T</mi></mrow></mrow><mo>-</mo><msup><mi>T</mi><mn>2</mn></msup></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><msup><mi>T</mi><mn>2</mn></msup></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex26.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\,\\,2T^{2}-T^{2}(pT-1)^{2}\\par&#10;\" display=\"inline\"><mrow><mi/><mo>=</mo><mrow><mrow><mn>\u2009\u20092</mn><mo>\u2062</mo><msup><mi>T</mi><mn>2</mn></msup></mrow><mo>-</mo><mrow><msup><mi>T</mi><mn>2</mn></msup><mo>\u2062</mo><msup><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><mi>p</mi><mo>\u2062</mo><mi>T</mi></mrow><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow><mn>2</mn></msup></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nsince $1/p$ is an integer, which proves the claim.\n\\end{proof}\n\nBy Lemma~\\ref{lemma:partialtotal}, we also have the following result. \n\\begin{corollary}\nThe maximum total composition ordering problem \nis NP-hard, even if all $f_i$'s are represented by  $f_i(x)=\\max\\{x, a_i^1x+b_i^1,a_i^2x+b_i^2\\}$ for some \n reals $a_i^1$, $a_i^2$, $b_i^1$ and $b_i^2$ with $a_i^1, a_i^2>0$. \n\\end{corollary}\n\n\n\n\n\\bibliographystyle{plain}\n\\newpage\n\\bibliography{all}\n\\newpage\n\\appendix\n\\setlength\\intextsep{10pt}\n\\section*{Appendix: Omitted Proofs}\n\\subsection*{Proof of Lemma \\ref{lemma:gammaprec}}\n\\newtheorem*{lemma:gammaprec}{Lemma \\ref{lemma:gammaprec}}\n\\begin{lemma:gammaprec}\nLet \\(f_i(x)=a_ix+b_i\\) and \\(f_j(x)=a_jx+b_j\\) be $($non-identity$)$ monotone nondecreasing functions $($i.e., \\((a_i,b_i),(a_j,b_j)\\ne (1,0)\\), \\(a_i,a_j\\ge 0\\)$)$. \nThen we have the following statements;\n\\begin{enumerate}\n\\item if \\(a_i,a_j=1\\), then \\(f_i\\simeq f_j\\),\n\\item if \\(a_i,a_j\\ge 1\\) and \\(a_i\\cdot a_j>1\\), then \\(f_i\\preceq f_j{\\Leftrightarrow}\\gamma(f_i)\\le \\gamma(f_j)\\),\n\\item if \\(a_i,a_j<1\\), then \\(f_i\\preceq f_j{\\Leftrightarrow}\\gamma(f_i)\\le \\gamma(f_j)\\),\n\\item if \\(a_i\\ge 1\\), \\(a_j<1\\), then \\(f_i\\preceq f_j{\\Leftrightarrow}\\gamma(f_i)\\ge \\gamma(f_j)\\) and \\(f_i\\succeq f_j{\\Leftrightarrow}\\gamma(f_i)\\le \\gamma(f_j)\\).\n\\end{enumerate}\n\\end{lemma:gammaprec}\n\\begin{proof}\n$\\boldsymbol{ (a)}$:  It immediately follows from  \\(f_i\\circ f_j(x)=f_j\\circ f_i(x)=x+b_i+b_j\\).\n\n\\smallskip\n\\noindent\n$\\boldsymbol{(b)}$: If \\(a_i,a_j>1\\),  then the lemma holds, since we have the following equivalences  \\(\\eqref{eq:lprec}{\\Leftrightarrow} \\frac{b_i}{1-a_i}\\le \\frac{b_j}{1-a_j}{\\Leftrightarrow} \\gamma(f_i)\\le\\gamma(f_j)\\). \nIf \\(a_i>1\\) and \\(a_j=1\\), \n then the lemma holds, since we have the following equivalences \\(\\eqref{eq:lprec}{\\Leftrightarrow} 0\\le b_j(1-a_i){\\Leftrightarrow} b_j<0{\\Leftrightarrow} \\gamma(f_j)=+\\infty{\\Leftrightarrow} \\gamma(f_i)\\le\\gamma(f_j)\\).\nOtherwise (i.e., \\(a_i=1\\) and \\(a_j>1\\)), \nwe have \\(\\eqref{eq:lprec}{\\Leftrightarrow} b_i(1-a_j)\\le 0{\\Leftrightarrow} b_i>0{\\Leftrightarrow} \\gamma(f_i)=-\\infty{\\Leftrightarrow} \\gamma(f_i)\\le\\gamma(f_j)\\), which prove the lemma. \n\n\n\\smallskip\n\\noindent\n$\\boldsymbol{(c)}$: The lemma holds, since we have the following equivalences  \\(\\eqref{eq:lprec}{\\Leftrightarrow} \\frac{b_i}{1-a_i}\\le \\frac{b_j}{1-a_j}{\\Leftrightarrow} \\gamma(f_i)\\le\\gamma(f_j)\\).\n\n\n\\smallskip\n\\noindent\n$\\boldsymbol{(d)}$: If \\(a_i>1\\), the lemma holds since we have the following equivalences \\(\\eqref{eq:lprec}{\\Leftrightarrow} \\frac{b_i}{1-a_i}\\ge \\frac{b_j}{1-a_j}{\\Leftrightarrow} \\gamma(f_i)\\ge\\gamma(f_j)\\).\nOn the other hand, if \\(a_i=1\\), then \\(f_i\\preceq f_j{\\Leftrightarrow} b_i(1-a_j)\\le 0{\\Leftrightarrow} b_i<0{\\Leftrightarrow} \\gamma(f_i)=+\\infty{\\Leftrightarrow} \\gamma(f_i)\\ge\\gamma(f_j)\\),\nand \\(f_i\\succeq f_j{\\Leftrightarrow} b_i(1-a_j)\\ge 0{\\Leftrightarrow} b_i>0{\\Leftrightarrow} \\gamma(f_i)=-\\infty{\\Leftrightarrow} \\gamma(f_i)\\le\\gamma(f_j)\\).\n\n\n\\end{proof}\n\n\\subsection*{Proof of Lemma \\ref{lemma:gammaprec-check}}\n\\newtheorem*{lemma:gammaprec-check}{Lemma \\ref{lemma:gammaprec-check}}\n\\begin{lemma:gammaprec-check}\nFor $($non-identity$)$ monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\) and \\(f_j(x)=a_jx+b_j\\),  \nwe have the following statements;\n\\begin{enumerate}\n\\item if \\(a_i, a_j \\geq 1\\) and \\(\\gamma(f_i)\\le \\gamma(f_j)\\), then \\(\\overline{f}_i\\preceq \\overline{f}_j\\),\n\\item if \\(a_i, a_j < 1\\)  and \\(\\gamma(f_i)\\le \\gamma(f_j)\\), then \\(\\overline{f}_i\\preceq \\overline{f}_j\\),\n\\item if \\(a_i <1 \\), \\(a_j \\geq 1\\), and \\(\\gamma(f_i)\\le \\gamma(f_j)\\), then \\(\\overline{f}_i\\simeq \\overline{f}_j\\),\n\\item if \\(a_i \\geq 1\\), \\(a_j<1\\), and \\(\\gamma(f_i)\\le \\gamma(f_j)\\), then \\(\\overline{f}_i\\succeq \\overline{f}_j\\).\n\\end{enumerate}\n\\end{lemma:gammaprec-check}\n\\begin{proof}\n\\noindent\n$\\boldsymbol{(a)}$:  We prove that \\(\\overline{f}_j\\circ\\overline{f}_i(x)\\ge \\overline{f}_i\\circ\\overline{f}_j(x)\\) holds for any \\(x\\).\nWe separately consider three cases \\(x< \\gamma(f_i)\\), \\(\\gamma(f_i)\\le x\\le \\gamma(f_j)\\), and \\(\\gamma(f_j)< x\\) \n(see Figure  \\ref{fig:gammaprec-check} \\subref{fig:gammaprec-check++}).\n\n\\smallskip\n\\noindent \\textbf{Case} $\\boldsymbol{a}${\\bf -1}: If \\(x< \\gamma(f_i)\\), then \nwe have\n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(x)=x\\) \nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(x)=x\\)\nby \\(x<\\gamma(f_i)\\le\\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)= \\overline{f}_i\\circ \\overline{f}_j(x)\\).\n\n\\smallskip\n\\noindent \\textbf{Case} $\\boldsymbol{a}${\\bf -2}: If \\(\\gamma(f_i)\\le x\\le \\gamma(f_j)\\),  then it holds that \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(x)=f_i(x)\\) and \n\\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(f_i(x))\\) \nby \\(\\gamma(f_i)\\le x\\le \\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)\\ge \\overline{f}_i\\circ \\overline{f}_j(x)\\), \nsince \\(\\overline{f}_j(y)\\ge y\\) for any \\(y\\).\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{a}${\\bf -3}: If \\(\\gamma(f_j)< x\\), then \nwe have\n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(f_j(x))=f_i(f_j(x))\\) \nby \\(\\gamma(f_i)\\le\\gamma(f_j)<x\\le f_j(x)\\),\nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(f_i(x))=f_j(f_i(x))\\)\nby \\(\\gamma(f_i)\\le\\gamma(f_j)<x\\le f_i(x)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)\\ge \\overline{f}_i\\circ \\overline{f}_j(x)\\)\nby \\ref{lemma:gammaprec11} and \\ref{lemma:gammaprec++} in Lemma~\\ref{lemma:gammaprec}.\n\n\n\\smallskip\n\\noindent\n$\\boldsymbol{(b)}$:  We prove that \\(\\overline{f}_j\\circ\\overline{f}_i(x)\\ge \\overline{f}_i\\circ\\overline{f}_j(x)\\) holds for any \\(x\\).\nWe separately consider four cases \\(x< f_j^{-1}(\\gamma(f_i))\\), \\(f_j^{-1}(\\gamma(f_i))\\le x< \\gamma(f_i)\\),\n\\(\\gamma(f_i)\\le x< \\gamma(f_j)\\), and \\(\\gamma(f_j)\\le x\\)\n\n(see Figure \\ref{fig:gammaprec-check} \\subref{fig:gammaprec-check--}).\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{b}${\\bf -1}: If \\(x< f_j^{-1}(\\gamma(f_i))\\), then \nwe have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(f_j(x))=f_i(f_j(x))\\) \nby \\(x\\le f_j(x)\\le\\gamma(f_i)\\le \\gamma(f_j)\\),\nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(f_i(x))=f_j(f_i(x))\\)\nby \\(x\\le f_i(x)\\le\\gamma(f_i)\\le\\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)\\ge\\overline{f}_i\\circ \\overline{f}_j(x)\\)\nby \\ref{lemma:gammaprec--} in Lemma \\ref{lemma:gammaprec}.\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{b}${\\bf -2}: If \\(f_j^{-1}(\\gamma(f_i))\\le x< \\gamma(f_i)\\), then \nwe have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(f_j(x))=f_j(x)\\)\nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(f_i(x))=f_j(f_i(x))\\)\nby \\(x\\le f_i(x)\\le\\gamma(f_i)\\le f_j(x)\\le \\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)\\ge \\overline{f}_i\\circ \\overline{f}_j(x)\\), \nsince \\(f_i(x)\\ge x\\) and \\(f_j\\) is monotone nondecreasing.\n\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{b}${\\bf -3}: If \\(\\gamma(f_i)\\le x< \\gamma(f_j)\\), \nthen we have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(f_j(x))=f_j(x)\\) \nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(x)=f_j(x)\\)\nby \\(\\gamma(f_i)\\le x\\le f_j(x)< \\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x) = \\overline{f}_i\\circ \\overline{f}_j(x)\\).\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{b}${\\bf -4}: If \\(\\gamma(f_j)\\le x\\), \nthen we have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(x)=x\\) \nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(x)=x\\)\nby \\(\\gamma(f_i)\\le \\gamma(f_j)\\le x\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)= \\overline{f}_i\\circ \\overline{f}_j(x)\\).\n\n\\smallskip\n\n\\noindent\n$\\boldsymbol{(c)}$: \nWe prove that \\(\\overline{f}_j\\circ\\overline{f}_i(x)= \\overline{f}_i\\circ\\overline{f}_j(x)\\) holds for any \\(x\\).\nWe separately consider three cases \\(x< \\gamma(f_i)\\), \\(\\gamma(f_i)\\le x< \\gamma(f_j)\\), and \\(\\gamma(f_j)\\le x\\)\n(see Figure \\ref{fig:gammaprec-check} \\subref{fig:gammaprec-check-+}).\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{c}${\\bf -1}: If \\(x<\\gamma(f_i)\\), \nthen we  have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(x)=f_i(x)\\) \nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(f_i(x))=f_i(x)\\)\nby \\(x\\le f_i(x)\\le\\gamma(f_i)\\le\\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)= \\overline{f}_i\\circ \\overline{f}_j(x)\\).\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{c}${\\bf -2}: If \\(\\gamma(f_i)\\le x<\\gamma(f_j)\\), then \nwe have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(x)=x\\) \nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(x)=x\\)\nby \\(\\gamma(f_i)\\le x<\\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)= \\overline{f}_i\\circ \\overline{f}_j(x)\\).\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{c}${\\bf -3}: If \\(\\gamma(f_j)\\le x\\), \nthen we have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(f_j(x))=f_j(x)\\) \nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(x)=f_j(x)\\)\nby \\(\\gamma(f_i)\\le \\gamma(f_j)\\le x\\le f_j(x)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)= \\overline{f}_i\\circ \\overline{f}_j(x)\\).\n\n\n\\smallskip\n\n\n\\noindent\n$\\boldsymbol{(d)}$: \nWe prove that \\(\\overline{f}_j\\circ\\overline{f}_i(x)\\le \\overline{f}_i\\circ\\overline{f}_j(x)\\) holds for any \\(x\\).\nWe separately consider four cases \\(x<\\gamma(f_i)\\), \\(\\gamma(f_i)\\le x< f_i^{-1}(\\gamma(f_j))\\), \\(f_i^{-1}(\\gamma(f_j))\\le x<\\gamma(f_j)\\), and \\(\\gamma(f_j)\\le x\\)\n(see Figure \\ref{fig:gammaprec-check} \\subref{fig:gammaprec-check+-}).\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{d}${\\bf -1}: If \\(x<\\gamma(f_i)\\), then \nwe have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(f_j(x))\\) \nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(x)=f_j(x)\\)\nby \\(x<\\gamma(f_i)\\le\\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)\\le \\overline{f}_i\\circ \\overline{f}_j(x)\\), \nsince \\(\\overline{f}_i(y)\\ge y\\) for any \\(y\\).\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{d}${\\bf -2}: If \\(\\gamma(f_i)\\le x< f_i^{-1}(\\gamma(f_j))\\), then \nwe have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(f_j(x))=f_i(f_j(x))\\)\nby \\(\\gamma(f_i)\\le x\\le f_j(x)\\le \\gamma(f_j)\\),\nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(f_i(x))=f_j(f_i(x))\\)\nby \\(\\gamma(f_i)\\le x\\le f_i(x)\\le \\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)\\le \\overline{f}_i\\circ \\overline{f}_j(x)\\)\nby \\ref{lemma:gammaprec+-} in Lemma \\ref{lemma:gammaprec}.\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{d}${\\bf -3}: If \\(f_i^{-1}(\\gamma(f_j))\\le x< \\gamma(f_j)\\), then \nwe have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(f_j(x))=f_i(f_j(x))\\)\nby \\(\\gamma(f_i)\\le f_i^{-1}(\\gamma(f_j))\\le x\\le f_j(x)\\le\\gamma(f_j)\\)\nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(f_i(x))=f_i(x)\\)\nby \\(\\gamma(f_i)\\le f_i^{-1}(\\gamma(f_j))\\le x\\le\\gamma(f_j)\\le f_i(x)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)\\le \\overline{f}_i\\circ \\overline{f}_j(x)\\), \nsince \\(f_j(x)\\ge x\\) and \\(f_i\\) is monotone nondecreasing.\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{d}${\\bf -4}:  If \\(\\gamma(f_j)\\le x\\), then \nwe have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(x)=f_i(x)\\) \nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(f_i(x))=f_i(x)\\)\nby \\(\\gamma(f_i)\\le \\gamma(f_j)\\le x\\le f_i(x)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)= \\overline{f}_i\\circ \\overline{f}_j(x)\\).\n\n\\begin{figure}[t]\n\\centering{\n\\subfloat[\\(a_i,a_j\\ge 1,~ \\gamma(f_i)\\le \\gamma(f_j)\\)]\n{\\includegraphics[width=0.30 \\textwidth]{check++.pdf}\\label{fig:gammaprec-check++}}\\qquad\\qquad\n\\subfloat[\\(0\\le a_i,a_j< 1,~ \\gamma(f_i)\\le \\gamma(f_j)\\)]\n{\\includegraphics[width=0.30 \\textwidth]{check--.pdf}\\label{fig:gammaprec-check--}}\\\\\n\\subfloat[\\(0\\le a_i<1,a_j\\ge 1,~ \\gamma(f_i)\\le \\gamma(f_j)\\)]\n{\\includegraphics[width=0.30 \\textwidth]{check+-.pdf}\\label{fig:gammaprec-check-+}}\\qquad\\qquad\n\\subfloat[\\(a_i\\ge 1,~0\\le a_j< 1,~ \\gamma(f_i)\\le \\gamma(f_j)\\)]\n{\\includegraphics[width=0.30 \\textwidth]{check-+.pdf}\\label{fig:gammaprec-check+-}}\n}\n\\caption{Typical situations for the functions \\(\\overline{f}_i\\) and \\(\\overline{f}_j\\).} \\label{fig:gammaprec-check}\n\\end{figure}\n\\end{proof}\n\n\\subsection*{Proof of Lemma \\ref{lemma:gammacomp}}\n\\newtheorem*{lemma:gammacomp}{Lemma \\ref{lemma:gammacomp}}\n\\begin{lemma:gammacomp}\nFor monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\) and \\(f_j(x)=a_j x+b_j\\) \\((a_i,a_j\\ge 0)\\),\nwe have the following statements. \n\\begin{enumerate}\n\\item If \\(\\gamma(f_i)=\\gamma(f_j)\\), then \\(\\gamma(f_i)=\\gamma(f_j)= \\gamma(f_j\\circ f_i)\\),\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\) and \\(a_i,a_j\\ge 1\\), then  \\(\\gamma(f_i)\\le \\gamma(f_j\\circ f_i)\\le\\gamma(f_j)\\),\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\) and \\(a_i,a_j<1\\), then  \\(\\gamma(f_i)\\le \\gamma(f_j\\circ f_i)\\le\\gamma(f_j)\\),\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\), \\(a_i<1\\), \\(a_j\\ge 1\\), and \\(a_i\\cdot a_j\\ge 1\\),\nthen \\(\\gamma(f_j\\circ f_i)\\ge\\gamma(f_j)~(>\\gamma(f_i))\\),\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\), \\(a_i<1\\), \\(a_j\\ge 1\\), and \\(a_i\\cdot a_j< 1\\), \nthen  \\(\\gamma(f_j\\circ f_i)\\le\\gamma(f_i)~(<\\gamma(f_j))\\),\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\), \\(a_i\\ge 1\\), \\(a_j<1\\), and \\(a_i\\cdot a_j\\ge 1\\),\nthen  \\(\\gamma(f_j\\circ f_i)\\le\\gamma(f_i)~(<\\gamma(f_j))\\),\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\), \\(a_i\\ge 1\\), \\(a_j<1\\), and \\(a_i\\cdot a_j< 1\\),\nthen \\(\\gamma(f_j\\circ f_i)\\ge\\gamma(f_j)~(>\\gamma(f_i))\\).\n\\end{enumerate}\n\n\n\\end{lemma:gammacomp}\n\\begin{proof}\nTo prove the theorem, we use the following facts for a real \\(c\\) and a linear function \\(f(x)=ax+b\\):\n\\begin{enumerate}\n\\item If \\(a>1\\), then \\(f(c)> c{\\Leftrightarrow} \\gamma(f)<c\\), \\(f(c)<c {\\Leftrightarrow} \\gamma(f)>c\\), and \\(f(c)=c {\\Leftrightarrow} \\gamma(f)=c\\).\\label{lemma:gammaul+}\n\\item If \\(a<1\\), then \\(f(c)> c{\\Leftrightarrow} \\gamma(f)>c\\), \\(f(c)<c {\\Leftrightarrow} \\gamma(f)<c\\), and \\(f(c)=c {\\Leftrightarrow} \\gamma(f)=c\\).\\label{lemma:gammaul-}\n\\item If \\(a=1\\), then \\(f(c)\\ge c{\\Leftrightarrow} \\gamma(f)=-\\infty\\), \\(f(c)<c {\\Leftrightarrow} \\gamma(f)=+\\infty\\).\\label{lemma:gammaul1}\n\\end{enumerate}\n\n\n\n\n\n\n\n\n\\begin{enumerate}\n\n\\item Let \\(d=\\gamma(f_i)=\\gamma(f_j)\\).\nIf \\(d=+\\infty\\), then \\(a_i=a_j=1\\)  and \\(b_i,b_j<0\\).\nThus, \\(\\gamma(f_j\\circ f_i)=\\gamma(x+b_i+b_j)=+\\infty\\).\nIf \\(d=-\\infty\\), then \\(a_i=a_j=1\\)  and \\(b_i,b_j\\ge 0\\).\nThus, \\(\\gamma(f_j\\circ f_i)=\\gamma(x+b_i+b_j)=-\\infty\\).\nOtherwise (i.e., \\(a_i,a_j\\ne 1\\)), we have \\(f_i(x)=a_i(x-d)+d\\) and \\(f_j(x)=a_j(x-d)+d\\).\nTherefore, \\(f_j\\circ f_i(x)=a_ia_j(x-d)+d\\) and \\(\\gamma(f_j\\circ f_i)=d\\).\n\n\n\\item By \\ref{lemma:gammaul+} and \\ref{lemma:gammaul1} and \\(\\gamma(f_i)<\\gamma(f_j)\\), we have\n\n", "itemtype": "equation", "pos": 65536, "prevtext": "\nwhere \\eqref{eq-sec5-a7} follows from \\eqref{eq-sec5-a5} and \\eqref{eq-sec5-a6}, \nand  \n(\\ref{eq-sec5-a8}) follows from  \\eqref{eq-sec5-a5} and $a_{\\sigma(i)} > 1$ for all $\\ i \\geq l+1$. \nWe also note that \\eqref{eq-sec5-a8} is satisfied by equality if and only if  \\(T^2(1-p)+2T\\ge T^2\\),\ni.e., \\(p\\le 2/T\\).\n\n\nThus, we have\n\n", "index": 61, "text": "\\begin{align*}\nf_{\\sigma(n+1)}\\circ\\dots\\circ f_{\\sigma(1)}(0)\n\\begin{cases}\n=2T^2 &(p=1/T),\\\\\n\\le 2T^2-\\left(\\frac{T}{T+1}\\right)^2&(p\\ne 1/T)\n\\end{cases}\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex27.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{\\sigma(n+1)}\\circ\\dots\\circ f_{\\sigma(1)}(0)\\begin{cases}=2T^%&#10;{2}&amp;(p=1/T),\\\\&#10;\\leq 2T^{2}-\\left(\\frac{T}{T+1}\\right)^{2}&amp;(p\\neq 1/T)\\end{cases}\" display=\"inline\"><mrow><mrow><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msub><mo>\u2218</mo><mi mathvariant=\"normal\">\u2026</mi><mo>\u2218</mo><msub><mi>f</mi><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>0</mn><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mrow><mo>{</mo><mtable columnspacing=\"5pt\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mrow><mi/><mo>=</mo><mrow><mn>2</mn><mo>\u2062</mo><msup><mi>T</mi><mn>2</mn></msup></mrow></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>p</mi><mo>=</mo><mrow><mn>1</mn><mo>/</mo><mi>T</mi></mrow></mrow><mo stretchy=\"false\">)</mo></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><mi/><mo>\u2264</mo><mrow><mrow><mn>2</mn><mo>\u2062</mo><msup><mi>T</mi><mn>2</mn></msup></mrow><mo>-</mo><msup><mrow><mo>(</mo><mfrac><mi>T</mi><mrow><mi>T</mi><mo>+</mo><mn>1</mn></mrow></mfrac><mo>)</mo></mrow><mn>2</mn></msup></mrow></mrow></mtd><mtd columnalign=\"left\"><mrow><mo stretchy=\"false\">(</mo><mrow><mi>p</mi><mo>\u2260</mo><mrow><mn>1</mn><mo>/</mo><mi>T</mi></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mtd></mtr></mtable></mrow></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nTherefore, we obtain \\(\\gamma(f_i)\\le \\gamma(f_j\\circ f_i)\\le\\gamma(f_j)\\)\nwhere the first inequality holds by \\eqref{eq:gammacomp++1} and by \\ref{lemma:gammaul+} and \\ref{lemma:gammaul1},\nand the second inequality holds by \\eqref{eq:gammacomp++2} and by \\ref{lemma:gammaul+} and \\ref{lemma:gammaul1},\n\n\n\\item By \\ref{lemma:gammaul-} and \\(\\gamma(f_i)<\\gamma(f_j)\\), we have\n\n", "itemtype": "equation", "pos": 80557, "prevtext": "\nsince $1/p$ is an integer, which proves the claim.\n\\end{proof}\n\nBy Lemma~\\ref{lemma:partialtotal}, we also have the following result. \n\\begin{corollary}\nThe maximum total composition ordering problem \nis NP-hard, even if all $f_i$'s are represented by  $f_i(x)=\\max\\{x, a_i^1x+b_i^1,a_i^2x+b_i^2\\}$ for some \n reals $a_i^1$, $a_i^2$, $b_i^1$ and $b_i^2$ with $a_i^1, a_i^2>0$. \n\\end{corollary}\n\n\n\n\n\\bibliographystyle{plain}\n\\newpage\n\\bibliography{all}\n\\newpage\n\\appendix\n\\setlength\\intextsep{10pt}\n\\section*{Appendix: Omitted Proofs}\n\\subsection*{Proof of Lemma \\ref{lemma:gammaprec}}\n\\newtheorem*{lemma:gammaprec}{Lemma \\ref{lemma:gammaprec}}\n\\begin{lemma:gammaprec}\nLet \\(f_i(x)=a_ix+b_i\\) and \\(f_j(x)=a_jx+b_j\\) be $($non-identity$)$ monotone nondecreasing functions $($i.e., \\((a_i,b_i),(a_j,b_j)\\ne (1,0)\\), \\(a_i,a_j\\ge 0\\)$)$. \nThen we have the following statements;\n\\begin{enumerate}\n\\item if \\(a_i,a_j=1\\), then \\(f_i\\simeq f_j\\),\n\\item if \\(a_i,a_j\\ge 1\\) and \\(a_i\\cdot a_j>1\\), then \\(f_i\\preceq f_j{\\Leftrightarrow}\\gamma(f_i)\\le \\gamma(f_j)\\),\n\\item if \\(a_i,a_j<1\\), then \\(f_i\\preceq f_j{\\Leftrightarrow}\\gamma(f_i)\\le \\gamma(f_j)\\),\n\\item if \\(a_i\\ge 1\\), \\(a_j<1\\), then \\(f_i\\preceq f_j{\\Leftrightarrow}\\gamma(f_i)\\ge \\gamma(f_j)\\) and \\(f_i\\succeq f_j{\\Leftrightarrow}\\gamma(f_i)\\le \\gamma(f_j)\\).\n\\end{enumerate}\n\\end{lemma:gammaprec}\n\\begin{proof}\n$\\boldsymbol{ (a)}$:  It immediately follows from  \\(f_i\\circ f_j(x)=f_j\\circ f_i(x)=x+b_i+b_j\\).\n\n\\smallskip\n\\noindent\n$\\boldsymbol{(b)}$: If \\(a_i,a_j>1\\),  then the lemma holds, since we have the following equivalences  \\(\\eqref{eq:lprec}{\\Leftrightarrow} \\frac{b_i}{1-a_i}\\le \\frac{b_j}{1-a_j}{\\Leftrightarrow} \\gamma(f_i)\\le\\gamma(f_j)\\). \nIf \\(a_i>1\\) and \\(a_j=1\\), \n then the lemma holds, since we have the following equivalences \\(\\eqref{eq:lprec}{\\Leftrightarrow} 0\\le b_j(1-a_i){\\Leftrightarrow} b_j<0{\\Leftrightarrow} \\gamma(f_j)=+\\infty{\\Leftrightarrow} \\gamma(f_i)\\le\\gamma(f_j)\\).\nOtherwise (i.e., \\(a_i=1\\) and \\(a_j>1\\)), \nwe have \\(\\eqref{eq:lprec}{\\Leftrightarrow} b_i(1-a_j)\\le 0{\\Leftrightarrow} b_i>0{\\Leftrightarrow} \\gamma(f_i)=-\\infty{\\Leftrightarrow} \\gamma(f_i)\\le\\gamma(f_j)\\), which prove the lemma. \n\n\n\\smallskip\n\\noindent\n$\\boldsymbol{(c)}$: The lemma holds, since we have the following equivalences  \\(\\eqref{eq:lprec}{\\Leftrightarrow} \\frac{b_i}{1-a_i}\\le \\frac{b_j}{1-a_j}{\\Leftrightarrow} \\gamma(f_i)\\le\\gamma(f_j)\\).\n\n\n\\smallskip\n\\noindent\n$\\boldsymbol{(d)}$: If \\(a_i>1\\), the lemma holds since we have the following equivalences \\(\\eqref{eq:lprec}{\\Leftrightarrow} \\frac{b_i}{1-a_i}\\ge \\frac{b_j}{1-a_j}{\\Leftrightarrow} \\gamma(f_i)\\ge\\gamma(f_j)\\).\nOn the other hand, if \\(a_i=1\\), then \\(f_i\\preceq f_j{\\Leftrightarrow} b_i(1-a_j)\\le 0{\\Leftrightarrow} b_i<0{\\Leftrightarrow} \\gamma(f_i)=+\\infty{\\Leftrightarrow} \\gamma(f_i)\\ge\\gamma(f_j)\\),\nand \\(f_i\\succeq f_j{\\Leftrightarrow} b_i(1-a_j)\\ge 0{\\Leftrightarrow} b_i>0{\\Leftrightarrow} \\gamma(f_i)=-\\infty{\\Leftrightarrow} \\gamma(f_i)\\le\\gamma(f_j)\\).\n\n\n\\end{proof}\n\n\\subsection*{Proof of Lemma \\ref{lemma:gammaprec-check}}\n\\newtheorem*{lemma:gammaprec-check}{Lemma \\ref{lemma:gammaprec-check}}\n\\begin{lemma:gammaprec-check}\nFor $($non-identity$)$ monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\) and \\(f_j(x)=a_jx+b_j\\),  \nwe have the following statements;\n\\begin{enumerate}\n\\item if \\(a_i, a_j \\geq 1\\) and \\(\\gamma(f_i)\\le \\gamma(f_j)\\), then \\(\\overline{f}_i\\preceq \\overline{f}_j\\),\n\\item if \\(a_i, a_j < 1\\)  and \\(\\gamma(f_i)\\le \\gamma(f_j)\\), then \\(\\overline{f}_i\\preceq \\overline{f}_j\\),\n\\item if \\(a_i <1 \\), \\(a_j \\geq 1\\), and \\(\\gamma(f_i)\\le \\gamma(f_j)\\), then \\(\\overline{f}_i\\simeq \\overline{f}_j\\),\n\\item if \\(a_i \\geq 1\\), \\(a_j<1\\), and \\(\\gamma(f_i)\\le \\gamma(f_j)\\), then \\(\\overline{f}_i\\succeq \\overline{f}_j\\).\n\\end{enumerate}\n\\end{lemma:gammaprec-check}\n\\begin{proof}\n\\noindent\n$\\boldsymbol{(a)}$:  We prove that \\(\\overline{f}_j\\circ\\overline{f}_i(x)\\ge \\overline{f}_i\\circ\\overline{f}_j(x)\\) holds for any \\(x\\).\nWe separately consider three cases \\(x< \\gamma(f_i)\\), \\(\\gamma(f_i)\\le x\\le \\gamma(f_j)\\), and \\(\\gamma(f_j)< x\\) \n(see Figure  \\ref{fig:gammaprec-check} \\subref{fig:gammaprec-check++}).\n\n\\smallskip\n\\noindent \\textbf{Case} $\\boldsymbol{a}${\\bf -1}: If \\(x< \\gamma(f_i)\\), then \nwe have\n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(x)=x\\) \nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(x)=x\\)\nby \\(x<\\gamma(f_i)\\le\\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)= \\overline{f}_i\\circ \\overline{f}_j(x)\\).\n\n\\smallskip\n\\noindent \\textbf{Case} $\\boldsymbol{a}${\\bf -2}: If \\(\\gamma(f_i)\\le x\\le \\gamma(f_j)\\),  then it holds that \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(x)=f_i(x)\\) and \n\\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(f_i(x))\\) \nby \\(\\gamma(f_i)\\le x\\le \\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)\\ge \\overline{f}_i\\circ \\overline{f}_j(x)\\), \nsince \\(\\overline{f}_j(y)\\ge y\\) for any \\(y\\).\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{a}${\\bf -3}: If \\(\\gamma(f_j)< x\\), then \nwe have\n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(f_j(x))=f_i(f_j(x))\\) \nby \\(\\gamma(f_i)\\le\\gamma(f_j)<x\\le f_j(x)\\),\nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(f_i(x))=f_j(f_i(x))\\)\nby \\(\\gamma(f_i)\\le\\gamma(f_j)<x\\le f_i(x)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)\\ge \\overline{f}_i\\circ \\overline{f}_j(x)\\)\nby \\ref{lemma:gammaprec11} and \\ref{lemma:gammaprec++} in Lemma~\\ref{lemma:gammaprec}.\n\n\n\\smallskip\n\\noindent\n$\\boldsymbol{(b)}$:  We prove that \\(\\overline{f}_j\\circ\\overline{f}_i(x)\\ge \\overline{f}_i\\circ\\overline{f}_j(x)\\) holds for any \\(x\\).\nWe separately consider four cases \\(x< f_j^{-1}(\\gamma(f_i))\\), \\(f_j^{-1}(\\gamma(f_i))\\le x< \\gamma(f_i)\\),\n\\(\\gamma(f_i)\\le x< \\gamma(f_j)\\), and \\(\\gamma(f_j)\\le x\\)\n\n(see Figure \\ref{fig:gammaprec-check} \\subref{fig:gammaprec-check--}).\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{b}${\\bf -1}: If \\(x< f_j^{-1}(\\gamma(f_i))\\), then \nwe have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(f_j(x))=f_i(f_j(x))\\) \nby \\(x\\le f_j(x)\\le\\gamma(f_i)\\le \\gamma(f_j)\\),\nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(f_i(x))=f_j(f_i(x))\\)\nby \\(x\\le f_i(x)\\le\\gamma(f_i)\\le\\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)\\ge\\overline{f}_i\\circ \\overline{f}_j(x)\\)\nby \\ref{lemma:gammaprec--} in Lemma \\ref{lemma:gammaprec}.\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{b}${\\bf -2}: If \\(f_j^{-1}(\\gamma(f_i))\\le x< \\gamma(f_i)\\), then \nwe have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(f_j(x))=f_j(x)\\)\nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(f_i(x))=f_j(f_i(x))\\)\nby \\(x\\le f_i(x)\\le\\gamma(f_i)\\le f_j(x)\\le \\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)\\ge \\overline{f}_i\\circ \\overline{f}_j(x)\\), \nsince \\(f_i(x)\\ge x\\) and \\(f_j\\) is monotone nondecreasing.\n\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{b}${\\bf -3}: If \\(\\gamma(f_i)\\le x< \\gamma(f_j)\\), \nthen we have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(f_j(x))=f_j(x)\\) \nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(x)=f_j(x)\\)\nby \\(\\gamma(f_i)\\le x\\le f_j(x)< \\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x) = \\overline{f}_i\\circ \\overline{f}_j(x)\\).\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{b}${\\bf -4}: If \\(\\gamma(f_j)\\le x\\), \nthen we have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(x)=x\\) \nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(x)=x\\)\nby \\(\\gamma(f_i)\\le \\gamma(f_j)\\le x\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)= \\overline{f}_i\\circ \\overline{f}_j(x)\\).\n\n\\smallskip\n\n\\noindent\n$\\boldsymbol{(c)}$: \nWe prove that \\(\\overline{f}_j\\circ\\overline{f}_i(x)= \\overline{f}_i\\circ\\overline{f}_j(x)\\) holds for any \\(x\\).\nWe separately consider three cases \\(x< \\gamma(f_i)\\), \\(\\gamma(f_i)\\le x< \\gamma(f_j)\\), and \\(\\gamma(f_j)\\le x\\)\n(see Figure \\ref{fig:gammaprec-check} \\subref{fig:gammaprec-check-+}).\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{c}${\\bf -1}: If \\(x<\\gamma(f_i)\\), \nthen we  have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(x)=f_i(x)\\) \nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(f_i(x))=f_i(x)\\)\nby \\(x\\le f_i(x)\\le\\gamma(f_i)\\le\\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)= \\overline{f}_i\\circ \\overline{f}_j(x)\\).\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{c}${\\bf -2}: If \\(\\gamma(f_i)\\le x<\\gamma(f_j)\\), then \nwe have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(x)=x\\) \nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(x)=x\\)\nby \\(\\gamma(f_i)\\le x<\\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)= \\overline{f}_i\\circ \\overline{f}_j(x)\\).\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{c}${\\bf -3}: If \\(\\gamma(f_j)\\le x\\), \nthen we have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(f_j(x))=f_j(x)\\) \nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(x)=f_j(x)\\)\nby \\(\\gamma(f_i)\\le \\gamma(f_j)\\le x\\le f_j(x)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)= \\overline{f}_i\\circ \\overline{f}_j(x)\\).\n\n\n\\smallskip\n\n\n\\noindent\n$\\boldsymbol{(d)}$: \nWe prove that \\(\\overline{f}_j\\circ\\overline{f}_i(x)\\le \\overline{f}_i\\circ\\overline{f}_j(x)\\) holds for any \\(x\\).\nWe separately consider four cases \\(x<\\gamma(f_i)\\), \\(\\gamma(f_i)\\le x< f_i^{-1}(\\gamma(f_j))\\), \\(f_i^{-1}(\\gamma(f_j))\\le x<\\gamma(f_j)\\), and \\(\\gamma(f_j)\\le x\\)\n(see Figure \\ref{fig:gammaprec-check} \\subref{fig:gammaprec-check+-}).\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{d}${\\bf -1}: If \\(x<\\gamma(f_i)\\), then \nwe have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(f_j(x))\\) \nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(x)=f_j(x)\\)\nby \\(x<\\gamma(f_i)\\le\\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)\\le \\overline{f}_i\\circ \\overline{f}_j(x)\\), \nsince \\(\\overline{f}_i(y)\\ge y\\) for any \\(y\\).\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{d}${\\bf -2}: If \\(\\gamma(f_i)\\le x< f_i^{-1}(\\gamma(f_j))\\), then \nwe have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(f_j(x))=f_i(f_j(x))\\)\nby \\(\\gamma(f_i)\\le x\\le f_j(x)\\le \\gamma(f_j)\\),\nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(f_i(x))=f_j(f_i(x))\\)\nby \\(\\gamma(f_i)\\le x\\le f_i(x)\\le \\gamma(f_j)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)\\le \\overline{f}_i\\circ \\overline{f}_j(x)\\)\nby \\ref{lemma:gammaprec+-} in Lemma \\ref{lemma:gammaprec}.\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{d}${\\bf -3}: If \\(f_i^{-1}(\\gamma(f_j))\\le x< \\gamma(f_j)\\), then \nwe have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(f_j(x))=f_i(f_j(x))\\)\nby \\(\\gamma(f_i)\\le f_i^{-1}(\\gamma(f_j))\\le x\\le f_j(x)\\le\\gamma(f_j)\\)\nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(f_i(x))=f_i(x)\\)\nby \\(\\gamma(f_i)\\le f_i^{-1}(\\gamma(f_j))\\le x\\le\\gamma(f_j)\\le f_i(x)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)\\le \\overline{f}_i\\circ \\overline{f}_j(x)\\), \nsince \\(f_j(x)\\ge x\\) and \\(f_i\\) is monotone nondecreasing.\n\n\\smallskip\n\\noindent\\textbf{Case} $\\boldsymbol{d}${\\bf -4}:  If \\(\\gamma(f_j)\\le x\\), then \nwe have \n\\(\\overline{f}_i\\circ \\overline{f}_j(x)=\\overline{f}_i(x)=f_i(x)\\) \nand \\(\\overline{f}_j\\circ \\overline{f}_i(x)=\\overline{f}_j(f_i(x))=f_i(x)\\)\nby \\(\\gamma(f_i)\\le \\gamma(f_j)\\le x\\le f_i(x)\\).\nThus, we obtain \\(\\overline{f}_j\\circ \\overline{f}_i(x)= \\overline{f}_i\\circ \\overline{f}_j(x)\\).\n\n\\begin{figure}[t]\n\\centering{\n\\subfloat[\\(a_i,a_j\\ge 1,~ \\gamma(f_i)\\le \\gamma(f_j)\\)]\n{\\includegraphics[width=0.30 \\textwidth]{check++.pdf}\\label{fig:gammaprec-check++}}\\qquad\\qquad\n\\subfloat[\\(0\\le a_i,a_j< 1,~ \\gamma(f_i)\\le \\gamma(f_j)\\)]\n{\\includegraphics[width=0.30 \\textwidth]{check--.pdf}\\label{fig:gammaprec-check--}}\\\\\n\\subfloat[\\(0\\le a_i<1,a_j\\ge 1,~ \\gamma(f_i)\\le \\gamma(f_j)\\)]\n{\\includegraphics[width=0.30 \\textwidth]{check+-.pdf}\\label{fig:gammaprec-check-+}}\\qquad\\qquad\n\\subfloat[\\(a_i\\ge 1,~0\\le a_j< 1,~ \\gamma(f_i)\\le \\gamma(f_j)\\)]\n{\\includegraphics[width=0.30 \\textwidth]{check-+.pdf}\\label{fig:gammaprec-check+-}}\n}\n\\caption{Typical situations for the functions \\(\\overline{f}_i\\) and \\(\\overline{f}_j\\).} \\label{fig:gammaprec-check}\n\\end{figure}\n\\end{proof}\n\n\\subsection*{Proof of Lemma \\ref{lemma:gammacomp}}\n\\newtheorem*{lemma:gammacomp}{Lemma \\ref{lemma:gammacomp}}\n\\begin{lemma:gammacomp}\nFor monotone nondecreasing linear functions \\(f_i(x)=a_ix+b_i\\) and \\(f_j(x)=a_j x+b_j\\) \\((a_i,a_j\\ge 0)\\),\nwe have the following statements. \n\\begin{enumerate}\n\\item If \\(\\gamma(f_i)=\\gamma(f_j)\\), then \\(\\gamma(f_i)=\\gamma(f_j)= \\gamma(f_j\\circ f_i)\\),\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\) and \\(a_i,a_j\\ge 1\\), then  \\(\\gamma(f_i)\\le \\gamma(f_j\\circ f_i)\\le\\gamma(f_j)\\),\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\) and \\(a_i,a_j<1\\), then  \\(\\gamma(f_i)\\le \\gamma(f_j\\circ f_i)\\le\\gamma(f_j)\\),\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\), \\(a_i<1\\), \\(a_j\\ge 1\\), and \\(a_i\\cdot a_j\\ge 1\\),\nthen \\(\\gamma(f_j\\circ f_i)\\ge\\gamma(f_j)~(>\\gamma(f_i))\\),\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\), \\(a_i<1\\), \\(a_j\\ge 1\\), and \\(a_i\\cdot a_j< 1\\), \nthen  \\(\\gamma(f_j\\circ f_i)\\le\\gamma(f_i)~(<\\gamma(f_j))\\),\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\), \\(a_i\\ge 1\\), \\(a_j<1\\), and \\(a_i\\cdot a_j\\ge 1\\),\nthen  \\(\\gamma(f_j\\circ f_i)\\le\\gamma(f_i)~(<\\gamma(f_j))\\),\n\\item If \\(\\gamma(f_i)<\\gamma(f_j)\\), \\(a_i\\ge 1\\), \\(a_j<1\\), and \\(a_i\\cdot a_j< 1\\),\nthen \\(\\gamma(f_j\\circ f_i)\\ge\\gamma(f_j)~(>\\gamma(f_i))\\).\n\\end{enumerate}\n\n\n\\end{lemma:gammacomp}\n\\begin{proof}\nTo prove the theorem, we use the following facts for a real \\(c\\) and a linear function \\(f(x)=ax+b\\):\n\\begin{enumerate}\n\\item If \\(a>1\\), then \\(f(c)> c{\\Leftrightarrow} \\gamma(f)<c\\), \\(f(c)<c {\\Leftrightarrow} \\gamma(f)>c\\), and \\(f(c)=c {\\Leftrightarrow} \\gamma(f)=c\\).\\label{lemma:gammaul+}\n\\item If \\(a<1\\), then \\(f(c)> c{\\Leftrightarrow} \\gamma(f)>c\\), \\(f(c)<c {\\Leftrightarrow} \\gamma(f)<c\\), and \\(f(c)=c {\\Leftrightarrow} \\gamma(f)=c\\).\\label{lemma:gammaul-}\n\\item If \\(a=1\\), then \\(f(c)\\ge c{\\Leftrightarrow} \\gamma(f)=-\\infty\\), \\(f(c)<c {\\Leftrightarrow} \\gamma(f)=+\\infty\\).\\label{lemma:gammaul1}\n\\end{enumerate}\n\n\n\n\n\n\n\n\n\\begin{enumerate}\n\n\\item Let \\(d=\\gamma(f_i)=\\gamma(f_j)\\).\nIf \\(d=+\\infty\\), then \\(a_i=a_j=1\\)  and \\(b_i,b_j<0\\).\nThus, \\(\\gamma(f_j\\circ f_i)=\\gamma(x+b_i+b_j)=+\\infty\\).\nIf \\(d=-\\infty\\), then \\(a_i=a_j=1\\)  and \\(b_i,b_j\\ge 0\\).\nThus, \\(\\gamma(f_j\\circ f_i)=\\gamma(x+b_i+b_j)=-\\infty\\).\nOtherwise (i.e., \\(a_i,a_j\\ne 1\\)), we have \\(f_i(x)=a_i(x-d)+d\\) and \\(f_j(x)=a_j(x-d)+d\\).\nTherefore, \\(f_j\\circ f_i(x)=a_ia_j(x-d)+d\\) and \\(\\gamma(f_j\\circ f_i)=d\\).\n\n\n\\item By \\ref{lemma:gammaul+} and \\ref{lemma:gammaul1} and \\(\\gamma(f_i)<\\gamma(f_j)\\), we have\n\n", "index": 63, "text": "\\begin{align}\nf_j\\circ f_i(\\gamma(f_i))&= f_j(\\gamma(f_i))\\le \\gamma(f_i),\\label{eq:gammacomp++1}\\\\\nf_j\\circ f_i(\\gamma(f_j))&\\ge f_j(\\gamma(f_j))= \\gamma(f_j).\\label{eq:gammacomp++2}\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E15.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{j}\\circ f_{i}(\\gamma(f_{i}))\" display=\"inline\"><mrow><mrow><msub><mi>f</mi><mi>j</mi></msub><mo>\u2218</mo><msub><mi>f</mi><mi>i</mi></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E15.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=f_{j}(\\gamma(f_{i}))\\leq\\gamma(f_{i}),\" display=\"inline\"><mrow><mrow><mi/><mo>=</mo><mrow><msub><mi>f</mi><mi>j</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E16.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{j}\\circ f_{i}(\\gamma(f_{j}))\" display=\"inline\"><mrow><mrow><msub><mi>f</mi><mi>j</mi></msub><mo>\u2218</mo><msub><mi>f</mi><mi>i</mi></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E16.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle\\geq f_{j}(\\gamma(f_{j}))=\\gamma(f_{j}).\" display=\"inline\"><mrow><mrow><mi/><mo>\u2265</mo><mrow><msub><mi>f</mi><mi>j</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nTherefore, we obtain \\(\\gamma(f_i)\\le \\gamma(f_j\\circ f_i)\\le\\gamma(f_j)\\)\nwhere the first inequality holds by \\eqref{eq:gammacomp--1} and by \\ref{lemma:gammaul-},\nand the second inequality holds by \\eqref{eq:gammacomp--2} and by \\ref{lemma:gammaul-}.\n\n\n\\item By \\ref{lemma:gammaul-} and \\(\\gamma(f_i)<\\gamma(f_j)\\), we have\n\n", "itemtype": "equation", "pos": 81128, "prevtext": "\nTherefore, we obtain \\(\\gamma(f_i)\\le \\gamma(f_j\\circ f_i)\\le\\gamma(f_j)\\)\nwhere the first inequality holds by \\eqref{eq:gammacomp++1} and by \\ref{lemma:gammaul+} and \\ref{lemma:gammaul1},\nand the second inequality holds by \\eqref{eq:gammacomp++2} and by \\ref{lemma:gammaul+} and \\ref{lemma:gammaul1},\n\n\n\\item By \\ref{lemma:gammaul-} and \\(\\gamma(f_i)<\\gamma(f_j)\\), we have\n\n", "index": 65, "text": "\\begin{align}\nf_j\\circ f_i(\\gamma(f_i))&= f_j(\\gamma(f_i))\\ge \\gamma(f_i),\\label{eq:gammacomp--1}\\\\\nf_j\\circ f_i(\\gamma(f_j))&\\le f_j(\\gamma(f_j))= \\gamma(f_j).\\label{eq:gammacomp--2}\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E17.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{j}\\circ f_{i}(\\gamma(f_{i}))\" display=\"inline\"><mrow><mrow><msub><mi>f</mi><mi>j</mi></msub><mo>\u2218</mo><msub><mi>f</mi><mi>i</mi></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E17.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=f_{j}(\\gamma(f_{i}))\\geq\\gamma(f_{i}),\" display=\"inline\"><mrow><mrow><mi/><mo>=</mo><mrow><msub><mi>f</mi><mi>j</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2265</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E18.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{j}\\circ f_{i}(\\gamma(f_{j}))\" display=\"inline\"><mrow><mrow><msub><mi>f</mi><mi>j</mi></msub><mo>\u2218</mo><msub><mi>f</mi><mi>i</mi></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E18.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle\\leq f_{j}(\\gamma(f_{j}))=\\gamma(f_{j}).\" display=\"inline\"><mrow><mrow><mi/><mo>\u2264</mo><mrow><msub><mi>f</mi><mi>j</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nTherefore, we obtain \\(\\gamma(f_i\\circ f_j)\\ge \\gamma(f_j)\\) by \\ref{lemma:gammaul+} and \\ref{lemma:gammaul1}.\n\n\n\\item By \\ref{lemma:gammaul+} and \\ref{lemma:gammaul1} and \\(\\gamma(f_i)<\\gamma(f_j)\\), we have\n\n", "itemtype": "equation", "pos": 81649, "prevtext": "\nTherefore, we obtain \\(\\gamma(f_i)\\le \\gamma(f_j\\circ f_i)\\le\\gamma(f_j)\\)\nwhere the first inequality holds by \\eqref{eq:gammacomp--1} and by \\ref{lemma:gammaul-},\nand the second inequality holds by \\eqref{eq:gammacomp--2} and by \\ref{lemma:gammaul-}.\n\n\n\\item By \\ref{lemma:gammaul-} and \\(\\gamma(f_i)<\\gamma(f_j)\\), we have\n\n", "index": 67, "text": "\\begin{align*}\nf_i\\circ f_j(\\gamma(f_j))= f_i(\\gamma(f_j))\\le \\gamma(f_j).\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex28.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{i}\\circ f_{j}(\\gamma(f_{j}))=f_{i}(\\gamma(f_{j}))\\leq\\gamma(f%&#10;_{j}).\" display=\"inline\"><mrow><mrow><mrow><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2218</mo><msub><mi>f</mi><mi>j</mi></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nTherefore, we obtain \\(\\gamma(f_i\\circ f_j)\\le \\gamma(f_i)\\) by \\ref{lemma:gammaul-}.\n\n\n\\item By \\ref{lemma:gammaul-} and \\(\\gamma(f_i)<\\gamma(f_j)\\), we have\n\n", "itemtype": "equation", "pos": 81946, "prevtext": "\nTherefore, we obtain \\(\\gamma(f_i\\circ f_j)\\ge \\gamma(f_j)\\) by \\ref{lemma:gammaul+} and \\ref{lemma:gammaul1}.\n\n\n\\item By \\ref{lemma:gammaul+} and \\ref{lemma:gammaul1} and \\(\\gamma(f_i)<\\gamma(f_j)\\), we have\n\n", "index": 69, "text": "\\begin{align*}\nf_i\\circ f_j(\\gamma(f_i))\\le f_i(\\gamma(f_i))= \\gamma(f_i).\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex29.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{i}\\circ f_{j}(\\gamma(f_{i}))\\leq f_{i}(\\gamma(f_{i}))=\\gamma(%&#10;f_{i}).\" display=\"inline\"><mrow><mrow><mrow><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2218</mo><msub><mi>f</mi><mi>j</mi></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nTherefore, we obtain \\(\\gamma(f_i\\circ f_j)\\le \\gamma(f_i)\\) by \\ref{lemma:gammaul+} and \\ref{lemma:gammaul1}.\n\n\n\\item By \\ref{lemma:gammaul+}, \\ref{lemma:gammaul1}, and \\(\\gamma(f_i)<\\gamma(f_j)\\), we have\n\n", "itemtype": "equation", "pos": 82193, "prevtext": "\nTherefore, we obtain \\(\\gamma(f_i\\circ f_j)\\le \\gamma(f_i)\\) by \\ref{lemma:gammaul-}.\n\n\n\\item By \\ref{lemma:gammaul-} and \\(\\gamma(f_i)<\\gamma(f_j)\\), we have\n\n", "index": 71, "text": "\\begin{align*}\nf_i\\circ f_j(\\gamma(f_i))\\ge f_i(\\gamma(f_i))= \\gamma(f_i).\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex30.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{i}\\circ f_{j}(\\gamma(f_{i}))\\geq f_{i}(\\gamma(f_{i}))=\\gamma(%&#10;f_{i}).\" display=\"inline\"><mrow><mrow><mrow><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2218</mo><msub><mi>f</mi><mi>j</mi></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2265</mo><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.05480.tex", "nexttext": "\nTherefore, we obtain \\(\\gamma(f_i\\circ f_j)\\ge \\gamma(f_j)\\)\nby \\ref{lemma:gammaul-}.\n\\end{enumerate}\n\\end{proof}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n", "itemtype": "equation", "pos": 82488, "prevtext": "\nTherefore, we obtain \\(\\gamma(f_i\\circ f_j)\\le \\gamma(f_i)\\) by \\ref{lemma:gammaul+} and \\ref{lemma:gammaul1}.\n\n\n\\item By \\ref{lemma:gammaul+}, \\ref{lemma:gammaul1}, and \\(\\gamma(f_i)<\\gamma(f_j)\\), we have\n\n", "index": 73, "text": "\\begin{align*}\nf_i\\circ f_j(\\gamma(f_j))= f_i(\\gamma(f_j))\\ge \\gamma(f_j).\n\\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex31.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{i}\\circ f_{j}(\\gamma(f_{j}))=f_{i}(\\gamma(f_{j}))\\geq\\gamma(f%&#10;_{j}).\" display=\"inline\"><mrow><mrow><mrow><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2218</mo><msub><mi>f</mi><mi>j</mi></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><msub><mi>f</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2265</mo><mrow><mi>\u03b3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}]