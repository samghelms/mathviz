[{"file": "1601.08172.tex", "nexttext": " \n\nHere we are considering the natural inclusion \\( N \\hookrightarrow {\\operatorname{Isome}}(N) \\) via left translations and we are using  that ${\\operatorname{Isome}}(N)$ is a Lie group.\nOne should think of \\eqref{nilradica_condition:intro} as an\n  algebraic characterization of a \nnilpotent Riemannian  Lie group  inside its isometry group.\nWe deduce that \ngiven an isometry \n\\( F \\colon N_1 \\rightarrow N_2 \\) between such groups, the conjugation by $F$, which is an isomorphism between the isometry groups, induces an isomorphism between $N_1 $ and $ N_2$,  see \nLemma \\ref{lemma317}.\nIn fact, we show that \nif $F$ fixes the identity, then the above isomorphism coincides with\n$F$, see \nLemma \\ref{Lemma316}. In general, we conclude that $F$ is an affine map.\n\n\n\n\n\n\n\n\nFor completeness, we  show that in the general context of \n nilpotent connected metric Lie groups   the nilradical condition   \\eqref{nilradica_condition:intro} still holds,\nsee Proposition \\ref{star!}.\nWe also show that if\n$M$ is a group equipped with a left-invariant distance, then\nits\n isometries   are affine if and only if\nits isometry group $G$ splits as semi-direct product\n\n", "itemtype": "equation", "pos": -1, "prevtext": "\n\n\\title{Isometries of nilpotent metric groups}\n\n\\author[Kivioja]{Ville Kivioja}\n\n\n\\email{kivioja.ville@gmail.com}\n\n\\author[Le Donne]{Enrico Le Donne}\n\\email{enrico.ledonne@gmail.com}\n\\address[Le Donne and Kivioja]{\nDepartment of Mathematics and Statistics, University of Jyv\\\"askyl\\\"a, 40014 Jyv\\\"askyl\\\"a, Finland}\n\n\n \n\n\n\n\n\n \\keywords{Isometries, nilpotent groups, affine transformations, nilradical}\n\n\\subjclass[]{ \n 22E25, \n\n\n53C30,  \n\n\n\n\n\n\n\n\n\n\n 22F30. \n\n\n\n\n}\n\n\\date{\\today}\n\n\\begin{abstract}\nWe consider Lie groups equipped with arbitrary distances. We only assume that the distance is left-invariant and induces the manifold topology. For brevity, we call such object metric Lie groups.\nApart from Riemannian Lie groups, distinguished examples are sub-Riemannian Lie groups and, in particular, Carnot groups equipped with Carnot-Carath\\'eodory distances.\nWe study the regularity of isometries, i.e., distance-preserving homeomorphisms.\nOur first result is the analyticity of such maps between metric Lie groups.\nThe second result is that if two metric Lie groups are connected and nilpotent then every isometry between the groups is the composition of a left translation and an isomorphism.\nThere are counterexamples if one does not assume the groups to be either connected or nilpotent. \nThe first result is based on a solution of the Hilbert 5th problem by Montgomery and Zippin.\nThe second result is proved, via the first result, considering the Riemannian case, which for self-isometries was solved by Wolf.\n\\end{abstract}\n\n \n \n\n\n\n\\maketitle\n\\tableofcontents\n\n \n\n\\section{Introduction}   \t\t\t   \n\n\n\nIn this paper, with the term \\emph{metric Lie group} we mean a Lie group\n\nequipped with a left-invariant distance that induces the manifold topology.\nAn {\\em isometry} is a distance-preserving bijection. Hence, a priori it is only a homeomorphism. \nAs a general fact we  show \nthe following regularity result.\n\n\\begin{thm}\\label{smooth:thm}\nIsometries between  metric Lie groups are analytic maps.\n\n\\end{thm}\n\nWe say that a map \n\nbetween groups is \\emph{affine} if it is the composition of a left translation and a group homomorphism.\nThe main result of this paper is the following stronger result for nilpotent groups.\n\n\\begin{thm}\\label{main:thm} \nIsometries between nilpotent connected metric Lie groups\nare affine.\n\n\\end{thm}\n\nIn particular our result shows that \n\\begin{itemize}\n\n\\item[{[\\ref{main:thm}.i]}] two isometric nilpotent connected metric Lie groups are isomorphic.\n\\item[{[\\ref{main:thm}.ii]}] the isometry group of a nilpotent connected metric Lie group is a semi-direct product, see \\eqref{semidirect}.\n\\end{itemize}\n\n\n\n\nTheorem \\ref{main:thm} is a generalization of previous results. Indeed, on the one hand, \nWolf (\\cite{Wolf}, see also \\cite{Wilson}) extended the classical fact that Euclidean isometries are affine to self-isometries of nilpotent Lie groups equipped with left-invariant \\emph{Riemannian} distances.\nOn the other hand, Theorem \\ref{main:thm} has been previously shown in the case of sub-Riemannian (and more generally sub-Finsler) Carnot groups, see  \\cite{pansu,hamenstadt,\nkishimoto,LeDonne-Ottazzi}.\nIn fact our strategy of proof is built on both \\cite{Wolf,Wilson} and \\cite{LeDonne-Ottazzi}. \n\n\n\nWe remark that both assumptions `connectedness' and `nilpotency'  are necessary for Theorem \\ref{main:thm} to hold.\n\n In this respect in Section \\ref{sec:counterexamples} we provide some counterexamples.\n\nThe large-scale analogue of Theorem \\ref{main:thm} is a challenging open problem that raised a lot attention since the papers of Pansu and Shalom \\cite{pansu,Shalom}. What is expected is that if two finitely generated nilpotent groups are torsion-free, then every quasi-isometry between them induces an isomorphism between their Malcev completions. Recent progress has been done in \\cite{Kyed_Densing:Petersen}.\n\n\n\nWe spend the rest of the introduction to explain the strategy of the proofs of the two theorems and the structure of the paper.\nTo study isometries between two metric Lie groups, we first treat  the case when the two groups are the same, i.e., they are isometric via a  Lie group isomorphism. \nIf \\( M \\) is a connected metric Lie group, we consider its isometry group \\( G \\), that is, the set of self-isometries of \\( M \\) equipped with the composition rule and the compact-open topology. \nHence, the group \\( G \\)   acts continuously, transitively and by isometries on \\( M \\). \nIt is crucial that \\( G \\) is a locally compact   group. \nThis latter fact follows from \nAscoli--Arzel\\'a Theorem but it\nneeds some argument since closed balls are not necessarily assumed to be compact.\n\nAt this point, the theory of locally compact groups, \\cite{mz}, provides  a Lie group structure  on \\( G \\) such that the action \\( G {\\curvearrowright} M \\) is smooth.\n\nAssume that $M_1, M_2$ are metric Lie groups and $F:M_1\\to M_2$ is an isometry.\nWe consider the above-mentioned Lie group structures\non the respective isometry groups\n$G_1$, $G_2$.\nThe conjugation by $F$ provides a map from \n$G_1$ to $G_2$ that is a continuous homomorphism between Lie groups, hence it is analytic.\nThis observation will give the conclusion of the proof of \nTheorem~\\ref{smooth:thm}, see Section ~\\ref{sec:smooth}.\n\nAn important consequence of \nTheorem~\\ref{smooth:thm} is that every  isometry between metric Lie groups can be seen as a Riemannian isometry.\nNamely, for every map \n$F:M_1\\to M_2$ as above there are \nRiemannian left-invariant structures $g_1, g_2$ such that\n$F:(M_1,g_1)\\to (M_2,g_2)$\nis a Riemannian isometry, see Proposition~\\ref{prop:isometries_are_riemannian}.\nOf a separate interest is the fact that the Riemannian structures can be chosen independently on $F$.\n\n\n\n\n\n\nTo prove Theorem \\ref{main:thm}  we will use the above relationship with the Riemannian case together with \n\n  Wolf's study of    the nilradical of   isometry groups of nilpotent Riemannian Lie groups.\nWe recall that the nilradical of a Lie algebra \\( \\mathfrak{g} \\), which we denote by \\( {\\operatorname{nil}}(\\mathfrak{g}) \\), is the biggest\n\nnilpotent ideal of \\( \\mathfrak{g} \\), see \nSection~\\ref{sec:nilradical}.\n\n\n\n\n\n\n  \nBy a theorem of \nWolf (see Theorem \\ref{thm_wilson}) if \\( N \\) is a \n\nnilpotent  Riemannian  Lie group, then \n\n", "index": 1, "text": "\\begin{equation}\\label{nilradica_condition:intro} \n {\\operatorname{Lie}}(N) = {\\operatorname{nil}}({\\operatorname{Lie}}({\\operatorname{Isome}}(N))) .\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E1.m1\" class=\"ltx_Math\" alttext=\"{\\operatorname{Lie}}(N)={\\operatorname{nil}}({\\operatorname{Lie}}({%&#10;\\operatorname{Isome}}(N))).\" display=\"block\"><mrow><mrow><mrow><mo>Lie</mo><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mi>N</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mo>nil</mo><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mo>Lie</mo><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mo>Isome</mo><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mi>N</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.08172.tex", "nexttext": "\n\nwhere \\( \\mathrm{Stab}_1(G) \\) is the set of isometries fixing the identity element $1$ of $M$.\nWe provide the simple proof in Lemma \\ref{TFAE}.\n \n \n\\subsubsection{Acknowledgement}\nThe authors thank\nM.~Jablonski,\nA.~Ottazzi, and\nP.~Petersen for helpful remarks.\nE.L.D. acknowledges the support of the Academy of Finland project no. 288501.   \n\n\n\n\n\\section{Regularity of isometries}\n\\subsection{Lie group structure of isometry groups}  \n\n\n\n\nThe first aim of this section is to show that the isometry group of a metric Lie group is a Lie group. Such a fact is a consequence of the solution of the Hilbert 5th problem by Montgomery--Zippin, together with the observation that the isometry group is locally compact. This latter property follows by Ascoli--Arzel\\`a theorem.\n\n\nWe stress that a\n\nmetric Lie group $(M,d)$ \nmay not be boundedly compact. Namely, the closed balls \n$\\bar B_d(1_M, r):=\n\\{ p\\in M : d(p,1_M)\\leq r\\}\n$ with respect to $d$ may not be compact. For example, this is the case for the distance $\\min\\{d_E, 1\\}$ on ${\\mathbb R}$, where $d_E$ denotes the Euclidean distance.\n\n\\begin{remark} \\label{rmk:boundedy_cpt}\nIf \\( (M,d) \\) is a connected metric Lie group, then there exists a distance \\( \\rho \\) such that \\( (M,\\rho) \\) is a metric Lie group that is boundedly compact and \\( {\\operatorname{Isome}}(M,d) \\subseteq {\\operatorname{Isome}}(M,\\rho) \\).\nIndeed, since the topology induced by $d$ is the manifold topology, then there exists some $r_0>0$ such that \n$\\bar B_d(1_M, r_0)$ is compact.\nThen we can consider the distance\n\n", "itemtype": "equation", "pos": 7587, "prevtext": " \n\nHere we are considering the natural inclusion \\( N \\hookrightarrow {\\operatorname{Isome}}(N) \\) via left translations and we are using  that ${\\operatorname{Isome}}(N)$ is a Lie group.\nOne should think of \\eqref{nilradica_condition:intro} as an\n  algebraic characterization of a \nnilpotent Riemannian  Lie group  inside its isometry group.\nWe deduce that \ngiven an isometry \n\\( F \\colon N_1 \\rightarrow N_2 \\) between such groups, the conjugation by $F$, which is an isomorphism between the isometry groups, induces an isomorphism between $N_1 $ and $ N_2$,  see \nLemma \\ref{lemma317}.\nIn fact, we show that \nif $F$ fixes the identity, then the above isomorphism coincides with\n$F$, see \nLemma \\ref{Lemma316}. In general, we conclude that $F$ is an affine map.\n\n\n\n\n\n\n\n\nFor completeness, we  show that in the general context of \n nilpotent connected metric Lie groups   the nilradical condition   \\eqref{nilradica_condition:intro} still holds,\nsee Proposition \\ref{star!}.\nWe also show that if\n$M$ is a group equipped with a left-invariant distance, then\nits\n isometries   are affine if and only if\nits isometry group $G$ splits as semi-direct product\n\n", "index": 3, "text": "\\begin{equation*}  \nG = M \\rtimes \\mathrm{Stab}_1(G),\n\\end{equation*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex1.m1\" class=\"ltx_Math\" alttext=\"G=M\\rtimes\\mathrm{Stab}_{1}(G),\" display=\"block\"><mrow><mrow><mi>G</mi><mo>=</mo><mrow><mrow><mi>M</mi><mo>\u22ca</mo><msub><mi>Stab</mi><mn>1</mn></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>G</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.08172.tex", "nexttext": "\n Once can \n \n check that $(M,\\rho)$ is a metric Lie group, \n for all $r>0$ the set\n $\\bar B_\\rho(1_M, r)$  is compact, and\n ${\\operatorname{Isome}}(M,d) \\subseteq {\\operatorname{Isome}}(M,\\rho).$\n\\end{remark}\n\nLet us clarify now why the isometry group of a connected metric Lie group is locally compact, which was not justified in \\cite{LeDonne-Ottazzi}. With the terminology of Remark \\ref{rmk:boundedy_cpt} the stabilizer \\( S \\) of \\( 1 \\) in \\( {\\operatorname{Isome}}(M,d) \\) is a closed subgroup of the stabilizer \\( S_\\rho \\) of \\( 1 \\) in \\( {\\operatorname{Isome}}(M,\\rho) \\). Furthermore, for any \\( r > 0 \\) and \\( f \\in S_\\rho \\) we have that \\( f({\\bar}{B}_\\rho(1,r)) = {\\bar}{B}_\\rho(1,r) \\), which is compact. Hence, the maps from \\( S \\) restricted to \\( {\\bar}{B}(1,r) \\) form an equi-uniformly continuous and pointwise precompact family. Ascoli--Arzel\\`a Theorem implies that \\( S_\\rho \\) is compact, being also closed in \\( C^0(M,M) \\). Consequently, \\( S \\) is compact and because \\( M \\) is locally compact, then also \\( {\\operatorname{Isome}}(G,d) \\) is locally compact. At this point we are allowed to use the theory of locally compact groups after Gleason--Montgomery--Zippin \\cite{mz}. \nIn fact, the argument in \\cite[Proposition~4.5]{LeDonne-Ottazzi} concludes the proof of the following result.\n\n\\begin{proposition}\\label{Lie_structure}\nLet  \\(M \\) be  a metric Lie group with isometry group $G$. Assume that $M$ is connected.\n\\begin{enumerate}\n\\item The stabilizers of the action \\( G {\\curvearrowright} M \\) are compact.\n\n\\item The topological group $G$ is a Lie group (finite dimensional and with finitely many connected components) acting analytically on $M$.\n\n\\end{enumerate}\n\\end{proposition}\n \n\n\\begin{remark}\nThe assumption of $M$ being connected in Proposition \\ref{Lie_structure} is necessary. Indeed, one can take as a counterexample the group ${\\mathbb Z}$ with the discrete distance.\n\\end{remark}\n\n\\subsection{Proof of smoothness} \\label{sec:smooth}\nWith the use of\nProposition \\ref{Lie_structure}, we  give the proof of the analyticity of isometries (Theorem \\ref{smooth:thm}).\nWe remark that in the Riemannian setting the classical result of \nMyers and Steenrod gives smoothness of isometries, see\n\\cite{Myers-Steenrod}, and more generally\n\\cite{Capogna_LeDonne}.\nHowever,  the following proof is different in spirit and, nonetheless, it will imply (see Proposition \\ref{prop:isometries_are_riemannian}) that such metric isometries are Riemannian isometries for some Riemannian structures. \n\n\\begin{proof}[Proof of Theorem \\ref{smooth:thm}] \nLet \\( F \\colon M_1 \\to M_2 \\) be an isometry between metric Lie groups.\nWithout loss of generality we may assume that \\( p=1_{M_1} \\), \\( F(1_{M_1})=1_{M_2} \\) and that both \\( M_1 \\) and \\( M_2 \\) are connected, since left translations are analytic isometries and connected components of identity elements are open. By Proposition \\ref{Lie_structure}, for \\( i \\in \\{ 1,2 \\} \\), the space \\( G_i \\coloneqq {\\operatorname{Isome}}(M_i) \\) is a Lie group. The map \\( \\mathrm{C}_F \\colon G_1 \\to G_2 \\) defined as \\( I \\mapsto F \\circ I \\circ F^{-1} \\) is a group isomorphism that is continuous, see \\cite[Theorem 4]{Arens}. Hence, the map \\( \\mathrm{C}_F \\) is analytic, see \\cite[p.~117 Theorem~2.6]{Helgason}.\n\nConsider also the inclusion \\( \\iota \\colon M_1 \\to G_1 \\), \\( m \\mapsto L_m \\), which is analytic being a continuous homomorphism, and the orbit map \\( \\sigma \\colon G_2 \\to M_2 \\), \\( I \\mapsto I(1_{M_2}) \\), which is analytic since the action is analytic (Proposition \\ref{Lie_structure}).\nWe deduce that \\( \\sigma \\circ \\mathrm{C}_F \\circ \\iota \\) is analytic.\nWe claim that this map is \\( F \\). Indeed,\n\nfor any \\( m \\in M_1 \\) it holds\n\n", "itemtype": "equation", "pos": 9206, "prevtext": "\n\nwhere \\( \\mathrm{Stab}_1(G) \\) is the set of isometries fixing the identity element $1$ of $M$.\nWe provide the simple proof in Lemma \\ref{TFAE}.\n \n \n\\subsubsection{Acknowledgement}\nThe authors thank\nM.~Jablonski,\nA.~Ottazzi, and\nP.~Petersen for helpful remarks.\nE.L.D. acknowledges the support of the Academy of Finland project no. 288501.   \n\n\n\n\n\\section{Regularity of isometries}\n\\subsection{Lie group structure of isometry groups}  \n\n\n\n\nThe first aim of this section is to show that the isometry group of a metric Lie group is a Lie group. Such a fact is a consequence of the solution of the Hilbert 5th problem by Montgomery--Zippin, together with the observation that the isometry group is locally compact. This latter property follows by Ascoli--Arzel\\`a theorem.\n\n\nWe stress that a\n\nmetric Lie group $(M,d)$ \nmay not be boundedly compact. Namely, the closed balls \n$\\bar B_d(1_M, r):=\n\\{ p\\in M : d(p,1_M)\\leq r\\}\n$ with respect to $d$ may not be compact. For example, this is the case for the distance $\\min\\{d_E, 1\\}$ on ${\\mathbb R}$, where $d_E$ denotes the Euclidean distance.\n\n\\begin{remark} \\label{rmk:boundedy_cpt}\nIf \\( (M,d) \\) is a connected metric Lie group, then there exists a distance \\( \\rho \\) such that \\( (M,\\rho) \\) is a metric Lie group that is boundedly compact and \\( {\\operatorname{Isome}}(M,d) \\subseteq {\\operatorname{Isome}}(M,\\rho) \\).\nIndeed, since the topology induced by $d$ is the manifold topology, then there exists some $r_0>0$ such that \n$\\bar B_d(1_M, r_0)$ is compact.\nThen we can consider the distance\n\n", "index": 5, "text": "$$\\rho(p,q):=\n\\inf\n\\{ \n\\sum_{i=1}^k d(p_{i-1}, p_i) \\,:\\, k\\in {\\mathbb N},\\, p_i\\in M,\\, p_0=p, \\,p_k=q,\\, d(p_{i-1}, p_i)\\leq r_0\n \\}.$$\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex2.m1\" class=\"ltx_Math\" alttext=\"\\rho(p,q):=\\inf\\{\\sum_{i=1}^{k}d(p_{i-1},p_{i})\\,:\\,k\\in{\\mathbb{N}},\\,p_{i}%&#10;\\in M,\\,p_{0}=p,\\,p_{k}=q,\\,d(p_{i-1},p_{i})\\leq r_{0}\\}.\" display=\"block\"><mrow><mrow><mrow><mi>\u03c1</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>p</mi><mo>,</mo><mi>q</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>:=</mo><mrow><mo movablelimits=\"false\">inf</mo><mo>\u2061</mo><mrow><mo stretchy=\"false\">{</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mrow><mi>d</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>p</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>,</mo><msub><mi>p</mi><mi>i</mi></msub><mo rspace=\"4.2pt\" stretchy=\"false\">)</mo></mrow></mrow></mrow><mo rspace=\"4.2pt\">:</mo><mrow><mrow><mi>k</mi><mo>\u2208</mo><mi>\u2115</mi></mrow><mo rspace=\"4.2pt\">,</mo><mrow><mrow><msub><mi>p</mi><mi>i</mi></msub><mo>\u2208</mo><mi>M</mi></mrow><mo rspace=\"4.2pt\">,</mo><mrow><mrow><msub><mi>p</mi><mn>0</mn></msub><mo>=</mo><mi>p</mi></mrow><mo rspace=\"4.2pt\">,</mo><mrow><mrow><msub><mi>p</mi><mi>k</mi></msub><mo>=</mo><mi>q</mi></mrow><mo rspace=\"4.2pt\">,</mo><mrow><mrow><mi>d</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>p</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>,</mo><msub><mi>p</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><msub><mi>r</mi><mn>0</mn></msub></mrow></mrow></mrow></mrow></mrow><mo stretchy=\"false\">}</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.08172.tex", "nexttext": "\n\n\n\\end{proof} \n\n\\subsection{Isometries as Riemannian isometries}\n\n\nWe show next that isometries between metric Lie groups are actually Riemannian isometries for some left-invariant structures.\nLet us point out that when $M$ is a Lie group and $g$ is a  left-invariant Riemannian metric tensor on $g$, then one has an induced Riemannian distance $d_g$ and, by the theorem of Myers and Steenrod  \n\\cite{Myers-Steenrod},   the group ${\\operatorname{Isome}}(M,d_g) $  of  distance-preserving bijections\n coincides with the group ${\\operatorname{Isome}}(M,g)$ of   tensor-preserving diffeomorphisms.\n In what follows we shall write $(M,g)$ to denote the metric Lie group $(M,d_g) $.\n\n \n\\begin{proposition} \\label{prop:isometries_are_riemannian}\nIf \\( (M_1,d_1) \\) and \\( (M_2,d_2) \\) are connected metric Lie groups, then\nthere exists left-invariant Riemannian metrics \\( g_1 \\) and \\( g_2 \\) on \\( M_1 \\) and \\( M_2 \\), respectively, such that \n\\( {\\operatorname{Isome}}(M_i,d_i) \\subseteq {\\operatorname{Isome}}(M_i,g_i) \\) for \\( i \\in \\{1,2\\} \\) and for all isometries\n\\( F \\colon (M_1,d_1) \\rightarrow (M_2,d_2) \\) the map \n\\( F \\colon (M_1,g_1) \\rightarrow (M_2,g_2) \\) is a Riemannian isometry.\n\\end{proposition}\n\nLet us first deal with the case \\( (M_1,d_1) = (M_2,d_2) \\).\n\n\\begin{lemma}\\label{lemma:riem_metric}\nIf \\( (M,d) \\) is  a connected  metric Lie group, then there is a Riemannian metric \\( g \\) such that \n\\({\\operatorname{Isome}}(M,d) \\subseteq {\\operatorname{Isome}}(M,g) \\).\n\\end{lemma}\n\n\\begin{proof}[Proof of Lemma \\ref{lemma:riem_metric}] \nFix a scalar product \n\\( {\\langle\\langle  {\\cdot,\\cdot} \\rangle\\rangle} \\) \non the tangent space \\( T_1 M \\) at the identity 1 of $M$. From Proposition \\ref{Lie_structure}, the stabilizer \\( S \\) of \\( 1 \\) in \\( {\\operatorname{Isome}}(M,d) \\) is compact and acts smoothly on \\( M \\). Let \\( \\mu_S \\) be the probability Haar measure on \\( S \\). Consider for \\( v,w \\in T_1 M \\) \n\n", "itemtype": "equation", "pos": 13081, "prevtext": "\n Once can \n \n check that $(M,\\rho)$ is a metric Lie group, \n for all $r>0$ the set\n $\\bar B_\\rho(1_M, r)$  is compact, and\n ${\\operatorname{Isome}}(M,d) \\subseteq {\\operatorname{Isome}}(M,\\rho).$\n\\end{remark}\n\nLet us clarify now why the isometry group of a connected metric Lie group is locally compact, which was not justified in \\cite{LeDonne-Ottazzi}. With the terminology of Remark \\ref{rmk:boundedy_cpt} the stabilizer \\( S \\) of \\( 1 \\) in \\( {\\operatorname{Isome}}(M,d) \\) is a closed subgroup of the stabilizer \\( S_\\rho \\) of \\( 1 \\) in \\( {\\operatorname{Isome}}(M,\\rho) \\). Furthermore, for any \\( r > 0 \\) and \\( f \\in S_\\rho \\) we have that \\( f({\\bar}{B}_\\rho(1,r)) = {\\bar}{B}_\\rho(1,r) \\), which is compact. Hence, the maps from \\( S \\) restricted to \\( {\\bar}{B}(1,r) \\) form an equi-uniformly continuous and pointwise precompact family. Ascoli--Arzel\\`a Theorem implies that \\( S_\\rho \\) is compact, being also closed in \\( C^0(M,M) \\). Consequently, \\( S \\) is compact and because \\( M \\) is locally compact, then also \\( {\\operatorname{Isome}}(G,d) \\) is locally compact. At this point we are allowed to use the theory of locally compact groups after Gleason--Montgomery--Zippin \\cite{mz}. \nIn fact, the argument in \\cite[Proposition~4.5]{LeDonne-Ottazzi} concludes the proof of the following result.\n\n\\begin{proposition}\\label{Lie_structure}\nLet  \\(M \\) be  a metric Lie group with isometry group $G$. Assume that $M$ is connected.\n\\begin{enumerate}\n\\item The stabilizers of the action \\( G {\\curvearrowright} M \\) are compact.\n\n\\item The topological group $G$ is a Lie group (finite dimensional and with finitely many connected components) acting analytically on $M$.\n\n\\end{enumerate}\n\\end{proposition}\n \n\n\\begin{remark}\nThe assumption of $M$ being connected in Proposition \\ref{Lie_structure} is necessary. Indeed, one can take as a counterexample the group ${\\mathbb Z}$ with the discrete distance.\n\\end{remark}\n\n\\subsection{Proof of smoothness} \\label{sec:smooth}\nWith the use of\nProposition \\ref{Lie_structure}, we  give the proof of the analyticity of isometries (Theorem \\ref{smooth:thm}).\nWe remark that in the Riemannian setting the classical result of \nMyers and Steenrod gives smoothness of isometries, see\n\\cite{Myers-Steenrod}, and more generally\n\\cite{Capogna_LeDonne}.\nHowever,  the following proof is different in spirit and, nonetheless, it will imply (see Proposition \\ref{prop:isometries_are_riemannian}) that such metric isometries are Riemannian isometries for some Riemannian structures. \n\n\\begin{proof}[Proof of Theorem \\ref{smooth:thm}] \nLet \\( F \\colon M_1 \\to M_2 \\) be an isometry between metric Lie groups.\nWithout loss of generality we may assume that \\( p=1_{M_1} \\), \\( F(1_{M_1})=1_{M_2} \\) and that both \\( M_1 \\) and \\( M_2 \\) are connected, since left translations are analytic isometries and connected components of identity elements are open. By Proposition \\ref{Lie_structure}, for \\( i \\in \\{ 1,2 \\} \\), the space \\( G_i \\coloneqq {\\operatorname{Isome}}(M_i) \\) is a Lie group. The map \\( \\mathrm{C}_F \\colon G_1 \\to G_2 \\) defined as \\( I \\mapsto F \\circ I \\circ F^{-1} \\) is a group isomorphism that is continuous, see \\cite[Theorem 4]{Arens}. Hence, the map \\( \\mathrm{C}_F \\) is analytic, see \\cite[p.~117 Theorem~2.6]{Helgason}.\n\nConsider also the inclusion \\( \\iota \\colon M_1 \\to G_1 \\), \\( m \\mapsto L_m \\), which is analytic being a continuous homomorphism, and the orbit map \\( \\sigma \\colon G_2 \\to M_2 \\), \\( I \\mapsto I(1_{M_2}) \\), which is analytic since the action is analytic (Proposition \\ref{Lie_structure}).\nWe deduce that \\( \\sigma \\circ \\mathrm{C}_F \\circ \\iota \\) is analytic.\nWe claim that this map is \\( F \\). Indeed,\n\nfor any \\( m \\in M_1 \\) it holds\n\n", "index": 7, "text": "\n\\[\n(\\sigma \\circ \\mathrm{C}_F \\circ \\iota)(m) \n\n=\\sigma(F \\circ L_m \\circ F^{-1})\n=(F \\circ L_m \\circ F^{-1})(1_{M_2})\n=F(m).\n\\qedhere\n\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex3.m1\" class=\"ltx_Math\" alttext=\"(\\sigma\\circ\\mathrm{C}_{F}\\circ\\iota)(m)\\par&#10;=\\sigma(F\\circ L_{m}\\circ F^{-1})%&#10;=(F\\circ L_{m}\\circ F^{-1})(1_{M_{2}})=F(m).\" display=\"block\"><mrow><mrow><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03c3</mi><mo>\u2218</mo><msub><mi mathvariant=\"normal\">C</mi><mi>F</mi></msub><mo>\u2218</mo><mi>\u03b9</mi></mrow><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>m</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>\u03c3</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>F</mi><mo>\u2218</mo><msub><mi>L</mi><mi>m</mi></msub><mo>\u2218</mo><msup><mi>F</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>F</mi><mo>\u2218</mo><msub><mi>L</mi><mi>m</mi></msub><mo>\u2218</mo><msup><mi>F</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup></mrow><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mn>1</mn><msub><mi>M</mi><mn>2</mn></msub></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>F</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>m</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.08172.tex", "nexttext": "\n\nThen \\( {\\langle  {\\cdot,\\cdot} \\rangle} \\) defines a \\( S \\)-invariant scalar product on \\( T_1 M \\), and one can take \\( g \\) as the left-invariant Riemannian metric that coincides with \\( {\\langle  {\\cdot,\\cdot} \\rangle} \\) at the identity.\n\\end{proof} \n\n\\begin{proof}[Proof of Proposition \\ref{prop:isometries_are_riemannian}] \nBy Lemma \\ref{lemma:riem_metric}\nlet \\( g_2 \\)   be a Riemannian metric on \\( M_2 \\) with     \n", "itemtype": "equation", "pos": 15159, "prevtext": "\n\n\n\\end{proof} \n\n\\subsection{Isometries as Riemannian isometries}\n\n\nWe show next that isometries between metric Lie groups are actually Riemannian isometries for some left-invariant structures.\nLet us point out that when $M$ is a Lie group and $g$ is a  left-invariant Riemannian metric tensor on $g$, then one has an induced Riemannian distance $d_g$ and, by the theorem of Myers and Steenrod  \n\\cite{Myers-Steenrod},   the group ${\\operatorname{Isome}}(M,d_g) $  of  distance-preserving bijections\n coincides with the group ${\\operatorname{Isome}}(M,g)$ of   tensor-preserving diffeomorphisms.\n In what follows we shall write $(M,g)$ to denote the metric Lie group $(M,d_g) $.\n\n \n\\begin{proposition} \\label{prop:isometries_are_riemannian}\nIf \\( (M_1,d_1) \\) and \\( (M_2,d_2) \\) are connected metric Lie groups, then\nthere exists left-invariant Riemannian metrics \\( g_1 \\) and \\( g_2 \\) on \\( M_1 \\) and \\( M_2 \\), respectively, such that \n\\( {\\operatorname{Isome}}(M_i,d_i) \\subseteq {\\operatorname{Isome}}(M_i,g_i) \\) for \\( i \\in \\{1,2\\} \\) and for all isometries\n\\( F \\colon (M_1,d_1) \\rightarrow (M_2,d_2) \\) the map \n\\( F \\colon (M_1,g_1) \\rightarrow (M_2,g_2) \\) is a Riemannian isometry.\n\\end{proposition}\n\nLet us first deal with the case \\( (M_1,d_1) = (M_2,d_2) \\).\n\n\\begin{lemma}\\label{lemma:riem_metric}\nIf \\( (M,d) \\) is  a connected  metric Lie group, then there is a Riemannian metric \\( g \\) such that \n\\({\\operatorname{Isome}}(M,d) \\subseteq {\\operatorname{Isome}}(M,g) \\).\n\\end{lemma}\n\n\\begin{proof}[Proof of Lemma \\ref{lemma:riem_metric}] \nFix a scalar product \n\\( {\\langle\\langle  {\\cdot,\\cdot} \\rangle\\rangle} \\) \non the tangent space \\( T_1 M \\) at the identity 1 of $M$. From Proposition \\ref{Lie_structure}, the stabilizer \\( S \\) of \\( 1 \\) in \\( {\\operatorname{Isome}}(M,d) \\) is compact and acts smoothly on \\( M \\). Let \\( \\mu_S \\) be the probability Haar measure on \\( S \\). Consider for \\( v,w \\in T_1 M \\) \n\n", "index": 9, "text": "\n\\[ {\\langle  {v,w} \\rangle} \\coloneqq \\int_S {\\langle\\langle  {{\\mathrm{d}} F v, {\\mathrm{d}} F w} \\rangle\\rangle} {\\mathrm{d}} \\mu_S(F) .\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex4.m1\" class=\"ltx_Math\" alttext=\"{\\langle{v,w}\\rangle}\\coloneqq\\int_{S}{\\langle\\langle{{\\mathrm{d}}Fv,{\\mathrm{%&#10;d}}Fw}\\rangle\\rangle}{\\mathrm{d}}\\mu_{S}(F).\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">\u27e8</mo><mi>v</mi><mo>,</mo><mi>w</mi><mo stretchy=\"false\">\u27e9</mo></mrow><mo>\u2254</mo><mrow><msub><mo largeop=\"true\" symmetric=\"true\">\u222b</mo><mi>S</mi></msub><mrow><mrow><mo stretchy=\"false\">\u27e8</mo><mrow><mo stretchy=\"false\">\u27e8</mo><mrow><mi mathvariant=\"normal\">d</mi><mo>\u2062</mo><mi>F</mi><mo>\u2062</mo><mi>v</mi></mrow><mo>,</mo><mrow><mi mathvariant=\"normal\">d</mi><mo>\u2062</mo><mi>F</mi><mo>\u2062</mo><mi>w</mi></mrow><mo stretchy=\"false\">\u27e9</mo></mrow><mo stretchy=\"false\">\u27e9</mo></mrow><mo>\u2062</mo><mrow><mo>d</mo><msub><mi>\u03bc</mi><mi>S</mi></msub></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>F</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.08172.tex", "nexttext": " \n\n  Fix \\( F \\colon (M_1,d_1) \\rightarrow (M_2,d_2) \\) an isometry. By Theorem~\\ref{smooth:thm} the map \\( F \\) is smooth, and we may define a Riemannian metric on \\( M_1 \\) by \\( g_1 \\coloneqq F^* g_2 \\). There are two things to check: a) \\( {\\operatorname{Isome}}(M_1,d_1) \\subseteq {\\operatorname{Isome}}(M_1,g_1) \\), which in particular gives that \\( g_1 \\) is left-invariant and b) every isometry \\( H \\colon (M_1,d_1) \\rightarrow (M_2,d_2) \\) is an isometry of Riemannian manifolds.\n\nFor part a, since by construction \\( F \\) is also a Riemannian isometry, the map \\( I \\mapsto F \\circ I \\circ F^{-1} \\) is a bijection between \\( {\\operatorname{Isome}}(M_1,d_1) \\) and \\( {\\operatorname{Isome}}(M_2,d_2) \\) and between \\( {\\operatorname{Isome}}(M_1,g_1) \\) and \\( {\\operatorname{Isome}}(M_2,g_2) \\).\n\nTherefore the inclusion\n\n\\eqref{eq:incl2} implies the inclusion\n\\( {\\operatorname{Isome}}(M_1,d_1) \\subseteq {\\operatorname{Isome}}(M_1,g_1) \\).\n\n\nFor part b, \n\nsince \\( H \\circ F^{-1} \\in {\\operatorname{Isome}}(M_2,d_2) \\subseteq {\\operatorname{Isome}}(M_2,g_2) \\), then \\( (H \\circ F^{-1})^* g_2 = g_2 \\). Consequently, we get \\( H^* g_2 = F^* (H \\circ F^{-1})^* g_2 = g_1 \\).\n\\end{proof} \n\n\n\n\n\n\n\\section{Affine decomposition}\n\n\\subsection{Preliminary lemmas}\n\nGiven a  group $M$ we denote   by $M^L$ the group of left translations on $M$.\nThe following two results make sense in the settings of groups equipped with  left-invariant distances. We call such groups {\\em metric groups}.\n\\begin{lemma}\\label{Lemma316}\nLet $M_1$ and $M_2$ be metric groups. \nSuppose $ F : M_1 \\to M_2$\nis an isometry   and \n$ F\\circ M_1^L \\circ F^{-1} = M^L_2 $. \n\nThen F is affine.\n\\end{lemma}\n\\begin{proof} \nUp to precomposing with a translation, we assume that\n $F(1_{M_1})=1_{M_2}$. So we want to prove that \\(F \\) is an isomorphism.\nThe map \\( \\mathrm{C}_F \\colon {\\operatorname{Isome}}(M_1) \\to {\\operatorname{Isome}}(M_2) \\), \\( I \\mapsto F \\circ I \\circ F^{-1} \\), is an isomorphism and by assumption it gives an isomorphism between \\( M_1^L \\) and \\( M_2^L \\). We claim that \\( F \\) is the same isomorphism when identifying \\( M_i \\) with \\( M_i^L \\). Namely, we want to show that for all \\( m \\in M_1 \\) we have \\( L_{F(m)} = \\mathrm{C}_F(L_m) \\). By assumption for all \\( m_1 \\in M_1 \\) exists \\( m_2 \\in M_2 \\) such that \\( L_{m_2} = \\mathrm{C}_F(L_{m_1}) \\). Evaluating at \\( 1_{M_2} \\), we get\n", "itemtype": "equation", "pos": -1, "prevtext": "\n\nThen \\( {\\langle  {\\cdot,\\cdot} \\rangle} \\) defines a \\( S \\)-invariant scalar product on \\( T_1 M \\), and one can take \\( g \\) as the left-invariant Riemannian metric that coincides with \\( {\\langle  {\\cdot,\\cdot} \\rangle} \\) at the identity.\n\\end{proof} \n\n\\begin{proof}[Proof of Proposition \\ref{prop:isometries_are_riemannian}] \nBy Lemma \\ref{lemma:riem_metric}\nlet \\( g_2 \\)   be a Riemannian metric on \\( M_2 \\) with     \n", "index": 11, "text": "\\begin{equation}\\label{eq:incl2}\n {\\operatorname{Isome}}(M_2,d_2) \\subseteq {\\operatorname{Isome}}(M_2,g_2) .\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E2.m1\" class=\"ltx_Math\" alttext=\"{\\operatorname{Isome}}(M_{2},d_{2})\\subseteq{\\operatorname{Isome}}(M_{2},g_{2}).\" display=\"block\"><mrow><mrow><mrow><mo>Isome</mo><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>M</mi><mn>2</mn></msub><mo>,</mo><msub><mi>d</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2286</mo><mrow><mo>Isome</mo><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>M</mi><mn>2</mn></msub><mo>,</mo><msub><mi>g</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.08172.tex", "nexttext": "\n\\end{proof} \n\nWith the next result we clarify that the condition of self-isometries being affine is equivalent to left translations being a normal subgroup of the group of isometries. Equivalently, we have a semi-direct product decomposition of the isometry group. \nNamely, given a metric group $M$ and denoting by\n$G$ the isometry group\n\nand by \n$\\mathrm{Stab}_1 (G) $ the stabilizer of the identity element, we have that \n  $M$ has affine isometries if and only if \n \\( G = M^L \\rtimes \\mathrm{Stab}_1 (G) \\).\nWe denote by $\\mathrm{Aff}(M)$ the group of affine maps from  $M$ to $M$ and by $\\mathrm{Aut}(M) $ the group of automorphisms of $M$.\n\n\\begin{lemma}\\label{TFAE}\nLet \\( M \\) be a metric group with isometry group \\( G \\).\nThen the following are equivalent:\n\\begin{enumerate}\n\\item \\( M^L {\\vartriangleleft} G \\), \ni.e.,  $ F\\circ M^L \\circ F^{-1} = M^L$, for all $F\\in G$;\n\n\n\n\\item\n$G< \\mathrm{Aff}(M)$;\n\n\\item\n \\( \\mathrm{Stab}_1 (G) < \\mathrm{Aut}(M) \\);\n\n\\item\n \\( G = M^L \\rtimes \\mathrm{Stab}_1 (G) \\).\n\\end{enumerate}\n\\end{lemma}\n\\begin{proof} \nProperty (a) implies (b) by  Lemma \\ref{Lemma316}.\nRegarding the fact that (b) implies (a),  consider a map \\( F \\in G \\), which we know is of the form \\( F = \\tau \\circ \\Phi \\) with \\( \\tau \\in M^L \\) and \\( \\Phi \\in {\\operatorname{Aut}}(M) \\). For all \\( p \\in M \\) we get\n\n\n\n\n\n\n\n\n\n\n\\begin{eqnarray*}\nF \\circ L_p \\circ F^{-1}\n&=& (\\tau \\circ \\Phi) \\circ L_p \\circ(\\tau \\circ \\Phi)^{-1}\n\\\\\n&=& \\tau \\circ \\Phi \\circ L_p \\circ \\Phi^{-1} \\circ \\tau^{-1}\n\\\\\n&=& \\tau \\circ L_{\\Phi(p)} \\circ \\Phi \\circ \\Phi^{-1} \\circ \\tau^{-1}\n\\\\\n&=& \\tau \\circ L_{\\Phi(p)} \\circ \\tau^{-1} \\in M^L,\n\\end{eqnarray*}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nwhich gives \\( M^L {\\vartriangleleft} G \\).\n\n\n\n\nThe equivalence of (b)  with (c) is trivial.\nThe equivalence of (a)  with (d) \n\n\nfollows from the facts\n\n $M^L \\cdot  \\mathrm{Stab}_1 (G) = G$ and $M^L \\cap  \\mathrm{Stab}_1 (G) =\\{{\\operatorname{id}}\\}$. \n\n\n\\end{proof} \n\n\n\n\\subsection{The nilradical condition}\\label{sec:nilradical}\n\n\n\n\\begin{definition}[Nilradical condition] \\label{def:nilrad}\nLet \\( \\mathfrak{g} \\) be a Lie algebra. The \\emph{nilradical} of \n\\( \\mathfrak{g} \\), denoted by \\( {\\operatorname{nil}}(\\mathfrak{g}) \\), is the largest nilpotent ideal of \\( \\mathfrak{g} \\).\n\nWe say that a connected metric Lie group \\( N \\)\nwith isometry group ${\\operatorname{Isome}}(N)$\n satisfies \\emph{the nilradical condition} if it holds \n\n", "itemtype": "equation", "pos": 18247, "prevtext": " \n\n  Fix \\( F \\colon (M_1,d_1) \\rightarrow (M_2,d_2) \\) an isometry. By Theorem~\\ref{smooth:thm} the map \\( F \\) is smooth, and we may define a Riemannian metric on \\( M_1 \\) by \\( g_1 \\coloneqq F^* g_2 \\). There are two things to check: a) \\( {\\operatorname{Isome}}(M_1,d_1) \\subseteq {\\operatorname{Isome}}(M_1,g_1) \\), which in particular gives that \\( g_1 \\) is left-invariant and b) every isometry \\( H \\colon (M_1,d_1) \\rightarrow (M_2,d_2) \\) is an isometry of Riemannian manifolds.\n\nFor part a, since by construction \\( F \\) is also a Riemannian isometry, the map \\( I \\mapsto F \\circ I \\circ F^{-1} \\) is a bijection between \\( {\\operatorname{Isome}}(M_1,d_1) \\) and \\( {\\operatorname{Isome}}(M_2,d_2) \\) and between \\( {\\operatorname{Isome}}(M_1,g_1) \\) and \\( {\\operatorname{Isome}}(M_2,g_2) \\).\n\nTherefore the inclusion\n\n\\eqref{eq:incl2} implies the inclusion\n\\( {\\operatorname{Isome}}(M_1,d_1) \\subseteq {\\operatorname{Isome}}(M_1,g_1) \\).\n\n\nFor part b, \n\nsince \\( H \\circ F^{-1} \\in {\\operatorname{Isome}}(M_2,d_2) \\subseteq {\\operatorname{Isome}}(M_2,g_2) \\), then \\( (H \\circ F^{-1})^* g_2 = g_2 \\). Consequently, we get \\( H^* g_2 = F^* (H \\circ F^{-1})^* g_2 = g_1 \\).\n\\end{proof} \n\n\n\n\n\n\n\\section{Affine decomposition}\n\n\\subsection{Preliminary lemmas}\n\nGiven a  group $M$ we denote   by $M^L$ the group of left translations on $M$.\nThe following two results make sense in the settings of groups equipped with  left-invariant distances. We call such groups {\\em metric groups}.\n\\begin{lemma}\\label{Lemma316}\nLet $M_1$ and $M_2$ be metric groups. \nSuppose $ F : M_1 \\to M_2$\nis an isometry   and \n$ F\\circ M_1^L \\circ F^{-1} = M^L_2 $. \n\nThen F is affine.\n\\end{lemma}\n\\begin{proof} \nUp to precomposing with a translation, we assume that\n $F(1_{M_1})=1_{M_2}$. So we want to prove that \\(F \\) is an isomorphism.\nThe map \\( \\mathrm{C}_F \\colon {\\operatorname{Isome}}(M_1) \\to {\\operatorname{Isome}}(M_2) \\), \\( I \\mapsto F \\circ I \\circ F^{-1} \\), is an isomorphism and by assumption it gives an isomorphism between \\( M_1^L \\) and \\( M_2^L \\). We claim that \\( F \\) is the same isomorphism when identifying \\( M_i \\) with \\( M_i^L \\). Namely, we want to show that for all \\( m \\in M_1 \\) we have \\( L_{F(m)} = \\mathrm{C}_F(L_m) \\). By assumption for all \\( m_1 \\in M_1 \\) exists \\( m_2 \\in M_2 \\) such that \\( L_{m_2} = \\mathrm{C}_F(L_{m_1}) \\). Evaluating at \\( 1_{M_2} \\), we get\n", "index": 13, "text": "\n\\[\nm_2 = \nL_{m_2}(1_{M_2}) = \\mathrm{C}_F(L_{m_1})(1_{M_2}) = \nF( L_{m_1}(F^{-1}(1_{M_2}) )) \n= F(m_1).\n\\qedhere\n\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex5.m1\" class=\"ltx_Math\" alttext=\"m_{2}=L_{m_{2}}(1_{M_{2}})=\\mathrm{C}_{F}(L_{m_{1}})(1_{M_{2}})=F(L_{m_{1}}(F^%&#10;{-1}(1_{M_{2}})))=F(m_{1}).\" display=\"block\"><mrow><mrow><msub><mi>m</mi><mn>2</mn></msub><mo>=</mo><mrow><msub><mi>L</mi><msub><mi>m</mi><mn>2</mn></msub></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mn>1</mn><msub><mi>M</mi><mn>2</mn></msub></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><msub><mi mathvariant=\"normal\">C</mi><mi>F</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>L</mi><msub><mi>m</mi><mn>1</mn></msub></msub><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mn>1</mn><msub><mi>M</mi><mn>2</mn></msub></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>F</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>L</mi><msub><mi>m</mi><mn>1</mn></msub></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><msup><mi>F</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mn>1</mn><msub><mi>M</mi><mn>2</mn></msub></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>F</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>m</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.08172.tex", "nexttext": " \n\n\\end{definition}\n\n\n\nClearly, a metric Lie group \\( N \\) \n satisfies  the nilradical condition only if it is nilpotent.\n The nilradical of a Lie algebra \\( \\mathfrak{g} \\) can   also be defined as  the sum of all nilpotent ideals of\n\\( \\mathfrak{g} \\), see  \\cite[Definition 5.2.10]{Hilgert_Neeb:book}.\n\n \n \nThe nilradical condition is introduced after \n\\cite{Wolf, Wilson, Gordon-Wilson}. The importance of such condition is shown by the following  result. \n\n\n\n\\begin{lemma} \\label{lemma317}\nLet \n $N_1$ and $N_2$ \n\n be two connected  metric Lie groups. \nAssume that both $N_1$ and $N_2$ satisfy the nilradical condition \\eqref{nilradica_condition}.\n\nThen any isometry \\( F \\colon N_1 \\rightarrow N_2 \\) is affine.\n\n\\end{lemma}\n\\begin{proof} \nAs before, denote by \\( \\mathrm{C}_F \\colon {\\operatorname{Isome}}(N_1) \\to {\\operatorname{Isome}}(N_2) \\) the map \\( \\mathrm{C}_F(I) = F \\circ I \\circ F^{-1} \\). By Lemma \\ref{Lemma316} it is enough to show that \\( \\mathrm{C}_F(N_1^L) = N_2^L \\).\n\nRecall by Proposition~\\ref{Lie_structure} that for \\( i \\in \\{ 1,2 \\} \\) the space  \\( G_i \\coloneqq {\\operatorname{Isome}}(N_i) \\) is a Lie group. As pointed out in the proof of Theorem \\ref{smooth:thm}, the map \\( \\mathrm{C}_F \\) is a smooth isomorphism. Let us consider the map at the level of Lie algebras, denoting by \\( \\mathfrak{g}_i \\) and \\( \\mathfrak{n}_i \\) the Lie algebras of \\( G_i \\) and \\( N_i^L \\), respectively. Namely, we consider the differential\n\\(\n{\\mathrm{d}} \\mathrm{C}_F \\colon \\mathfrak{g}_1 \\to \\mathfrak{g}_2\n\\),\nwhich is an isomorphism of Lie algebras. Hence \\( {\\mathrm{d}} \\mathrm{C}_F({\\operatorname{nil}}(\\mathfrak{g}_1)) = {\\operatorname{nil}}(\\mathfrak{g}_2) \\).\nSince by the assumption \\( {\\operatorname{nil}}(\\mathfrak{g}_i) = \\mathfrak{n}_i \\), we get \\( {\\mathrm{d}} \\mathrm{C}_F(\\mathfrak{n}_1 ) = \\mathfrak{n}_2 \\). Recall the formula \\( \\mathrm{exp} \\circ {\\mathrm{d}} \\mathrm{C}_F = \\mathrm{C}_F \\circ \\mathrm{exp} \\) and the fact that for connected nilpotent Lie groups the exponential map is surjective, see \\cite{Warner,Corwin-Greenleaf}. Then we deduce that\n", "itemtype": "equation", "pos": -1, "prevtext": "\n\\end{proof} \n\nWith the next result we clarify that the condition of self-isometries being affine is equivalent to left translations being a normal subgroup of the group of isometries. Equivalently, we have a semi-direct product decomposition of the isometry group. \nNamely, given a metric group $M$ and denoting by\n$G$ the isometry group\n\nand by \n$\\mathrm{Stab}_1 (G) $ the stabilizer of the identity element, we have that \n  $M$ has affine isometries if and only if \n \\( G = M^L \\rtimes \\mathrm{Stab}_1 (G) \\).\nWe denote by $\\mathrm{Aff}(M)$ the group of affine maps from  $M$ to $M$ and by $\\mathrm{Aut}(M) $ the group of automorphisms of $M$.\n\n\\begin{lemma}\\label{TFAE}\nLet \\( M \\) be a metric group with isometry group \\( G \\).\nThen the following are equivalent:\n\\begin{enumerate}\n\\item \\( M^L {\\vartriangleleft} G \\), \ni.e.,  $ F\\circ M^L \\circ F^{-1} = M^L$, for all $F\\in G$;\n\n\n\n\\item\n$G< \\mathrm{Aff}(M)$;\n\n\\item\n \\( \\mathrm{Stab}_1 (G) < \\mathrm{Aut}(M) \\);\n\n\\item\n \\( G = M^L \\rtimes \\mathrm{Stab}_1 (G) \\).\n\\end{enumerate}\n\\end{lemma}\n\\begin{proof} \nProperty (a) implies (b) by  Lemma \\ref{Lemma316}.\nRegarding the fact that (b) implies (a),  consider a map \\( F \\in G \\), which we know is of the form \\( F = \\tau \\circ \\Phi \\) with \\( \\tau \\in M^L \\) and \\( \\Phi \\in {\\operatorname{Aut}}(M) \\). For all \\( p \\in M \\) we get\n\n\n\n\n\n\n\n\n\n\n\\begin{eqnarray*}\nF \\circ L_p \\circ F^{-1}\n&=& (\\tau \\circ \\Phi) \\circ L_p \\circ(\\tau \\circ \\Phi)^{-1}\n\\\\\n&=& \\tau \\circ \\Phi \\circ L_p \\circ \\Phi^{-1} \\circ \\tau^{-1}\n\\\\\n&=& \\tau \\circ L_{\\Phi(p)} \\circ \\Phi \\circ \\Phi^{-1} \\circ \\tau^{-1}\n\\\\\n&=& \\tau \\circ L_{\\Phi(p)} \\circ \\tau^{-1} \\in M^L,\n\\end{eqnarray*}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nwhich gives \\( M^L {\\vartriangleleft} G \\).\n\n\n\n\nThe equivalence of (b)  with (c) is trivial.\nThe equivalence of (a)  with (d) \n\n\nfollows from the facts\n\n $M^L \\cdot  \\mathrm{Stab}_1 (G) = G$ and $M^L \\cap  \\mathrm{Stab}_1 (G) =\\{{\\operatorname{id}}\\}$. \n\n\n\\end{proof} \n\n\n\n\\subsection{The nilradical condition}\\label{sec:nilradical}\n\n\n\n\\begin{definition}[Nilradical condition] \\label{def:nilrad}\nLet \\( \\mathfrak{g} \\) be a Lie algebra. The \\emph{nilradical} of \n\\( \\mathfrak{g} \\), denoted by \\( {\\operatorname{nil}}(\\mathfrak{g}) \\), is the largest nilpotent ideal of \\( \\mathfrak{g} \\).\n\nWe say that a connected metric Lie group \\( N \\)\nwith isometry group ${\\operatorname{Isome}}(N)$\n satisfies \\emph{the nilradical condition} if it holds \n\n", "index": 15, "text": "\\begin{equation}\\label{nilradica_condition} \n {\\operatorname{Lie}}(N^L) = {\\operatorname{nil}}({\\operatorname{Lie}}({\\operatorname{Isome}}(N))) .\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E3.m1\" class=\"ltx_Math\" alttext=\"{\\operatorname{Lie}}(N^{L})={\\operatorname{nil}}({\\operatorname{Lie}}({%&#10;\\operatorname{Isome}}(N))).\" display=\"block\"><mrow><mrow><mrow><mo>Lie</mo><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><msup><mi>N</mi><mi>L</mi></msup><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mo>nil</mo><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mo>Lie</mo><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mo>Isome</mo><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mi>N</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.08172.tex", "nexttext": "\nThe claim follows by Lemma \\ref{Lemma316}.\n\\end{proof} \n\n \n\nThe  nilradical condition is satisfied by Riemannian nilpotent Lie groups, where the distance is induced by a left-invariant metric tensor. Such a result was proved by Wolf\n \\cite[p.~278 Theorem 4.2]{Wolf}, see also \\cite[p.~341 Theorem 2]{Wilson}.\n\n\\begin{thm}[{Wolf}]\n\\label{thm_wilson}\n\n\nEvery Riemannian \nnilpotent connected Lie group\nsatisfies\nthe  nilradical condition \\eqref{nilradica_condition}\n\n\n\n\n\n\\end{thm}\n\nWe remark that the work of Wolf, together with the work of Gordon and Wilson, is one of the initial steps in the study of  (Riemannian)\nnilmanifolds,\nsolvmanifolds, and homogeneous  Ricci solitons,\nsee \\cite{Gordon-Wilson, Jablonski_HRS,\nJablonski_SSS}.\n\n\n\n\n\n\\subsection{Proof of affinity and its consequences} \\label{sec:affinity}\n\nLet \\( (N_1,d_1) \\) and \\( (N_2, d_2) \\) be two nilpotent connected metric Lie groups. \nLet \\( F \\colon (N_1,d_1) \\rightarrow (N_2 ,d_2)\\) \n be an isometry. We shall prove that $F$\n is affine.\nBy Proposition \\ref{prop:isometries_are_riemannian} for \\( i \\in \\{ 1,2 \\} \\) there exist metric tensors \\( g_i \\) on \\( N_i \\) such that\n\\( F \\colon (N_1,g_1) \\rightarrow (N_2 ,g_2)\\) is an isometry. By Wolf's theorem (Theorem \\ref{thm_wilson}) the space \\( (N_i,g_i) \\) satisfies the nilradical condition \\eqref{nilradica_condition}. Hence, we apply Lemma \\ref{lemma317} with \\( N_i = (N_i,g_i) \\) and conclude that \\( F \\) is affine.\n\nIn particular, we have that \\( N_1 \\) and \\( N_2 \\) are isomorphic as Lie groups. Because of Lemma \\ref{TFAE} we also deduce that isometry group of a nilpotent connected metric Lie group \\( N \\) is the semi-direct product\n\n", "itemtype": "equation", "pos": 23038, "prevtext": " \n\n\\end{definition}\n\n\n\nClearly, a metric Lie group \\( N \\) \n satisfies  the nilradical condition only if it is nilpotent.\n The nilradical of a Lie algebra \\( \\mathfrak{g} \\) can   also be defined as  the sum of all nilpotent ideals of\n\\( \\mathfrak{g} \\), see  \\cite[Definition 5.2.10]{Hilgert_Neeb:book}.\n\n \n \nThe nilradical condition is introduced after \n\\cite{Wolf, Wilson, Gordon-Wilson}. The importance of such condition is shown by the following  result. \n\n\n\n\\begin{lemma} \\label{lemma317}\nLet \n $N_1$ and $N_2$ \n\n be two connected  metric Lie groups. \nAssume that both $N_1$ and $N_2$ satisfy the nilradical condition \\eqref{nilradica_condition}.\n\nThen any isometry \\( F \\colon N_1 \\rightarrow N_2 \\) is affine.\n\n\\end{lemma}\n\\begin{proof} \nAs before, denote by \\( \\mathrm{C}_F \\colon {\\operatorname{Isome}}(N_1) \\to {\\operatorname{Isome}}(N_2) \\) the map \\( \\mathrm{C}_F(I) = F \\circ I \\circ F^{-1} \\). By Lemma \\ref{Lemma316} it is enough to show that \\( \\mathrm{C}_F(N_1^L) = N_2^L \\).\n\nRecall by Proposition~\\ref{Lie_structure} that for \\( i \\in \\{ 1,2 \\} \\) the space  \\( G_i \\coloneqq {\\operatorname{Isome}}(N_i) \\) is a Lie group. As pointed out in the proof of Theorem \\ref{smooth:thm}, the map \\( \\mathrm{C}_F \\) is a smooth isomorphism. Let us consider the map at the level of Lie algebras, denoting by \\( \\mathfrak{g}_i \\) and \\( \\mathfrak{n}_i \\) the Lie algebras of \\( G_i \\) and \\( N_i^L \\), respectively. Namely, we consider the differential\n\\(\n{\\mathrm{d}} \\mathrm{C}_F \\colon \\mathfrak{g}_1 \\to \\mathfrak{g}_2\n\\),\nwhich is an isomorphism of Lie algebras. Hence \\( {\\mathrm{d}} \\mathrm{C}_F({\\operatorname{nil}}(\\mathfrak{g}_1)) = {\\operatorname{nil}}(\\mathfrak{g}_2) \\).\nSince by the assumption \\( {\\operatorname{nil}}(\\mathfrak{g}_i) = \\mathfrak{n}_i \\), we get \\( {\\mathrm{d}} \\mathrm{C}_F(\\mathfrak{n}_1 ) = \\mathfrak{n}_2 \\). Recall the formula \\( \\mathrm{exp} \\circ {\\mathrm{d}} \\mathrm{C}_F = \\mathrm{C}_F \\circ \\mathrm{exp} \\) and the fact that for connected nilpotent Lie groups the exponential map is surjective, see \\cite{Warner,Corwin-Greenleaf}. Then we deduce that\n", "index": 17, "text": "\n\\[\n\\mathrm{C}_F(N_1^L) = \\mathrm{C}_F( \\exp(\\mathfrak{n}_1)) = \\exp( {\\mathrm{d}} \\mathrm{C}_F( \\mathfrak{n}_1)) = \\exp( \\mathfrak{n}_2) = N_2^L\n.\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex6.m1\" class=\"ltx_Math\" alttext=\"\\mathrm{C}_{F}(N_{1}^{L})=\\mathrm{C}_{F}(\\exp(\\mathfrak{n}_{1}))=\\exp({\\mathrm%&#10;{d}}\\mathrm{C}_{F}(\\mathfrak{n}_{1}))=\\exp(\\mathfrak{n}_{2})=N_{2}^{L}.\" display=\"block\"><mrow><mrow><mrow><msub><mi mathvariant=\"normal\">C</mi><mi>F</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msubsup><mi>N</mi><mn>1</mn><mi>L</mi></msubsup><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><msub><mi mathvariant=\"normal\">C</mi><mi>F</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>exp</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>\ud835\udd2b</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>exp</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>dC</mi><mi>F</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>\ud835\udd2b</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>exp</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>\ud835\udd2b</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><msubsup><mi>N</mi><mn>2</mn><mi>L</mi></msubsup></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.08172.tex", "nexttext": "\nwhere \\( \\operatorname{AutIsome}(N)\\) denotes the group of automorphisms of \\( N \\) that are also isometries of \\( N \\).\n\\qed\n\n\n\\subsection{The nilradical of nilpotent Lie groups}\n\nIn this section we show that,\nlikewise in Theorem \\ref{thm_wilson}, the \nnilradical of the isometry group of\n a nilpotent connected metric Lie group\n is the group of left translations. \nNamely, \n the  nilradical condition \\eqref{nilradica_condition} holds.\nWe start with a basic lemma and for the reader convenience we provide its proof.\n\n\\begin{lemma} \n\\label{korvike-max-cpt}\nLet \\( N \\) be a connected nilpotent Lie group. \nThen every compact subgroup \\( K < N \\) is central in \\( N \\).\n\\end{lemma}\n\n\n\n\\begin{proof} \nLet the Lie group \\( \\tilde N \\) be the universal covering space of the Lie group \\( N \\)\nin such a way that the projection map \\( \\pi \\colon \\tilde N \\rightarrow N \\) is \na morphism of Lie groups. \n\nConsider the sets \\( B \\coloneqq \\exp^{-1} (\\pi^{-1}(K)) \\), \\( A \\coloneqq \\exp^{-1} (\\pi^{-1}(e)) \\), and\n \\( A_S \\coloneqq \\mathrm{span}_{\\mathbb{R}}(A) \\).\n\nSince \\( \\tilde N \\) is connected and \\( \\pi^{-1}(e) \\) is discrete and normal in \\( \\tilde N \\), the subgroup \\( \\pi^{-1}(e) \\) is central in \\( \\tilde N \\). Since \\( \\tilde N \\) is nilpotent, we have (see \\cite[p.~24]{Corwin-Greenleaf})\n\n\n", "itemtype": "equation", "pos": 24853, "prevtext": "\nThe claim follows by Lemma \\ref{Lemma316}.\n\\end{proof} \n\n \n\nThe  nilradical condition is satisfied by Riemannian nilpotent Lie groups, where the distance is induced by a left-invariant metric tensor. Such a result was proved by Wolf\n \\cite[p.~278 Theorem 4.2]{Wolf}, see also \\cite[p.~341 Theorem 2]{Wilson}.\n\n\\begin{thm}[{Wolf}]\n\\label{thm_wilson}\n\n\nEvery Riemannian \nnilpotent connected Lie group\nsatisfies\nthe  nilradical condition \\eqref{nilradica_condition}\n\n\n\n\n\n\\end{thm}\n\nWe remark that the work of Wolf, together with the work of Gordon and Wilson, is one of the initial steps in the study of  (Riemannian)\nnilmanifolds,\nsolvmanifolds, and homogeneous  Ricci solitons,\nsee \\cite{Gordon-Wilson, Jablonski_HRS,\nJablonski_SSS}.\n\n\n\n\n\n\\subsection{Proof of affinity and its consequences} \\label{sec:affinity}\n\nLet \\( (N_1,d_1) \\) and \\( (N_2, d_2) \\) be two nilpotent connected metric Lie groups. \nLet \\( F \\colon (N_1,d_1) \\rightarrow (N_2 ,d_2)\\) \n be an isometry. We shall prove that $F$\n is affine.\nBy Proposition \\ref{prop:isometries_are_riemannian} for \\( i \\in \\{ 1,2 \\} \\) there exist metric tensors \\( g_i \\) on \\( N_i \\) such that\n\\( F \\colon (N_1,g_1) \\rightarrow (N_2 ,g_2)\\) is an isometry. By Wolf's theorem (Theorem \\ref{thm_wilson}) the space \\( (N_i,g_i) \\) satisfies the nilradical condition \\eqref{nilradica_condition}. Hence, we apply Lemma \\ref{lemma317} with \\( N_i = (N_i,g_i) \\) and conclude that \\( F \\) is affine.\n\nIn particular, we have that \\( N_1 \\) and \\( N_2 \\) are isomorphic as Lie groups. Because of Lemma \\ref{TFAE} we also deduce that isometry group of a nilpotent connected metric Lie group \\( N \\) is the semi-direct product\n\n", "index": 19, "text": "\\begin{equation}\\label{semidirect}\n{\\operatorname{Isome}}(N) = N \\rtimes \\operatorname{AutIsome}(N),\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E4.m1\" class=\"ltx_Math\" alttext=\"{\\operatorname{Isome}}(N)=N\\rtimes\\operatorname{AutIsome}(N),\" display=\"block\"><mrow><mrow><mrow><mo>Isome</mo><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mi>N</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>N</mi><mo>\u22ca</mo><mrow><mo>AutIsome</mo><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mi>N</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.08172.tex", "nexttext": "\n\nThus, since the exponential map is invertible, we deduce that \\( A \\) is central in \\( {\\operatorname{Lie}}(\\tilde N) \\). Hence \\( \\exp(b+A) = \\exp(b) \\exp(A) \\) for all \\( b \\in B \\). So the map \\( \\mathrm{exp}|_B \\) induces a homeomorphism between \\( B/A \\) and \\( \\exp(B)/\\exp(A) = \\pi^{-1}(K)/\\pi^{-1}(e) \\cong K \\). Thus the space \\( B/A \\) is compact. Since the canonical map from \\( B/A \\) to \\( B/A_S \\) is a continuous surjection, also \\( B/A_S \\) is compact.\n\nWe claim that \\( B \\subseteq A_S \\). Indeed, by contradiction assume that there is \\( b \\in B \\backslash A_S \\). Notice that for all \\( n \\in \\mathbb{N} \\) we have \\( nb \\in B \\) since \\( \\exp(nb) =\\exp(b)^n \\in \\pi^{-1}(K) \\). Since we proved that \\( B / A_S \\) is compact, the sequence \\( nb + A_S \\in B/A_S\\) accumulates to a point \\( x \\in A/B_S \\).\nConsider a Euclidean distance \\( d_E \\) on \\( {\\operatorname{Lie}}(\\tilde N) \\). On the one hand, since \\( b \\) is not in the subspace \\( A_S \\), we have \\( d_E(nb, A_S) \\rightarrow \\infty \\) as \\( n \\rightarrow \\infty \\). On the other hand,\n", "itemtype": "equation", "pos": 26271, "prevtext": "\nwhere \\( \\operatorname{AutIsome}(N)\\) denotes the group of automorphisms of \\( N \\) that are also isometries of \\( N \\).\n\\qed\n\n\n\\subsection{The nilradical of nilpotent Lie groups}\n\nIn this section we show that,\nlikewise in Theorem \\ref{thm_wilson}, the \nnilradical of the isometry group of\n a nilpotent connected metric Lie group\n is the group of left translations. \nNamely, \n the  nilradical condition \\eqref{nilradica_condition} holds.\nWe start with a basic lemma and for the reader convenience we provide its proof.\n\n\\begin{lemma} \n\\label{korvike-max-cpt}\nLet \\( N \\) be a connected nilpotent Lie group. \nThen every compact subgroup \\( K < N \\) is central in \\( N \\).\n\\end{lemma}\n\n\n\n\\begin{proof} \nLet the Lie group \\( \\tilde N \\) be the universal covering space of the Lie group \\( N \\)\nin such a way that the projection map \\( \\pi \\colon \\tilde N \\rightarrow N \\) is \na morphism of Lie groups. \n\nConsider the sets \\( B \\coloneqq \\exp^{-1} (\\pi^{-1}(K)) \\), \\( A \\coloneqq \\exp^{-1} (\\pi^{-1}(e)) \\), and\n \\( A_S \\coloneqq \\mathrm{span}_{\\mathbb{R}}(A) \\).\n\nSince \\( \\tilde N \\) is connected and \\( \\pi^{-1}(e) \\) is discrete and normal in \\( \\tilde N \\), the subgroup \\( \\pi^{-1}(e) \\) is central in \\( \\tilde N \\). Since \\( \\tilde N \\) is nilpotent, we have (see \\cite[p.~24]{Corwin-Greenleaf})\n\n\n", "index": 21, "text": "\\begin{equation}  \\label{eq:GG}\n\\exp(Z({\\operatorname{Lie}}(\\tilde N))) = Z(\\tilde N).\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E5.m1\" class=\"ltx_Math\" alttext=\"\\exp(Z({\\operatorname{Lie}}(\\tilde{N})))=Z(\\tilde{N}).\" display=\"block\"><mrow><mrow><mrow><mi>exp</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mo>Lie</mo><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mover accent=\"true\"><mi>N</mi><mo stretchy=\"false\">~</mo></mover><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mover accent=\"true\"><mi>N</mi><mo stretchy=\"false\">~</mo></mover><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.08172.tex", "nexttext": "\naccumulates to some finite value. We deduce that\n", "itemtype": "equation", "pos": 27439, "prevtext": "\n\nThus, since the exponential map is invertible, we deduce that \\( A \\) is central in \\( {\\operatorname{Lie}}(\\tilde N) \\). Hence \\( \\exp(b+A) = \\exp(b) \\exp(A) \\) for all \\( b \\in B \\). So the map \\( \\mathrm{exp}|_B \\) induces a homeomorphism between \\( B/A \\) and \\( \\exp(B)/\\exp(A) = \\pi^{-1}(K)/\\pi^{-1}(e) \\cong K \\). Thus the space \\( B/A \\) is compact. Since the canonical map from \\( B/A \\) to \\( B/A_S \\) is a continuous surjection, also \\( B/A_S \\) is compact.\n\nWe claim that \\( B \\subseteq A_S \\). Indeed, by contradiction assume that there is \\( b \\in B \\backslash A_S \\). Notice that for all \\( n \\in \\mathbb{N} \\) we have \\( nb \\in B \\) since \\( \\exp(nb) =\\exp(b)^n \\in \\pi^{-1}(K) \\). Since we proved that \\( B / A_S \\) is compact, the sequence \\( nb + A_S \\in B/A_S\\) accumulates to a point \\( x \\in A/B_S \\).\nConsider a Euclidean distance \\( d_E \\) on \\( {\\operatorname{Lie}}(\\tilde N) \\). On the one hand, since \\( b \\) is not in the subspace \\( A_S \\), we have \\( d_E(nb, A_S) \\rightarrow \\infty \\) as \\( n \\rightarrow \\infty \\). On the other hand,\n", "index": 23, "text": "\n\\[\nd_E(nb,A_S) \\le d_E(nb,x + A_S) + d_E(x+A_S,A_S)\n\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex7.m1\" class=\"ltx_Math\" alttext=\"d_{E}(nb,A_{S})\\leq d_{E}(nb,x+A_{S})+d_{E}(x+A_{S},A_{S})\" display=\"block\"><mrow><mrow><msub><mi>d</mi><mi>E</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>n</mi><mo>\u2062</mo><mi>b</mi></mrow><mo>,</mo><msub><mi>A</mi><mi>S</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><mrow><mrow><msub><mi>d</mi><mi>E</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>n</mi><mo>\u2062</mo><mi>b</mi></mrow><mo>,</mo><mrow><mi>x</mi><mo>+</mo><msub><mi>A</mi><mi>S</mi></msub></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><mrow><msub><mi>d</mi><mi>E</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>x</mi><mo>+</mo><msub><mi>A</mi><mi>S</mi></msub></mrow><mo>,</mo><msub><mi>A</mi><mi>S</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.08172.tex", "nexttext": "\nwhere we used   the fact that \\( A_S \\) is central and the equation \\eqref{eq:GG}.\n\\end{proof} \n\n\n\n\n\\begin{prop}\n\\label{star!} \nFor a nilpotent connected metric Lie group \\( N \\) the  nilradical condition \\eqref{nilradica_condition} holds.\n\n\\end{prop}\n\n\n\\begin{proof}\nLet $  \\mathfrak{  n} \\coloneqq {\\operatorname{Lie}}(N^L)$,\n$G \\coloneqq {\\operatorname{Isome}}(N)\n$,\n   $  \\mathfrak{{\\mathfrak{h}}}  \\coloneqq  {\\operatorname{nil}}({\\operatorname{Lie}}(G))$, and \\( H := {\\exp(  \\mathfrak{h} )} \\).\n   Notice that $H$ is  a Lie subgroup  since on nilpotent Lie groups the exponential map is surjective.\n   \n   \n   \n   \n\nFrom Theorem \\ref{main:thm} and Lemma \\ref{TFAE} we have \\( N^L {\\vartriangleleft} G \\). Therefore, \n\\( \\mathfrak{n} \\) is a nilpotent ideal of \\( \\mathfrak{g} \\). \nThus \\( \\mathfrak{n} \\subseteq \\mathfrak{h} \\).\n\nAlternatively, \none can use\n Proposition \\ref{prop:isometries_are_riemannian} to get a Riemannian metric  \\( g \\) with \\( G < {\\operatorname{Isome}}(N,g) \\). Then Theorem \\ref{thm_wilson}\n implies that \\( \\mathfrak{n} \\) is an   ideal of     \\( {\\operatorname{Lie}}({\\operatorname{Isome}}(N,g)) \\) and hence it is an   ideal   of \\( {\\operatorname{Lie}}(G) \\).\n\n\n\n\n\nRegarding the other inclusion, take \\( \\phi \\in H \\). We need to show that \\( \\phi \\) is a left translation. Since  \\( \\mathfrak{n} \\subseteq \\mathfrak{h} \\) and so \\( N^L \\subseteq H \\), we may assume \\( \\phi(1)=1 \\), i.e., \\( \\phi \\in {\\operatorname{Stab}}_1(G) \\). Since \\( {\\operatorname{Stab}}_1(G) \\cap {\\bar}{H} \\), which is a compact subgroup of the connected nilpotent group \\( {\\bar}{H} \\) (the topological closure of \\( H \\) in \\( G \\)), is central in \\( {\\bar}{H} \\) (see Lemma \\ref{korvike-max-cpt}), we get that\n   \\( \\phi \\in {\\operatorname{Stab}}_1(G) \\cap H \\subseteq Z({\\bar}{H}) \\). Since \\( N^L \\subseteq {\\bar}{H} \\), we get for all \\( q \\in N \\)\n \n", "itemtype": "equation", "pos": 27543, "prevtext": "\naccumulates to some finite value. We deduce that\n", "index": 25, "text": "\n\\[ K = \\pi(\\exp(B)) \\subseteq \\pi(\\exp(A_S)) \\subseteq \\pi(\\exp(Z({\\operatorname{Lie}}(\\tilde N)))) = \\pi(Z(\\tilde N)) \\subseteq Z(N)\n\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex8.m1\" class=\"ltx_Math\" alttext=\"K=\\pi(\\exp(B))\\subseteq\\pi(\\exp(A_{S}))\\subseteq\\pi(\\exp(Z({\\operatorname{Lie}%&#10;}(\\tilde{N}))))=\\pi(Z(\\tilde{N}))\\subseteq Z(N)\" display=\"block\"><mrow><mi>K</mi><mo>=</mo><mrow><mi>\u03c0</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>exp</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mi>B</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2286</mo><mrow><mi>\u03c0</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>exp</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>A</mi><mi>S</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2286</mo><mrow><mi>\u03c0</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>exp</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mo>Lie</mo><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mover accent=\"true\"><mi>N</mi><mo stretchy=\"false\">~</mo></mover><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>\u03c0</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mover accent=\"true\"><mi>N</mi><mo stretchy=\"false\">~</mo></mover><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2286</mo><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>N</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.08172.tex", "nexttext": "\n  Thus \\( \\phi = \\mathrm{id} \\) and so \\( H \\subseteq N \\) and \\( \\mathfrak{h} \\subseteq \\mathfrak{n} \\).\n \n \n\n\n\n\n\n\\end{proof} \n\n\n\n\n\n\\section{Examples for the sharpness of the assumptions}\n\\label{sec:counterexamples}\n\n\nIn this section we provide several examples to illustrate the sharpness of the assumptions in Theorem \\ref{main:thm}.\nNamely, we show that \n\n\n\nif one of the groups is not assumed\nconnected and nilpotent then there may be isometries that are not affine.\n\nRegarding the connectedness assumption,\nthere are examples of Abelian metric Lie groups with finitely many components for which some isometries are not affine. One of the simplest examples is the subgroup of \\( \\mathbb{C} \\) consisting of the four points \\( \\{1,\\mathrm{i},-1,-\\mathrm{i}\\} \\) equipped with the discrete distance. Here every permutation is an isometry. However, any automorphism needs to fix \\( -1 \\), since it is the only point of order 2.\n\n\nRegarding the nilpotent assumption, there are both compact and non-compact examples. We remark that in any group equipped with a bi-invariant distance the involution is an isometry. Consequently, every compact group admits a distance for which the involution is an isometry. Such a map is a group isomorphism only if the group is Abelian. Nonetheless, we point out  the following fact which is a consequence of the work of Baum--Browder and Ochiai--Takahashi, see \\cite{Baum_Browder,  Ochiai_Takahashi} and also \\cite{Scheerer, Hubbuck_Kane}.\n\n \n\\begin{corollary} \\label{coroll:scheerer}\nLet \\( G_1, G_2 \\) be connected compact simple metric Lie groups. If \\( F \\colon G_1 \\to G_2 \\) is an isometry,\nthen \\( G_1\\) and \\( G_2 \\) are isomorphic as Lie groups.\nIf, moreover, \n\\( G_1, G_2 \\) are the same metric Lie group and\n $F$ is homotopic to the identity map via isometries,\n\n then \\( F \\) is affine.\n\\end{corollary}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWe point out that there exist examples of pairs of metric Lie groups that are isomorphic as Lie groups and are isometric, but are not isomorphic as metric Lie groups: an example is the rototranslation group (see below) with different Euclidean distances.\n\nOther interesting results for isometries between compact groups can be found in \\cite{Ozeki} and \\cite{Gordon80}.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe conclusion of Corollary \\ref{coroll:scheerer} may not hold for arbitrary connected metric Lie groups. In fact, we recall the following example, due to Milnor \\cite[Corollary~4.8]{Milnor}, of a group that is solvable and isometric to the Euclidean 3-space. Let \\( G \\) be the universal cover of the group of orientation-preserving isometries of the Euclidean plane, which is also called the rototranslation group. Such a group admits coordinates making it diffeomorphic to \\( \\mathbb{R}^3 \\) with the product\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n", "itemtype": "equation", "pos": 29554, "prevtext": "\nwhere we used   the fact that \\( A_S \\) is central and the equation \\eqref{eq:GG}.\n\\end{proof} \n\n\n\n\n\\begin{prop}\n\\label{star!} \nFor a nilpotent connected metric Lie group \\( N \\) the  nilradical condition \\eqref{nilradica_condition} holds.\n\n\\end{prop}\n\n\n\\begin{proof}\nLet $  \\mathfrak{  n} \\coloneqq {\\operatorname{Lie}}(N^L)$,\n$G \\coloneqq {\\operatorname{Isome}}(N)\n$,\n   $  \\mathfrak{{\\mathfrak{h}}}  \\coloneqq  {\\operatorname{nil}}({\\operatorname{Lie}}(G))$, and \\( H := {\\exp(  \\mathfrak{h} )} \\).\n   Notice that $H$ is  a Lie subgroup  since on nilpotent Lie groups the exponential map is surjective.\n   \n   \n   \n   \n\nFrom Theorem \\ref{main:thm} and Lemma \\ref{TFAE} we have \\( N^L {\\vartriangleleft} G \\). Therefore, \n\\( \\mathfrak{n} \\) is a nilpotent ideal of \\( \\mathfrak{g} \\). \nThus \\( \\mathfrak{n} \\subseteq \\mathfrak{h} \\).\n\nAlternatively, \none can use\n Proposition \\ref{prop:isometries_are_riemannian} to get a Riemannian metric  \\( g \\) with \\( G < {\\operatorname{Isome}}(N,g) \\). Then Theorem \\ref{thm_wilson}\n implies that \\( \\mathfrak{n} \\) is an   ideal of     \\( {\\operatorname{Lie}}({\\operatorname{Isome}}(N,g)) \\) and hence it is an   ideal   of \\( {\\operatorname{Lie}}(G) \\).\n\n\n\n\n\nRegarding the other inclusion, take \\( \\phi \\in H \\). We need to show that \\( \\phi \\) is a left translation. Since  \\( \\mathfrak{n} \\subseteq \\mathfrak{h} \\) and so \\( N^L \\subseteq H \\), we may assume \\( \\phi(1)=1 \\), i.e., \\( \\phi \\in {\\operatorname{Stab}}_1(G) \\). Since \\( {\\operatorname{Stab}}_1(G) \\cap {\\bar}{H} \\), which is a compact subgroup of the connected nilpotent group \\( {\\bar}{H} \\) (the topological closure of \\( H \\) in \\( G \\)), is central in \\( {\\bar}{H} \\) (see Lemma \\ref{korvike-max-cpt}), we get that\n   \\( \\phi \\in {\\operatorname{Stab}}_1(G) \\cap H \\subseteq Z({\\bar}{H}) \\). Since \\( N^L \\subseteq {\\bar}{H} \\), we get for all \\( q \\in N \\)\n \n", "index": 27, "text": "\\[ \\phi(q) = (\\phi \\circ L_q)(1) = (L_q \\circ \\phi)(1) = L_q(1) = q.  \\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex9.m1\" class=\"ltx_Math\" alttext=\"\\phi(q)=(\\phi\\circ L_{q})(1)=(L_{q}\\circ\\phi)(1)=L_{q}(1)=q.\" display=\"block\"><mrow><mrow><mrow><mi>\u03d5</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>q</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03d5</mi><mo>\u2218</mo><msub><mi>L</mi><mi>q</mi></msub></mrow><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>L</mi><mi>q</mi></msub><mo>\u2218</mo><mi>\u03d5</mi></mrow><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><msub><mi>L</mi><mi>q</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mi>q</mi></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.08172.tex", "nexttext": "\nIn these coordinates, the Euclidean metric is left-invariant. On the one hand, one can check that the isometries that are also automorphisms of \\( G \\) form a 1-dimensional space. On the other hand, the isometries fixing the identity element and homotopic to the identity map form a group isomorphic to \\( \\mathrm{SO}(3) \\). Hence, we conclude that not all such isometries are affine. \nMoreover, this group gives an example of a non-nilpotent metric Lie group isometric (but not isomorphic) to a nilpotent connected metric Lie group, namely the Euclidean 3-space.\n\nNotice that also the Riemannian metric with orthonormal frame $\\partial_x, \\partial_y, 2\\partial_z$ gives a left-invariant structure on $G$, which is isometric to the previous one, but there is no isometric automorphism between the two structures.\nHence, these spaces are not isomorphic as metric Lie groups.\n\nA further study of metric Lie groups isometric to nilpotent metric Lie groups can be found in \\cite{Cowling_LeDonne_Ottazzi}. In particular, all such groups are solvable.\n\nWe finally recall another example.\nThe unit disc in the plane admits a group structure that makes the\nhyperbolic distance left-invariant. In this metric Lie group not all isometries are affine.\n  \n\n \n\n\n\n\n \n\n\n\n \n\n\\bibliography{general_bibliography}\n\n\n\\bibliographystyle{amsalpha}\n\n", "itemtype": "equation", "pos": 32415, "prevtext": "\n  Thus \\( \\phi = \\mathrm{id} \\) and so \\( H \\subseteq N \\) and \\( \\mathfrak{h} \\subseteq \\mathfrak{n} \\).\n \n \n\n\n\n\n\n\\end{proof} \n\n\n\n\n\n\\section{Examples for the sharpness of the assumptions}\n\\label{sec:counterexamples}\n\n\nIn this section we provide several examples to illustrate the sharpness of the assumptions in Theorem \\ref{main:thm}.\nNamely, we show that \n\n\n\nif one of the groups is not assumed\nconnected and nilpotent then there may be isometries that are not affine.\n\nRegarding the connectedness assumption,\nthere are examples of Abelian metric Lie groups with finitely many components for which some isometries are not affine. One of the simplest examples is the subgroup of \\( \\mathbb{C} \\) consisting of the four points \\( \\{1,\\mathrm{i},-1,-\\mathrm{i}\\} \\) equipped with the discrete distance. Here every permutation is an isometry. However, any automorphism needs to fix \\( -1 \\), since it is the only point of order 2.\n\n\nRegarding the nilpotent assumption, there are both compact and non-compact examples. We remark that in any group equipped with a bi-invariant distance the involution is an isometry. Consequently, every compact group admits a distance for which the involution is an isometry. Such a map is a group isomorphism only if the group is Abelian. Nonetheless, we point out  the following fact which is a consequence of the work of Baum--Browder and Ochiai--Takahashi, see \\cite{Baum_Browder,  Ochiai_Takahashi} and also \\cite{Scheerer, Hubbuck_Kane}.\n\n \n\\begin{corollary} \\label{coroll:scheerer}\nLet \\( G_1, G_2 \\) be connected compact simple metric Lie groups. If \\( F \\colon G_1 \\to G_2 \\) is an isometry,\nthen \\( G_1\\) and \\( G_2 \\) are isomorphic as Lie groups.\nIf, moreover, \n\\( G_1, G_2 \\) are the same metric Lie group and\n $F$ is homotopic to the identity map via isometries,\n\n then \\( F \\) is affine.\n\\end{corollary}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWe point out that there exist examples of pairs of metric Lie groups that are isomorphic as Lie groups and are isometric, but are not isomorphic as metric Lie groups: an example is the rototranslation group (see below) with different Euclidean distances.\n\nOther interesting results for isometries between compact groups can be found in \\cite{Ozeki} and \\cite{Gordon80}.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe conclusion of Corollary \\ref{coroll:scheerer} may not hold for arbitrary connected metric Lie groups. In fact, we recall the following example, due to Milnor \\cite[Corollary~4.8]{Milnor}, of a group that is solvable and isometric to the Euclidean 3-space. Let \\( G \\) be the universal cover of the group of orientation-preserving isometries of the Euclidean plane, which is also called the rototranslation group. Such a group admits coordinates making it diffeomorphic to \\( \\mathbb{R}^3 \\) with the product\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n", "index": 29, "text": "\n\\[\n\\left [ \\begin{matrix} x \\\\ y \\\\ z \\end{matrix}  \\right]\n\\cdot\n\\left [ \\begin{matrix} x' \\\\ y' \\\\ z' \\end{matrix}  \\right]\n=\n\\left [ \\begin{matrix} \\cos z & - \\sin z & 0 \\\\ \\sin z & \\cos z & 0 \\\\ 0 & 0 & 1 \\end{matrix}  \\right]\n\\left [ \\begin{matrix} x' \\\\ y' \\\\ z' \\end{matrix}  \\right]\n+\n\\left [  \\begin{matrix} x \\\\ y \\\\ z \\end{matrix}  \\right]\n.\n\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex10.m1\" class=\"ltx_Math\" alttext=\"\\left[\\begin{matrix}x\\\\&#10;y\\\\&#10;z\\end{matrix}\\right]\\cdot\\left[\\begin{matrix}x^{\\prime}\\\\&#10;y^{\\prime}\\\\&#10;z^{\\prime}\\end{matrix}\\right]=\\left[\\begin{matrix}\\cos z&amp;-\\sin z&amp;0\\\\&#10;\\sin z&amp;\\cos z&amp;0\\\\&#10;0&amp;0&amp;1\\end{matrix}\\right]\\left[\\begin{matrix}x^{\\prime}\\\\&#10;y^{\\prime}\\\\&#10;z^{\\prime}\\end{matrix}\\right]+\\left[\\begin{matrix}x\\\\&#10;y\\\\&#10;z\\end{matrix}\\right].\" display=\"block\"><mrow><mrow><mrow><mrow><mo>[</mo><mtable displaystyle=\"true\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"center\"><mi>x</mi></mtd></mtr><mtr><mtd columnalign=\"center\"><mi>y</mi></mtd></mtr><mtr><mtd columnalign=\"center\"><mi>z</mi></mtd></mtr></mtable><mo>]</mo></mrow><mo>\u22c5</mo><mrow><mo>[</mo><mtable displaystyle=\"true\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"center\"><msup><mi>x</mi><mo>\u2032</mo></msup></mtd></mtr><mtr><mtd columnalign=\"center\"><msup><mi>y</mi><mo>\u2032</mo></msup></mtd></mtr><mtr><mtd columnalign=\"center\"><msup><mi>z</mi><mo>\u2032</mo></msup></mtd></mtr></mtable><mo>]</mo></mrow></mrow><mo>=</mo><mrow><mrow><mrow><mo>[</mo><mtable columnspacing=\"5pt\" displaystyle=\"true\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"center\"><mrow><mi>cos</mi><mo>\u2061</mo><mi>z</mi></mrow></mtd><mtd columnalign=\"center\"><mrow><mo>-</mo><mrow><mi>sin</mi><mo>\u2061</mo><mi>z</mi></mrow></mrow></mtd><mtd columnalign=\"center\"><mn>0</mn></mtd></mtr><mtr><mtd columnalign=\"center\"><mrow><mi>sin</mi><mo>\u2061</mo><mi>z</mi></mrow></mtd><mtd columnalign=\"center\"><mrow><mi>cos</mi><mo>\u2061</mo><mi>z</mi></mrow></mtd><mtd columnalign=\"center\"><mn>0</mn></mtd></mtr><mtr><mtd columnalign=\"center\"><mn>0</mn></mtd><mtd columnalign=\"center\"><mn>0</mn></mtd><mtd columnalign=\"center\"><mn>1</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>\u2062</mo><mrow><mo>[</mo><mtable displaystyle=\"true\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"center\"><msup><mi>x</mi><mo>\u2032</mo></msup></mtd></mtr><mtr><mtd columnalign=\"center\"><msup><mi>y</mi><mo>\u2032</mo></msup></mtd></mtr><mtr><mtd columnalign=\"center\"><msup><mi>z</mi><mo>\u2032</mo></msup></mtd></mtr></mtable><mo>]</mo></mrow></mrow><mo>+</mo><mrow><mo>[</mo><mtable displaystyle=\"true\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"center\"><mi>x</mi></mtd></mtr><mtr><mtd columnalign=\"center\"><mi>y</mi></mtd></mtr><mtr><mtd columnalign=\"center\"><mi>z</mi></mtd></mtr></mtable><mo>]</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}]