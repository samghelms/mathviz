[{"file": "1601.06920.tex", "nexttext": "\nprovided $G$ has an $(M,R)$-WORM coloring.\n\nWe proceed as follows.\nSection~\\ref{s:prelim} contains some general observations.\nIn Section~\\ref{s:path} we provide one general upper bound\nwhen $R$ is a path. In Section~\\ref{s:proper} we consider\nproper colorings without rainbow $P_3$, $P_4$, or $C_4$. \nFinally, in Section~\\ref{s:other} we provide a few results for other cases.\n\n\n\\section{Preliminaries} \\label{s:prelim}\n\nWe start with\nsome simple observations.\nIf $G$ is bipartite then the bipartition is immediately an \n$(M,R)$-WORM coloring.\nIndeed, if $G$ is $k$-colorable with $k<|R|$ , then a \nproper $k$-coloring of $G$ is an $(M,R)$-WORM coloring. Also:\n\n\\begin{ob} Fix graphs $M$ and $R$ and let $G$ be a graph.\n\n(a) If $G$ has an $(M,R)$-WORM coloring, then \nso does $G-e$ where $e$ is any edge and $G-v$ where $v$ is any vertex.\nFurther, $W^+(G-e; M,R) \\ge W^+(G; M,R)$\nand $W^+(G-v; M,R) \\ge W^+(G; M,R)-1$, with similar results for the\nlower chromatic number.\n\n(b) \nIf $M$ and $R$ are connected but\n$G$ is disconnected, then $W^+(G; M,R)$ is the sum of the parameter for\nthe components, and $W^-(G; M,R)$ is the maximum of the parameter\nfor the components.\n\n(c) It holds that \n$W^+(G; M,R) = |V(G)|$ if and only if $G$ is $R$-free.\n\n(d) It holds that \n$W^+{(G;M,R}) \\ge |R|-1$ if $G$ is $|R|-1$ colorable (and has at least that many vertices).\n\\end{ob}\n\nWe will also need the following idea from~\\cite{GX15rainbow}.\nWe say that a set $S$ \\emph{bi-covers}\na subgraph~$H$ if at least two vertices of $H$ are in $S$. For positive integer $s$,\ndefine ${\\mathop{\\mathit{b}}_{{F}}({s})}$ to be the maximum number of copies of $F$ that can be bi-covered by\nusing a set of size $s$. (Note that by definition ${\\mathop{\\mathit{b}}_{{F}}({1})}=0$.) \n\n\\begin{lemma} \\label{l:breakBound} \\cite{GX15rainbow}\nSuppose that graph $G$ of order $n$ contains $f$ copies of $R$ and that\n${\\mathop{\\mathit{b}}_{{R}}({s})} \\le a(s-1)$ for all $s$. Then $r^+(G;R) \\le n - f/a$.\n\\end{lemma}\n\n\\subsection{General $M$}\n\nIt should be noted that maximizing the number of colors while avoiding a rainbow\nsubgraph can produce a large monochromatic subgraph. For example:\n\n\\begin{ob}\nFor all connected graphs $M$, there exists a graph $G$ such that \n$W^+(G; M, P_3) < r^+(G; P_3)$.\n\\end{ob}\n\\begin{Proof}\nIn~\\cite{GX15rainbow} we considered the \n\\emph{corona} ${\\mathop{\\mathit{cor}}}(G)$ of a graph $G$; this is the graph obtained from $G$ by adding,\nfor each vertex $v$ in $G$, a new vertex $v'$ and the edge $vv'$. \nIt was shown that $r^+(G; P_3) = |G|+1$. In fact, we note here that if $G$ is connected,\nthen one can \nreadily show by induction that the optimal coloring is unique and gives every vertex of $G$ \nthe same color. In particular, it follows that the no-rainbow-$P_3$ coloring\nof ${\\mathop{\\mathit{cor}}}(M)$ with the maximum number of colors contains a monochromatic copy of $M$. \n\\end{Proof}\n\n\\section{A Result on Rainbow Paths} \\label{s:path}\n\nWe showed~\\cite{GWX15firstWorm} that a nontrivial graph $G$ has a $(P_3,P_3)$-WORM coloring\nif and only if it has a $(P_3,P_3)$-WORM coloring using only two colors. \nWe prove an analogue for general paths. This result is a slight generalization of Theorem~10 in~\\cite{TV00uncolorable}.\n\n\\begin{theorem} \\label{t:pathUpper} Fix some graph $M$; \nif graph $G$ has an $(M,P_r)$-WORM coloring, then $G$ has one using at most $r-1$ colors.\n\\end{theorem}\n\\begin{Proof}\nConsider an $(M,P_r)$-WORM coloring $f$ of $G$. Let $G_M$ be the spanning subgraph of $G$\nwhose edges are monochromatic and $G_R$ the spanning subgraph whose\nedges are rainbow. It follows that $G_M$ that does not contain $M$,\nand that $G_R$ does not contain $P_r$. It is well known that \na graph without $P_r$ \nhas chromatic number at most $r-1$. \n \nNow, let $g$ be a proper coloring of $G_R$ using at most $r-1$ colors and consider\n$g$ as a coloring of $G$. Note that \nthe monochromatic edges under $g$ are a subset of those under $f$.\nTherefore, $g$ is a $(M,P_r)$-WORM coloring of $G$ using at most $r-1$ colors.\n\\end{Proof}\n\nIt follows that:\n\n\\begin{corollary} \\label{cor:pathW-}\nFor any graph $M$ and $r>0$, graph\n$G$ has an $(M,P_r)$-WORM coloring if and only if $m^-(G,M) \\le r-1$.\nIf so, $W^-(G; M, P_r ) = m^-(G,M)$.\n\\end{corollary}\n\nOn the other hand, Theorem~\\ref{t:pathUpper} does not extend to stars. For example,\nErd\\H{o}s et al.~\\cite{EHKRS86locally} constructed a shift graph that \nhas arbitrarily large chromatic number\nbut can be properly colored without a rainbow $K_{1,3}$. That is:\n\n\\begin{theorem} \\label{t:erdos} For $r\\ge 3$ and $k\\ge 1$,\nthere is a graph $G$ with $W^- ( G; K_2, K_{1,r} ) \\ge k$.\n\\end{theorem}\n\nNor does Theorem~\\ref{t:pathUpper} generalize to $K_3$; see \\cite{XuTHesis} and \\cite{BTk3worm}.\n\n\n\\section{Proper Colorings} \\label{s:proper}\n\nRecall that $W^+(G; K_2,R)$\nis the maximum number and $W^-(G; K_2,R)$ the minimum number of colors in \na proper coloring without a rainbow $R$.\n\n\\subsection{Two simple cases}\n \nTwo cases for $M=K_2$ are immediate:\n\n\\begin{ob}\nA graph $G$ has a $(K_2,P_3)$-WORM  coloring if and only if it is bipartite.  \nIf so, $W^+(G: K_2,P_3) = W^-(G; K_2,P_3)=2$, provided $G$ is connected and nonempty.\n\\end{ob}\n\\begin{Proof}\nIf we have a $(K_2,P_3)$-WORM coloring, then for each vertex $v$ \nall its neighbors must have the same color, which is different to $v$'s color. \nIt follows that every path must alternate colors.\n\\end{Proof}\n\nIn a proper coloring of a graph, all cliques are rainbow. Thus it follows:\n\n\\begin{ob}\nA graph $G$ has a $(K_2,K_m)$-WORM coloring if and only if it is $K_m$-free.\nIf so, $W^+(K_2,K_m) = |G|$ while $W^-(K_2,K_m)$  is the chromatic number of $G$.\n\\end{ob}\n\n\\subsection{No rainbow $K_{1,3}$}\n\nConsider first that $G$ is bipartite. Then in maximizing the colors,\nit is easy to see that one may assume the colors in the \npartite sets are disjoint. (If red is used in both partite sets,\nthen change it to pink in one of the sets.) In particular,\nunless $G$ is a star, one can use at least two colors in each \npartite set. (This result generalizes to $R$ any star.)\nFor example, it follows that $W^+( K_{m,m}; K_2, K_{1,3} ) = 4$\nfor $m\\ge 2$.\n\nIndeed, it is natural to consider the \\emph{open neighborhood hypergraph}\n$ON(G)$ of the graph~$G$. This is the hypergraph with vertex set $V(G)$ and a hyperedge\nfor every open neighborhood in $G$. In general, since we have a proper coloring, the \nrequirement of no rainbow $K_{1,r}$ is equivalent to every\nhyperedge in $ON(G)$ receiving at most $r-1$ colors.\nIn the case that $G$ is bipartite, the two problems are equivalent:\n\n\\begin{ob} \\label{o:onh}\nFor any graph $G$, the parameter $W^+(G; K_2, K_{1,r})$ is at most the \nmaximum number of colors in a coloring of $ON(G)$ with\nevery hyperedge receiving at most $r-1$ colors. Furthermore,\nthere is equality if $G$ is bipartite.\n\\end{ob}\n\\begin{Proof}\nWhen $G$ is bipartite, the $ON(G)$ can be partitioned into two disjoint hypergraphs\nand so will have disjoint colors in the hypergraphs. It follows that \nthat coloring back in $G$ will be proper.\n\\end{Proof}\n\nRecall that a $2$-tree is defined by starting with $K_2$ and repeatedly adding\na vertex that has two adjacent neighbors. For example, this includes\nmaximal outerplanar graphs.\n\n\\begin{ob}\nIf $G$ is a $2$-tree of order at least $3$, then $W^+(G; K_2, K_{1,3})=3$.\n\\end{ob}\n\\begin{Proof}\nAny $2$-tree is $3$-colorable. Furthermore, it follows readily by \ninduction that  a $(K_2, K_{1,3})$-WORM coloring\ncan use only three colors: when we add a vertex $v$ \nand join it to adjacent vertices $x$ and $y$, they already\n have a common neighbor $z$,\nand so $v$ must get the same color as $z$.\n\\end{Proof}\n\nOsang showed that determining whether a graph has a $(K_2,K_{1,3})$-WORM\ncoloring\nis hard:\n\n\\begin{theorem} \\cite{Osang13local} \nDetermining whether a graph has a $(K_2,K_{1,3})$-WORM coloring\nis NP-complete.\n\\end{theorem}\n\n\\subsubsection{Cubic graphs}\n\nWe consider next $3$-regular graphs.\nSince cubic graphs (other than $K_4$) are $3$-colorable, they have a\n$(K_2,K_{1,3})$-WORM coloring. And that coloring uses at most three colors.\nFurther, they have a coloring using two colors if and only if they are bipartite.\nSo the only interesting question is the behavior of the upper chromatic number.\n\n\\begin{ob} \\label{o:cubicClaw}\nIf $G$ is cubic of order $n$, then $W^+( G; K_2, K_{1,3} ) \\le 2n/3$.\n\\end{ob}\n\\begin{Proof}\nSince $G$ is cubic, the hypergraph $ON(G)$ is $3$-regular and $3$-uniform.\nFurther we need a coloring of $ON(G)$ where every hyperedge\nhas at least one pair of vertices the same color.\nConsider some color used more than once, say red. \nIf there are $r$ red vertices, then at most $3r/2$ hyperedges can have two\nred vertices. (Each red can be used at most thrice.) \n\nIt follows that if the $i$\\textsuperscript{th} non-unique color is used $r_i$ times, then\nwe need $\\sum_i r_i \\ge 2n/3$. Let $B$ be the number of vertices that can \nbe discarded and still have one vertex of each color. Then $B=\\sum_i (r_i-1)$\nand by above $B \\ge n/3$. It follows that the total number of colors is at most $2n/3$.\n\\end{Proof}\n\nEquality in Observation~\\ref{o:cubicClaw} is obtained by taking disjoint copies of \n$K_{3,3}-e$ and adding\nedges to make the graph connected. See Figure~\\ref{f:bracelet}.\n\n\\begin{figure}[!ht]\n\\centerline{\\includegraphics{bracelet-0.pdf}}\n\\caption{A cubic graph $G$ with $W^+(G;K_2,K_{1,3})$ two-thirds its order}\n\\label{f:bracelet}\n\\end{figure}\n \nConsider next the minimum value of $W^+(G; K_2, K_{1,3})$ for cubic graphs of order~$n$. We noted above \nthat \nbipartite graphs in general have a value of at least $4$.\nComputer search shows that this parameter is at least $3$ for $n\\le 18$. Indeed,\nit finds only three graphs where the parameter is $3$: one of order $6$ (the prism),\none of order $10$, and one of order $14$,  \nthe generalized\nPetersen graph. These three graphs are shown in Figure~\\ref{f:cubicThree}.\n\n\\begin{figure}[!ht]\n\\centerline{\n\\begin{tabular}{c}{\\includegraphics{cubicThree-0.pdf}}\\end{tabular}\n\\quad\n\\begin{tabular}{c}{\\includegraphics{cubicThree-1.pdf}}\\end{tabular}\n\\quad\n\\begin{tabular}{c}{\\includegraphics{cubicThree-2.pdf}}\\end{tabular}}\n\\caption{The known cubic graphs with $W^+(G;K_2,K_{1,3}) = 3$}\n\\label{f:cubicThree}\n\\end{figure}\n\nIt is unclear what happens in general.\n\n\n\\subsection{Forbidding rainbow $P_4$}\n\nWe consider proper colorings without rainbow $P_4$'s.\nTheorem~\\ref{t:pathUpper} applies. That is, a graph $G$ has \na $(K_2,P_4)$-WORM coloring\nif and only if $G$ has chromatic number at most $3$. In particular,\nthis means that it is NP-complete to determine if a graph has a \n$(K_2,P_4)$-WORM coloring.\nFurther, if such a coloring exists, then  $W^-(G; K_2, P_4)$ is the \n(ordinary) chromatic number of $G$.\nSo we consider only the upper chromatic number here.\n\n\\begin{ob} \\label{o:bipartiteP4}\nIf graph $G$ is bipartite of order $n$, then $W^+(G; K_2, P_4) \\ge n/2+1$.\n\\end{ob}\n\\begin{Proof}\nIn the smaller partite set, give all vertices the same color,\nand in the other partite set, give all vertices unique colors. Note that\nevery copy of $P_4$ contains two vertices from both partite sets.\n\\end{Proof}\n\n\\begin{ob} \\label{o:matchingP4}\nIf connected graph $G$ of order $n$ has a perfect matching, then it holds that\n$W^+(G; K_2, P_4) \\le n/2+1$.\n\\end{ob}\n\\begin{Proof}\nNumber the edges of the perfect matching $e_1, \\ldots, e_{n/2}$ such that for all $i>1$, at least\none of the ends of $e_i$ is connected to some $e_j$ for $j<i$. Then $e_i$, $e_j$, and the \nconnecting edge form a $P_4$. It follows that $e_j$ and $e_i$ share a color. Thus the total\nnumber of colors used is at most $2+(n/2-1) = n/2+1$.\n\\end{Proof}\n\nFor example, equality is obtained in both observations for any connected bipartite graph \nwith a perfect matching, such as the balanced complete  bipartite graph or the path/cycle of even\norder. Equality is also obtained in Observation~\\ref{o:bipartiteP4} for the tree of diameter three \nwhere the two central vertices have the same degree. Also, there are nonbipartite graphs that \nachieve equality in Observation~\\ref{o:matchingP4}; for example, the graph shown in \nFigure~\\ref{f:matchingEquality}.\n\n\\begin{figure}[!ht]\n\\centerline{\\includegraphics{eightProperPathExample-0.pdf}}\n\\caption{A nonbipartite graph $G$ with a perfect matching and maximum $W^+(G;K_2,P_4)$}\n\\label{f:matchingEquality}\n\\end{figure}\n\n\n\nWe determine next the parameter for the odd cycle:\n\n\\begin{ob}  If $n$ is odd, then \n$W^+(C_n; K_2, P_4)$ is $3$ for $n\\le 5$,\nand $(n-1)/2$ for $n\\ge 7$.\n\\end{ob}\n\\begin{Proof}\nThe result for $n=3$ is trivial and for $n=5$ is easily checked. \nSo assume $n\\ge 7$. For the lower bound, color red a maximum\nindependent set, give a new color to every vertex with two red neighbors,\nand color each vertex with one red neighbor the same color as on the other\nside of its red neighbor. For example, the coloring for $C_{13}$ is shown in \nFigure~\\ref{f:cycleColoring} (where the red vertices are shaded).\n\n\\begin{figure}[!ht]\n\\centerline{\\includegraphics{cyclePic-0.pdf}}\n\\caption{Coloring showing $W^+(C_{13};K_2,P_4)$}\n\\label{f:cycleColoring}\n\\end{figure}\n\nWe now prove the upper bound.\nTwo same-colored vertices distance $2$ apart bi-cover two copies of~$P_4$,\nwhile two same-covered vertices distance $3$ apart bi-cover one copy. It follows that if a color is used\n$k$ times, it can bi-cover at most $2(k-1)$ copies of $P_4$, except if the vertices\nof that color form a maximum \nindependent set,\nwhen it bi-covers $2k-1$ copies. Since there are $n$ copies of $P_4$ in total,\nby Lemma~\\ref{l:breakBound} it follows that the total number of colors is at most\n$n/2$, unless some color is a maximum independent set. So say red is a maximum independent\nset. Let $b$ and $e$ be the two red vertices at distance~$3$; say the portion of the\ncycle containing them is $\\mathit{abcdef}$.\nBy considering the $a$--$d$ copy of $P_4$,\nit follows that $a$ must have the same color as $c$ or~$d$. Similarly, $f$ must\nhave the same color as $c$ or~$d$. Thus the total number of colors is at most\n$1+(n-(n-1)/2)-2 = (n-1)/2$. \n\\end{Proof}\n\nIn contrast to Observation~\\ref{o:bipartiteP4}, we get the following:\n\n\\begin{theorem}  \\label{t:pathTriangle}\nIf connected graph $G$ has every vertex in a triangle, then \n $W^+(G; K_2,P_4)= 3$ if such a coloring exists.\n\\end{theorem}\n\\begin{Proof}\nNote that every triangle is properly colored.\nWe show that every triangle receives the same three colors.\nConsider two triangles $T_1$ and $T_2$. If $T_1$ and $T_2$ \nshare two vertices, then the third vertex in \neach share a color. Consider the case that $T_1$ and~$T_2$\nshare one vertex. Then by considering the four $P_4$'s using all vertices\nbut one, it readily follows that the triangles must have\nthe same colors.\n\nNow, assume that $T_1$ and $T_2$ are disjoint but joined by an edge $e$.\n Suppose they do not have the\nsame three colors. Then there is vertex $u_1$ in $T_1$ and $u_2$ in $T_2$\nthat do not share a color with the other triangle. If $u_1$ and $u_2$ are the ends\nof $e$, then any $P_4$ starting with~$e$ is rainbow.\nIf $u_1$ and $u_2$ are not the ends\nof $e$, then there is a $P_4$ whose ends are $u_1$ and~$u_2$ and that \n$P_4$ must be rainbow. Either way, we obtain a contradiction. \n\nSince the graph is connected, it follows that every triangle is colored with \nthe same three colors. Since this includes all the vertices, the result follows.\n\\end{Proof}\n\nFor example, it follows that if $G$ is a \nmaximal outerplanar graph, then it follows that\n$W^+(G; K_2,P_4)=3$.\n\n\\subsubsection{Cubic Graphs}\n\nThere are many cubic graphs with $W^+(G; K_2,P_4)=3$. These include, for example,\nthe claw-free cubic graphs (equivalently the ones where every vertex is in a triangle).\nSee Theorem~\\ref{t:pathTriangle}.\n\nFor the largest value of the parameter, computer evidence suggests:\n\n\\begin{conjecture}\nIf $G$ is a connected cubic graph of order $n$, then \n$W^+(G; K_2,P_4)\\le n/2+1$, with equality exactly when $G$ is bipartite.\n\\end{conjecture}\n\nCertainly, by Observations \\ref{o:bipartiteP4} and~\\ref{o:matchingP4}\n(and the fact that regular bipartite graphs have perfect matchings),\nthat value is obtained for all bipartite graphs.\n\n\\subsection{Forbidding rainbow $C_4$}\n\nWe conclude this section by considering proper colorings without rainbow\n$4$-cycles. \n\n\\begin{ob}\nIf $G$ is a maximal outerplanar graph, then $W^+(G; K_2, C_4 ) = 3$.\n\\end{ob}\n\\begin{Proof}\nConsider two triangles sharing an edge. Then to avoid a rainbow $C_4$,\nthe two vertices not on the edge must have the same color. It follows that all\ntriangles have the same three colors.\n\\end{Proof}\n\nIn particular, we  again look at cubic graphs.\nThe parameter $W^-(G; K_2,C_4)$ for a cubic graphs $G$ is uninteresting:\nthe $3$-coloring provides such a WORM coloring, and so the parameter\nis determined by whether $G$ is bipartite or not. Further, the\nupper bound for $W^+(G; K_2,C_4)$ is trivial: one can have a cubic graph \nwithout a $4$-cycle.\n\nComputer evidence suggests that:\n\n\\begin{conjecture}\nIf $G$ is a connected cubic graph of order $n$, then \n$W^+(G; K_2,C_4) \\ge n/2$.\n\\end{conjecture}\n\nThis lower bound is achievable. Define a \\emph{prism} as the cartesian product\nof a cycle with~$K_2$. For $n$ even, a \\emph{Mobius ladder} is defined by taking\nthe cycle on $n$ vertices and joining every pair of opposite vertices. Note that a prism\nis bipartite when $n$ is a multiple of $4$, and a Mobius ladder is bipartite\nwhen $n$ is not a multiple of $4$.\n\n\\begin{ob}\nIf $G$ is a nonbipartite Mobius ladder or prism of order $n$, \nthen it holds that $W^+(G; K_2,C_4) = n/2$.\n\\end{ob}\n\\begin{Proof}\nWe first exhibit the coloring. Let $m=n/2$.\nSay the vertices of the prism are $u_1, \\ldots, u_m$ and $v_1, \\ldots, v_m$, where\n$u_i$ has neighbors $u_{i-1}$, $u_{i+1}$, and $v_i$ (arithmetic modulo~$m$) and similarly\nfor $v_i$. Then \nfor $1\\le i \\le m$, give vertices $u_i$ and $v_{i+1}$ color $i$.\n\nSay the vertices of the Mobius ladder are $w_1, \\ldots, w_n$ where\n$w_i$ has neighbors $w_{i-1}$, $w_{i+1}$, and $w_{i+m}$ (arithmetic modulo~$n$). Then \nfor $2\\le i \\le m$, give vertices $w_i$ and $w_{i+m-1}$ color $i$, give vertex $w_1$\ncolor $1$ and give vertex $w_{n-1}$ color $2$. For example, the coloring for the case $n=12$ \nis shown in Figure~\\ref{f:mobiusColoring}.\n\n\\begin{figure}[!ht]\n\\centerline{\\includegraphics{mobiusLadder-0.pdf}}\n\\caption{Coloring of Mobius ladder}\n\\label{f:mobiusColoring}\n\\end{figure}\n\nNow, for the upper bound,\nconsider a color that is used $r$ times. A color bi-covers\na copy of $C_4$ if it contains vertices from consecutive rungs (where a rung is\nan edge in two~$C_4$'s). Since the graph is not bipartite, the color cannot be\npresent in every rung. It follows that it can bi-cover at most $r-1$ copies of $C_4$.\nNow, there are $m$ copies of $C_4$ (note that the prism of $C_4$ is bipartite so excluded).\nIt follows from Lemma~\\ref{l:breakBound} that the number of colors is at most\n$n-n/2=n/2$.\n\\end{Proof}\n\nIt appears that this extremal graph is unique for all orders.\n \n\\section{Other Results} \\label{s:other}\n\n\\subsection{Paths and paths}\n\nThe natural strategy to color a long path without a rainbow $P_r$ yields\nthe following:\n\n\\begin{ob}\nFor any $m\\ge 3$, it holds that\n$W^+( P_n; P_m, P_r) = r^+( P_n; P_r ) = \\lfloor (r-2)n/(r-1) \\rfloor +1$.\n\\end{ob}\n\\begin{Proof}\nGive the first $r-1$ vertices different colors, then the next vertex\nthe same color as the previous vertex, then the next $r-2$ vertices different\ncolors, and so on. This coloring has a monochromatic $P_2$ but not a monochromatic $P_3$,\nand is easily seen to be best possible (as every copy of $P_r$ must\ncontain two vertices of the same color). \n\\end{Proof}\n\n\n\n\\subsection{Bicliques and bicliques}\n\nNext we revisit the case that $G$, $M$, and $R$ are bicliques. For $n\\ge b$ it was proved that\n$W^+(K_{n,n}; K_{1,b}, K_{1,b})=2b-2$ in~\\cite{GWX15firstWorm} and that\n$W^+(K_{n,n}; K_{b,b}, K_{b,b})=n+b-1$ in~\\cite{GWX14secondWorm}. The case for stars is\nspecial, but it is straight-forward to generalize the latter:\n\n\\begin{theorem}\nLet $m\\le n$ and $2\\le a\\le b$ with\n$m\\ge a$ and $n\\ge b$. Then\n", "itemtype": "equation", "pos": 3626, "prevtext": "\n\n\\begin{center}\n{\\large\n\\textbf{Vertex Colorings without Rainbow or Monochromatic Subgraphs} \\bigskip \\\\ }\nWayne Goddard and Honghai Xu \\smallskip \\\\\nDept of Mathematical Sciences, Clemson University \\\\\nClemson SC 29634 \\\\\n\\textsf{\\{goddard,honghax\\}@clemson.edu}\n\\end{center}\n\n\\begin{abstract}\nThis paper investigates vertex colorings of graphs such that \nsome rainbow subgraph~$R$ and some monochromatic subgraph $M$ are\nforbidden. Previous work focussed on the case that $R=M$. Here we\nconsider the more general case, especially the case that $M=K_2$.\n\\end{abstract}\n\n\\section{Introduction}\n\nLet $F$ be a graph. Consider a coloring of the vertices of $G$.\nWe say that a copy of $F$ (as a subgraph) is \\emph{rainbow} (or heterochromatic)\nif all its vertices receive different colors.\nWe say that the copy of $F$ is \\emph{monochromatic}\nif all its vertices receive the same color.\n\nThe question of avoiding monochromatic copies of a graph is well\nstudied (see for example the survey \\cite{Tuza97local}). Less studied, but still common,\nis the question of avoiding rainbow copies (especially for edge-colorings); \nsee for example \\cite{AI08rainbow,BSTDP12stars,BSTSD10consecutive}.\nIn \\cite{GWX15firstWorm,GWX14secondWorm} we defined WORM colorings: these forbid \nboth a rainbow and a monochromatic\ncopy of a specific subgraph. But it is more flexible to \nallow different restrictions. For graphs $M$ and $R$, we define an \n\\emph{$(M, R)$-WORM coloring of $G$} to be a coloring of the vertices of \n$G$ with neither a monochromatic subgraph \nisomorphic to $M$ nor a rainbow subgraph isomorphic to $R$. \nNote that such a coloring is not guaranteed to exist. For example, any $G$ with at least one edge\ndoes not have a $(K_2,K_2)$-WORM coloring. \n\nThis coloring is a special case of the\n``mixed hypergraphs'' introduced by Voloshin (see for example~\\cite{voloshin1995upper});\nsee~\\cite{TV08problems} for an overview.\nA related question studied in the edge case is \nthe \\emph{rainbow Ramsey number} (or \\emph{constrained Ramsey number});\nthis is \ndefined as the minimum~$N$ such that any coloring of the edges of $K_N$\nproduces either a monochromatic~$M$ or a rainbow $R$. See~\\cite{Eroh04ramsey}. \n\nOne special case of WORM colorings has a distinguished history. Erd\\H{o}s et al.~\\cite{EHKRS86locally}\ndefined the \\emph{local chromatic number} of a graph as the maximum\norder of a rainbow star that must appear in all proper colorings.\nIn our notation, this is the minimum $r$ such that the graph has an $(K_2, K_{1,r+1})$-WORM\ncoloring. For a survey on this parameter, see \\cite{Osang13local}.\n\nOne case is trivial: if we forbid a rainbow $K_2$, then every component\nof the graph must be monochromatic. Similarly, if we forbid a rainbow $kK_1$,\nthen this is equivalent to using less than $k$ colors. \nSo we will assume that the subgraph $R$ has\nat least three vertices and at least one edge. On the other hand, taking $M=K_2$\nis equivalent to insisting that the coloring is proper.\nAlso, taking $M=kK_1$ is equivalent to using each color less than $k$ times.\n\nHaving two competing restrictions leads naturally to considering both the \nminimum and maximum number of colors in such a coloring. So we define\nthe upper chromatic number\n$W^+(G; M, R)$ as the maximum number of colors,  \nand the lower chromatic number $W^-(G; M, R)$ as the minimum number of colors, in an $(M, R)$-WORM \ncoloring of~$G$ (if the graph has such a coloring). For bounds, it will be useful\nto also let $m^-(G;M)$ be the minimum number of colors without a monochromatic $M$,\nand $r^+(G;R)$ be the maximum number of colors without a rainbow $R$. Note that\n", "index": 1, "text": "\n\\[\n   m^-(G;M) \\le W^-(G; M, R) \\le W^+(G; M, R) \\le r^+(G;R) ,\n\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex1.m1\" class=\"ltx_Math\" alttext=\"m^{-}(G;M)\\leq W^{-}(G;M,R)\\leq W^{+}(G;M,R)\\leq r^{+}(G;R),\" display=\"block\"><mrow><mrow><mrow><msup><mi>m</mi><mo>-</mo></msup><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>G</mi><mo>;</mo><mi>M</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><mrow><msup><mi>W</mi><mo>-</mo></msup><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>G</mi><mo>;</mo><mi>M</mi><mo>,</mo><mi>R</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><mrow><msup><mi>W</mi><mo>+</mo></msup><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>G</mi><mo>;</mo><mi>M</mi><mo>,</mo><mi>R</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2264</mo><mrow><msup><mi>r</mi><mo>+</mo></msup><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>G</mi><mo>;</mo><mi>R</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06920.tex", "nexttext": "\n\\end{theorem}\n\\begin{Proof}\nConsider a coloring $K_{m,n}$ without a rainbow $K_{a,b}$ and \nassume there are at least $a+b$ colors.\nIf one partite set has at least $a$ colors and the other partite\nset has at least~$b$ colors, then one can choose $a$ colors from\nthe one and $b$ from the other that are disjoint and thus obtain\na rainbow $K_{a,b}$. So: either (1) there is a partite set\nthat has at most $a-1$ colors, or (2) both partite sets have\nat most $b-1$ colors. In the first case, the maximum number\nof colors possible is $a+n-1$. In the second case,\nthe maximum number of colors possible is $b-1+\\min(m,b-1)$.\nThe theorem follows.\n\\end{Proof}\n\nNote that in the above proof, the optimal number of colors can be\nachieved by making the sets of colors in the two partite sets\ndisjoint. Thus, one obtains a similar value\nfor $W^+(K_{m,n}; M, K_{a,b})$ where $M$ is any nontrivial biclique.\n\n\n\\subsection{Grids without rainbow $4$-cycles}\n\nWe conclude this section with a result about forbidden $4$-cycles.\nThis result establishes a conjecture proposed in~\\cite{GWX14secondWorm}.\nLet $G_{m,n}$ denote the grid formed by the cartesian product of $P_m$ and $P_n$.\n\n\\begin{ob} \\label{o:2times2grids}\nFor any grid and $s>0$,\n${\\mathop{\\mathit{b}}_{{C_4}}({s})} \\le 2(s-1)$.\n\\end{ob}\n\\begin{Proof}\nWe prove this bound by induction. Let $S$ be a set of $s$ vertices.\nThe bound is immediate when $S$ is contained in only one row. \nNow suppose $S$ intersects at least two rows. Let $S_1$ be a maximal set of consecutive\nvertices of $S$ in the topmost row of $S$.\nBy the induction hypothesis,\nthe number of~$C_4$'s that contain at least two vertices in $S \\setminus S_1$ is at\nmost $2(|S|-|S_1|)-2$. Further, the number of $C_4$'s that contain at least one vertex in~$S_1$ \nand least two vertices in $S$ is at most $2|S_1|$: there are $|S_1|-1$ possible copies above $S_1$\nand at most $|S_1|+1$ copies below. Hence, the number of $C_4$'s \nthat $S$ bi-covers is at most $2(|S|-|S_1|)-2 + 2|S_1| = 2|S|-2$.\n\\end{Proof}\n\nIn~\\cite{GWX14secondWorm} a $(C_4,C_4)$-WORM coloring is given and it is conjectured\nthat this is best possible. This we now show:\n\n\\begin{theorem} \\label{t:C4inGrids}\nFor $G_{m,n}$ the $m\\times n$ grid, it holds that $W^+(G_{m,n}; C_4, C_4 ) = \\lfloor (m+1)(n+1)/2 \\rfloor - 1$.\n\\end{theorem}\n\\begin{Proof}\nThe lower bound was proved in~\\cite{GWX14secondWorm}. \nThe upper bound follows from Lemma~\\ref{l:breakBound} and Observation~\\ref{o:2times2grids}:\nThere are $(m-1)(n-1)$ copies of $C_4$, and so $r^+(G_{m,n}; C_4) \n\\le mn - (m-1)(n-1)/2  = (m+1)(n+1)/2-1$.\n\\end{Proof}\n\n\\section{Other Directions}\n\nWe conclude with some thoughts on future directions. Apart from the specific\nopen problems raised here, a direction that looks interesting is the case where $M$ and\n$R$ are both stars. Also of interest is where the host graph is a product graph.\n\n\\bibliographystyle{amsplain}\n\\bibliography{genWorm}\n\n\n", "itemtype": "equation", "pos": 23820, "prevtext": "\nprovided $G$ has an $(M,R)$-WORM coloring.\n\nWe proceed as follows.\nSection~\\ref{s:prelim} contains some general observations.\nIn Section~\\ref{s:path} we provide one general upper bound\nwhen $R$ is a path. In Section~\\ref{s:proper} we consider\nproper colorings without rainbow $P_3$, $P_4$, or $C_4$. \nFinally, in Section~\\ref{s:other} we provide a few results for other cases.\n\n\n\\section{Preliminaries} \\label{s:prelim}\n\nWe start with\nsome simple observations.\nIf $G$ is bipartite then the bipartition is immediately an \n$(M,R)$-WORM coloring.\nIndeed, if $G$ is $k$-colorable with $k<|R|$ , then a \nproper $k$-coloring of $G$ is an $(M,R)$-WORM coloring. Also:\n\n\\begin{ob} Fix graphs $M$ and $R$ and let $G$ be a graph.\n\n(a) If $G$ has an $(M,R)$-WORM coloring, then \nso does $G-e$ where $e$ is any edge and $G-v$ where $v$ is any vertex.\nFurther, $W^+(G-e; M,R) \\ge W^+(G; M,R)$\nand $W^+(G-v; M,R) \\ge W^+(G; M,R)-1$, with similar results for the\nlower chromatic number.\n\n(b) \nIf $M$ and $R$ are connected but\n$G$ is disconnected, then $W^+(G; M,R)$ is the sum of the parameter for\nthe components, and $W^-(G; M,R)$ is the maximum of the parameter\nfor the components.\n\n(c) It holds that \n$W^+(G; M,R) = |V(G)|$ if and only if $G$ is $R$-free.\n\n(d) It holds that \n$W^+{(G;M,R}) \\ge |R|-1$ if $G$ is $|R|-1$ colorable (and has at least that many vertices).\n\\end{ob}\n\nWe will also need the following idea from~\\cite{GX15rainbow}.\nWe say that a set $S$ \\emph{bi-covers}\na subgraph~$H$ if at least two vertices of $H$ are in $S$. For positive integer $s$,\ndefine ${\\mathop{\\mathit{b}}_{{F}}({s})}$ to be the maximum number of copies of $F$ that can be bi-covered by\nusing a set of size $s$. (Note that by definition ${\\mathop{\\mathit{b}}_{{F}}({1})}=0$.) \n\n\\begin{lemma} \\label{l:breakBound} \\cite{GX15rainbow}\nSuppose that graph $G$ of order $n$ contains $f$ copies of $R$ and that\n${\\mathop{\\mathit{b}}_{{R}}({s})} \\le a(s-1)$ for all $s$. Then $r^+(G;R) \\le n - f/a$.\n\\end{lemma}\n\n\\subsection{General $M$}\n\nIt should be noted that maximizing the number of colors while avoiding a rainbow\nsubgraph can produce a large monochromatic subgraph. For example:\n\n\\begin{ob}\nFor all connected graphs $M$, there exists a graph $G$ such that \n$W^+(G; M, P_3) < r^+(G; P_3)$.\n\\end{ob}\n\\begin{Proof}\nIn~\\cite{GX15rainbow} we considered the \n\\emph{corona} ${\\mathop{\\mathit{cor}}}(G)$ of a graph $G$; this is the graph obtained from $G$ by adding,\nfor each vertex $v$ in $G$, a new vertex $v'$ and the edge $vv'$. \nIt was shown that $r^+(G; P_3) = |G|+1$. In fact, we note here that if $G$ is connected,\nthen one can \nreadily show by induction that the optimal coloring is unique and gives every vertex of $G$ \nthe same color. In particular, it follows that the no-rainbow-$P_3$ coloring\nof ${\\mathop{\\mathit{cor}}}(M)$ with the maximum number of colors contains a monochromatic copy of $M$. \n\\end{Proof}\n\n\\section{A Result on Rainbow Paths} \\label{s:path}\n\nWe showed~\\cite{GWX15firstWorm} that a nontrivial graph $G$ has a $(P_3,P_3)$-WORM coloring\nif and only if it has a $(P_3,P_3)$-WORM coloring using only two colors. \nWe prove an analogue for general paths. This result is a slight generalization of Theorem~10 in~\\cite{TV00uncolorable}.\n\n\\begin{theorem} \\label{t:pathUpper} Fix some graph $M$; \nif graph $G$ has an $(M,P_r)$-WORM coloring, then $G$ has one using at most $r-1$ colors.\n\\end{theorem}\n\\begin{Proof}\nConsider an $(M,P_r)$-WORM coloring $f$ of $G$. Let $G_M$ be the spanning subgraph of $G$\nwhose edges are monochromatic and $G_R$ the spanning subgraph whose\nedges are rainbow. It follows that $G_M$ that does not contain $M$,\nand that $G_R$ does not contain $P_r$. It is well known that \na graph without $P_r$ \nhas chromatic number at most $r-1$. \n \nNow, let $g$ be a proper coloring of $G_R$ using at most $r-1$ colors and consider\n$g$ as a coloring of $G$. Note that \nthe monochromatic edges under $g$ are a subset of those under $f$.\nTherefore, $g$ is a $(M,P_r)$-WORM coloring of $G$ using at most $r-1$ colors.\n\\end{Proof}\n\nIt follows that:\n\n\\begin{corollary} \\label{cor:pathW-}\nFor any graph $M$ and $r>0$, graph\n$G$ has an $(M,P_r)$-WORM coloring if and only if $m^-(G,M) \\le r-1$.\nIf so, $W^-(G; M, P_r ) = m^-(G,M)$.\n\\end{corollary}\n\nOn the other hand, Theorem~\\ref{t:pathUpper} does not extend to stars. For example,\nErd\\H{o}s et al.~\\cite{EHKRS86locally} constructed a shift graph that \nhas arbitrarily large chromatic number\nbut can be properly colored without a rainbow $K_{1,3}$. That is:\n\n\\begin{theorem} \\label{t:erdos} For $r\\ge 3$ and $k\\ge 1$,\nthere is a graph $G$ with $W^- ( G; K_2, K_{1,r} ) \\ge k$.\n\\end{theorem}\n\nNor does Theorem~\\ref{t:pathUpper} generalize to $K_3$; see \\cite{XuTHesis} and \\cite{BTk3worm}.\n\n\n\\section{Proper Colorings} \\label{s:proper}\n\nRecall that $W^+(G; K_2,R)$\nis the maximum number and $W^-(G; K_2,R)$ the minimum number of colors in \na proper coloring without a rainbow $R$.\n\n\\subsection{Two simple cases}\n \nTwo cases for $M=K_2$ are immediate:\n\n\\begin{ob}\nA graph $G$ has a $(K_2,P_3)$-WORM  coloring if and only if it is bipartite.  \nIf so, $W^+(G: K_2,P_3) = W^-(G; K_2,P_3)=2$, provided $G$ is connected and nonempty.\n\\end{ob}\n\\begin{Proof}\nIf we have a $(K_2,P_3)$-WORM coloring, then for each vertex $v$ \nall its neighbors must have the same color, which is different to $v$'s color. \nIt follows that every path must alternate colors.\n\\end{Proof}\n\nIn a proper coloring of a graph, all cliques are rainbow. Thus it follows:\n\n\\begin{ob}\nA graph $G$ has a $(K_2,K_m)$-WORM coloring if and only if it is $K_m$-free.\nIf so, $W^+(K_2,K_m) = |G|$ while $W^-(K_2,K_m)$  is the chromatic number of $G$.\n\\end{ob}\n\n\\subsection{No rainbow $K_{1,3}$}\n\nConsider first that $G$ is bipartite. Then in maximizing the colors,\nit is easy to see that one may assume the colors in the \npartite sets are disjoint. (If red is used in both partite sets,\nthen change it to pink in one of the sets.) In particular,\nunless $G$ is a star, one can use at least two colors in each \npartite set. (This result generalizes to $R$ any star.)\nFor example, it follows that $W^+( K_{m,m}; K_2, K_{1,3} ) = 4$\nfor $m\\ge 2$.\n\nIndeed, it is natural to consider the \\emph{open neighborhood hypergraph}\n$ON(G)$ of the graph~$G$. This is the hypergraph with vertex set $V(G)$ and a hyperedge\nfor every open neighborhood in $G$. In general, since we have a proper coloring, the \nrequirement of no rainbow $K_{1,r}$ is equivalent to every\nhyperedge in $ON(G)$ receiving at most $r-1$ colors.\nIn the case that $G$ is bipartite, the two problems are equivalent:\n\n\\begin{ob} \\label{o:onh}\nFor any graph $G$, the parameter $W^+(G; K_2, K_{1,r})$ is at most the \nmaximum number of colors in a coloring of $ON(G)$ with\nevery hyperedge receiving at most $r-1$ colors. Furthermore,\nthere is equality if $G$ is bipartite.\n\\end{ob}\n\\begin{Proof}\nWhen $G$ is bipartite, the $ON(G)$ can be partitioned into two disjoint hypergraphs\nand so will have disjoint colors in the hypergraphs. It follows that \nthat coloring back in $G$ will be proper.\n\\end{Proof}\n\nRecall that a $2$-tree is defined by starting with $K_2$ and repeatedly adding\na vertex that has two adjacent neighbors. For example, this includes\nmaximal outerplanar graphs.\n\n\\begin{ob}\nIf $G$ is a $2$-tree of order at least $3$, then $W^+(G; K_2, K_{1,3})=3$.\n\\end{ob}\n\\begin{Proof}\nAny $2$-tree is $3$-colorable. Furthermore, it follows readily by \ninduction that  a $(K_2, K_{1,3})$-WORM coloring\ncan use only three colors: when we add a vertex $v$ \nand join it to adjacent vertices $x$ and $y$, they already\n have a common neighbor $z$,\nand so $v$ must get the same color as $z$.\n\\end{Proof}\n\nOsang showed that determining whether a graph has a $(K_2,K_{1,3})$-WORM\ncoloring\nis hard:\n\n\\begin{theorem} \\cite{Osang13local} \nDetermining whether a graph has a $(K_2,K_{1,3})$-WORM coloring\nis NP-complete.\n\\end{theorem}\n\n\\subsubsection{Cubic graphs}\n\nWe consider next $3$-regular graphs.\nSince cubic graphs (other than $K_4$) are $3$-colorable, they have a\n$(K_2,K_{1,3})$-WORM coloring. And that coloring uses at most three colors.\nFurther, they have a coloring using two colors if and only if they are bipartite.\nSo the only interesting question is the behavior of the upper chromatic number.\n\n\\begin{ob} \\label{o:cubicClaw}\nIf $G$ is cubic of order $n$, then $W^+( G; K_2, K_{1,3} ) \\le 2n/3$.\n\\end{ob}\n\\begin{Proof}\nSince $G$ is cubic, the hypergraph $ON(G)$ is $3$-regular and $3$-uniform.\nFurther we need a coloring of $ON(G)$ where every hyperedge\nhas at least one pair of vertices the same color.\nConsider some color used more than once, say red. \nIf there are $r$ red vertices, then at most $3r/2$ hyperedges can have two\nred vertices. (Each red can be used at most thrice.) \n\nIt follows that if the $i$\\textsuperscript{th} non-unique color is used $r_i$ times, then\nwe need $\\sum_i r_i \\ge 2n/3$. Let $B$ be the number of vertices that can \nbe discarded and still have one vertex of each color. Then $B=\\sum_i (r_i-1)$\nand by above $B \\ge n/3$. It follows that the total number of colors is at most $2n/3$.\n\\end{Proof}\n\nEquality in Observation~\\ref{o:cubicClaw} is obtained by taking disjoint copies of \n$K_{3,3}-e$ and adding\nedges to make the graph connected. See Figure~\\ref{f:bracelet}.\n\n\\begin{figure}[!ht]\n\\centerline{\\includegraphics{bracelet-0.pdf}}\n\\caption{A cubic graph $G$ with $W^+(G;K_2,K_{1,3})$ two-thirds its order}\n\\label{f:bracelet}\n\\end{figure}\n \nConsider next the minimum value of $W^+(G; K_2, K_{1,3})$ for cubic graphs of order~$n$. We noted above \nthat \nbipartite graphs in general have a value of at least $4$.\nComputer search shows that this parameter is at least $3$ for $n\\le 18$. Indeed,\nit finds only three graphs where the parameter is $3$: one of order $6$ (the prism),\none of order $10$, and one of order $14$,  \nthe generalized\nPetersen graph. These three graphs are shown in Figure~\\ref{f:cubicThree}.\n\n\\begin{figure}[!ht]\n\\centerline{\n\\begin{tabular}{c}{\\includegraphics{cubicThree-0.pdf}}\\end{tabular}\n\\quad\n\\begin{tabular}{c}{\\includegraphics{cubicThree-1.pdf}}\\end{tabular}\n\\quad\n\\begin{tabular}{c}{\\includegraphics{cubicThree-2.pdf}}\\end{tabular}}\n\\caption{The known cubic graphs with $W^+(G;K_2,K_{1,3}) = 3$}\n\\label{f:cubicThree}\n\\end{figure}\n\nIt is unclear what happens in general.\n\n\n\\subsection{Forbidding rainbow $P_4$}\n\nWe consider proper colorings without rainbow $P_4$'s.\nTheorem~\\ref{t:pathUpper} applies. That is, a graph $G$ has \na $(K_2,P_4)$-WORM coloring\nif and only if $G$ has chromatic number at most $3$. In particular,\nthis means that it is NP-complete to determine if a graph has a \n$(K_2,P_4)$-WORM coloring.\nFurther, if such a coloring exists, then  $W^-(G; K_2, P_4)$ is the \n(ordinary) chromatic number of $G$.\nSo we consider only the upper chromatic number here.\n\n\\begin{ob} \\label{o:bipartiteP4}\nIf graph $G$ is bipartite of order $n$, then $W^+(G; K_2, P_4) \\ge n/2+1$.\n\\end{ob}\n\\begin{Proof}\nIn the smaller partite set, give all vertices the same color,\nand in the other partite set, give all vertices unique colors. Note that\nevery copy of $P_4$ contains two vertices from both partite sets.\n\\end{Proof}\n\n\\begin{ob} \\label{o:matchingP4}\nIf connected graph $G$ of order $n$ has a perfect matching, then it holds that\n$W^+(G; K_2, P_4) \\le n/2+1$.\n\\end{ob}\n\\begin{Proof}\nNumber the edges of the perfect matching $e_1, \\ldots, e_{n/2}$ such that for all $i>1$, at least\none of the ends of $e_i$ is connected to some $e_j$ for $j<i$. Then $e_i$, $e_j$, and the \nconnecting edge form a $P_4$. It follows that $e_j$ and $e_i$ share a color. Thus the total\nnumber of colors used is at most $2+(n/2-1) = n/2+1$.\n\\end{Proof}\n\nFor example, equality is obtained in both observations for any connected bipartite graph \nwith a perfect matching, such as the balanced complete  bipartite graph or the path/cycle of even\norder. Equality is also obtained in Observation~\\ref{o:bipartiteP4} for the tree of diameter three \nwhere the two central vertices have the same degree. Also, there are nonbipartite graphs that \nachieve equality in Observation~\\ref{o:matchingP4}; for example, the graph shown in \nFigure~\\ref{f:matchingEquality}.\n\n\\begin{figure}[!ht]\n\\centerline{\\includegraphics{eightProperPathExample-0.pdf}}\n\\caption{A nonbipartite graph $G$ with a perfect matching and maximum $W^+(G;K_2,P_4)$}\n\\label{f:matchingEquality}\n\\end{figure}\n\n\n\nWe determine next the parameter for the odd cycle:\n\n\\begin{ob}  If $n$ is odd, then \n$W^+(C_n; K_2, P_4)$ is $3$ for $n\\le 5$,\nand $(n-1)/2$ for $n\\ge 7$.\n\\end{ob}\n\\begin{Proof}\nThe result for $n=3$ is trivial and for $n=5$ is easily checked. \nSo assume $n\\ge 7$. For the lower bound, color red a maximum\nindependent set, give a new color to every vertex with two red neighbors,\nand color each vertex with one red neighbor the same color as on the other\nside of its red neighbor. For example, the coloring for $C_{13}$ is shown in \nFigure~\\ref{f:cycleColoring} (where the red vertices are shaded).\n\n\\begin{figure}[!ht]\n\\centerline{\\includegraphics{cyclePic-0.pdf}}\n\\caption{Coloring showing $W^+(C_{13};K_2,P_4)$}\n\\label{f:cycleColoring}\n\\end{figure}\n\nWe now prove the upper bound.\nTwo same-colored vertices distance $2$ apart bi-cover two copies of~$P_4$,\nwhile two same-covered vertices distance $3$ apart bi-cover one copy. It follows that if a color is used\n$k$ times, it can bi-cover at most $2(k-1)$ copies of $P_4$, except if the vertices\nof that color form a maximum \nindependent set,\nwhen it bi-covers $2k-1$ copies. Since there are $n$ copies of $P_4$ in total,\nby Lemma~\\ref{l:breakBound} it follows that the total number of colors is at most\n$n/2$, unless some color is a maximum independent set. So say red is a maximum independent\nset. Let $b$ and $e$ be the two red vertices at distance~$3$; say the portion of the\ncycle containing them is $\\mathit{abcdef}$.\nBy considering the $a$--$d$ copy of $P_4$,\nit follows that $a$ must have the same color as $c$ or~$d$. Similarly, $f$ must\nhave the same color as $c$ or~$d$. Thus the total number of colors is at most\n$1+(n-(n-1)/2)-2 = (n-1)/2$. \n\\end{Proof}\n\nIn contrast to Observation~\\ref{o:bipartiteP4}, we get the following:\n\n\\begin{theorem}  \\label{t:pathTriangle}\nIf connected graph $G$ has every vertex in a triangle, then \n $W^+(G; K_2,P_4)= 3$ if such a coloring exists.\n\\end{theorem}\n\\begin{Proof}\nNote that every triangle is properly colored.\nWe show that every triangle receives the same three colors.\nConsider two triangles $T_1$ and $T_2$. If $T_1$ and $T_2$ \nshare two vertices, then the third vertex in \neach share a color. Consider the case that $T_1$ and~$T_2$\nshare one vertex. Then by considering the four $P_4$'s using all vertices\nbut one, it readily follows that the triangles must have\nthe same colors.\n\nNow, assume that $T_1$ and $T_2$ are disjoint but joined by an edge $e$.\n Suppose they do not have the\nsame three colors. Then there is vertex $u_1$ in $T_1$ and $u_2$ in $T_2$\nthat do not share a color with the other triangle. If $u_1$ and $u_2$ are the ends\nof $e$, then any $P_4$ starting with~$e$ is rainbow.\nIf $u_1$ and $u_2$ are not the ends\nof $e$, then there is a $P_4$ whose ends are $u_1$ and~$u_2$ and that \n$P_4$ must be rainbow. Either way, we obtain a contradiction. \n\nSince the graph is connected, it follows that every triangle is colored with \nthe same three colors. Since this includes all the vertices, the result follows.\n\\end{Proof}\n\nFor example, it follows that if $G$ is a \nmaximal outerplanar graph, then it follows that\n$W^+(G; K_2,P_4)=3$.\n\n\\subsubsection{Cubic Graphs}\n\nThere are many cubic graphs with $W^+(G; K_2,P_4)=3$. These include, for example,\nthe claw-free cubic graphs (equivalently the ones where every vertex is in a triangle).\nSee Theorem~\\ref{t:pathTriangle}.\n\nFor the largest value of the parameter, computer evidence suggests:\n\n\\begin{conjecture}\nIf $G$ is a connected cubic graph of order $n$, then \n$W^+(G; K_2,P_4)\\le n/2+1$, with equality exactly when $G$ is bipartite.\n\\end{conjecture}\n\nCertainly, by Observations \\ref{o:bipartiteP4} and~\\ref{o:matchingP4}\n(and the fact that regular bipartite graphs have perfect matchings),\nthat value is obtained for all bipartite graphs.\n\n\\subsection{Forbidding rainbow $C_4$}\n\nWe conclude this section by considering proper colorings without rainbow\n$4$-cycles. \n\n\\begin{ob}\nIf $G$ is a maximal outerplanar graph, then $W^+(G; K_2, C_4 ) = 3$.\n\\end{ob}\n\\begin{Proof}\nConsider two triangles sharing an edge. Then to avoid a rainbow $C_4$,\nthe two vertices not on the edge must have the same color. It follows that all\ntriangles have the same three colors.\n\\end{Proof}\n\nIn particular, we  again look at cubic graphs.\nThe parameter $W^-(G; K_2,C_4)$ for a cubic graphs $G$ is uninteresting:\nthe $3$-coloring provides such a WORM coloring, and so the parameter\nis determined by whether $G$ is bipartite or not. Further, the\nupper bound for $W^+(G; K_2,C_4)$ is trivial: one can have a cubic graph \nwithout a $4$-cycle.\n\nComputer evidence suggests that:\n\n\\begin{conjecture}\nIf $G$ is a connected cubic graph of order $n$, then \n$W^+(G; K_2,C_4) \\ge n/2$.\n\\end{conjecture}\n\nThis lower bound is achievable. Define a \\emph{prism} as the cartesian product\nof a cycle with~$K_2$. For $n$ even, a \\emph{Mobius ladder} is defined by taking\nthe cycle on $n$ vertices and joining every pair of opposite vertices. Note that a prism\nis bipartite when $n$ is a multiple of $4$, and a Mobius ladder is bipartite\nwhen $n$ is not a multiple of $4$.\n\n\\begin{ob}\nIf $G$ is a nonbipartite Mobius ladder or prism of order $n$, \nthen it holds that $W^+(G; K_2,C_4) = n/2$.\n\\end{ob}\n\\begin{Proof}\nWe first exhibit the coloring. Let $m=n/2$.\nSay the vertices of the prism are $u_1, \\ldots, u_m$ and $v_1, \\ldots, v_m$, where\n$u_i$ has neighbors $u_{i-1}$, $u_{i+1}$, and $v_i$ (arithmetic modulo~$m$) and similarly\nfor $v_i$. Then \nfor $1\\le i \\le m$, give vertices $u_i$ and $v_{i+1}$ color $i$.\n\nSay the vertices of the Mobius ladder are $w_1, \\ldots, w_n$ where\n$w_i$ has neighbors $w_{i-1}$, $w_{i+1}$, and $w_{i+m}$ (arithmetic modulo~$n$). Then \nfor $2\\le i \\le m$, give vertices $w_i$ and $w_{i+m-1}$ color $i$, give vertex $w_1$\ncolor $1$ and give vertex $w_{n-1}$ color $2$. For example, the coloring for the case $n=12$ \nis shown in Figure~\\ref{f:mobiusColoring}.\n\n\\begin{figure}[!ht]\n\\centerline{\\includegraphics{mobiusLadder-0.pdf}}\n\\caption{Coloring of Mobius ladder}\n\\label{f:mobiusColoring}\n\\end{figure}\n\nNow, for the upper bound,\nconsider a color that is used $r$ times. A color bi-covers\na copy of $C_4$ if it contains vertices from consecutive rungs (where a rung is\nan edge in two~$C_4$'s). Since the graph is not bipartite, the color cannot be\npresent in every rung. It follows that it can bi-cover at most $r-1$ copies of $C_4$.\nNow, there are $m$ copies of $C_4$ (note that the prism of $C_4$ is bipartite so excluded).\nIt follows from Lemma~\\ref{l:breakBound} that the number of colors is at most\n$n-n/2=n/2$.\n\\end{Proof}\n\nIt appears that this extremal graph is unique for all orders.\n \n\\section{Other Results} \\label{s:other}\n\n\\subsection{Paths and paths}\n\nThe natural strategy to color a long path without a rainbow $P_r$ yields\nthe following:\n\n\\begin{ob}\nFor any $m\\ge 3$, it holds that\n$W^+( P_n; P_m, P_r) = r^+( P_n; P_r ) = \\lfloor (r-2)n/(r-1) \\rfloor +1$.\n\\end{ob}\n\\begin{Proof}\nGive the first $r-1$ vertices different colors, then the next vertex\nthe same color as the previous vertex, then the next $r-2$ vertices different\ncolors, and so on. This coloring has a monochromatic $P_2$ but not a monochromatic $P_3$,\nand is easily seen to be best possible (as every copy of $P_r$ must\ncontain two vertices of the same color). \n\\end{Proof}\n\n\n\n\\subsection{Bicliques and bicliques}\n\nNext we revisit the case that $G$, $M$, and $R$ are bicliques. For $n\\ge b$ it was proved that\n$W^+(K_{n,n}; K_{1,b}, K_{1,b})=2b-2$ in~\\cite{GWX15firstWorm} and that\n$W^+(K_{n,n}; K_{b,b}, K_{b,b})=n+b-1$ in~\\cite{GWX14secondWorm}. The case for stars is\nspecial, but it is straight-forward to generalize the latter:\n\n\\begin{theorem}\nLet $m\\le n$ and $2\\le a\\le b$ with\n$m\\ge a$ and $n\\ge b$. Then\n", "index": 3, "text": "\n\\[\n   r^+(K_{m,n}; K_{a,b}) = \\max( a+n-1, \\, b-1+\\min(m,b-1) ) .\n\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex2.m1\" class=\"ltx_Math\" alttext=\"r^{+}(K_{m,n};K_{a,b})=\\max(a+n-1,\\,b-1+\\min(m,b-1)).\" display=\"block\"><mrow><mrow><mrow><msup><mi>r</mi><mo>+</mo></msup><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>K</mi><mrow><mi>m</mi><mo>,</mo><mi>n</mi></mrow></msub><mo>;</mo><msub><mi>K</mi><mrow><mi>a</mi><mo>,</mo><mi>b</mi></mrow></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><mi>a</mi><mo>+</mo><mi>n</mi></mrow><mo>-</mo><mn>1</mn></mrow><mo rspace=\"4.2pt\">,</mo><mrow><mrow><mi>b</mi><mo>-</mo><mn>1</mn></mrow><mo>+</mo><mrow><mi>min</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mi>m</mi><mo>,</mo><mrow><mi>b</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}]