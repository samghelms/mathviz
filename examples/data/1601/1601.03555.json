[{"file": "1601.03555.tex", "nexttext": "\nThis implies that $N_j$ has a better delivery potential than $N_i$, and is given with a message copy with $\\frac{C_M}{2}$ copy tickets for further dissemination at upcoming encounter opportunities.\n\n\\begin{figure}[htbp]\n\\begin{center}\n\\includegraphics[scale=0.38]{aeorp.eps}\n\\caption{Illustration of Geometric Metric}\\vspace{-10pt}\n\\label{ta}\n\\end{center}\n\\end{figure}\n\nHowever, we note that this utility metric has limitation.\nThis is because to calculate $\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}$ is invalid given $\\left(\\phi_{i,d}\\geq\\frac{\\pi}{2}\\right)$, for which $\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}$ must be a positive value.\nIn light of this, the above routing decision has limitation when the message carrier is moving away from its destination, even if its encountered node is moving towards its destination.\nUpon the nature of DF adopting a threshold value to qualify the encountered node, this operation motivates us to overcome the above limitation, since the quality of message carrier is not required for making routing decision.\nIn light of this, we utilize DF by caching the threshold value $V^T_M$ for each message, and then convert the conditions \\eqref{con1} into:\n\n", "itemtype": "equation", "pos": 18673, "prevtext": "\n\\title{A Geographic Multi-Copy Routing Scheme for DTNs With Heterogeneous Mobility}\n\n\\author{Yue Cao,\n        Kaimin Wei,\n        Geyong Min,\n        Jian Weng,\n        Xin Yang and\n        Zhili Sun,~\\IEEEmembership{Member,~IEEE}\n\n\\thanks{Y.Cao, X.Yang and Z.Sun are with the Institute for Communication Systems (ICS), University of Surrey, Guildford, UK. Email: y.cao; xin.yang; z.sun@surrey.ac.uk.}\n\\thanks{K.Wei (corresponding author) and J.Weng are with the Department of Computer Science, Jinan University, China. Email: cswei@jnu.edu.cn.}\n\\thanks{G.Min is with the High Performance Computing and Networking (HPCN) research group, University of Exeter, UK. Email: g.min@exeter.ac.uk.}\n\\thanks{Manuscript received on 19 September 2015, revised on 5 January 2016.}\n}\n\n\n\\markboth{IEEE Systems Journal}\n{}\n\n\\maketitle\n\n\n\\begin{abstract}\nPrevious geographic routing schemes in Delay/Disruption Tolerant Networks (DTNs) only consider the homogeneous scenario where nodal mobility is identical.\nMotivated by this gap, we turn to design a DTN based geographic routing scheme in heterogeneous scenario.\nSystematically, our target is achieved via two steps:\n1) We first propose ``The-Best-Geographic-Relay (TBGR)'' routing scheme to relay messages via a limited number of copies, under the homogeneous scenario.\n\nWe further overcome the local maximum problem of TBGR given a sparse network density, different from those efforts in dense networks like clustered Wireless Sensor Networks (WSNs).\n2) We next extend TBGR for heterogeneous scenario, and propose ``The-Best-Heterogeneity-Geographic-Relay (TBHGR)'' routing scheme considering individual nodal visiting preference (referred to non-identical nodal mobility).\nExtensive results under a realistic heterogeneous scenario show the advantage of TBHGR over literature works in terms of reliable message delivery, while with low routing overhead.\n\\end{abstract}\n\n\\begin{IEEEkeywords}\nDTNs, Geographic Routing, Heterogeneous Nodal Mobility, Sparse Networks.\n\\end{IEEEkeywords}\n\n\n\n\\IEEEpeerreviewmaketitle\n\n\\section{Introduction}\n\\IEEEPARstart{D}{E}lay/Disruption Tolerant Networks (DTNs) \\cite{6423201} \\textbf{\\emph{can be applied to various scenarios in Wireless Sensor Networks (WSNs) with large size data for transmission, where mobile nodes collect sensing data from others and then offload the data to a sink destination.\nDue to either technical or economic reason, it is impossible to establish direct communication path from a data source to a sink destination under such scenarios.\nFurthermore, the network may even be partially disconnected owing to limited transmission range or sparse network density.}}\nIn addition to those traditional applications of WSNs, one of the recent social well-being applications is the implementation of WSNs in Vehicle Ad hoc NETworks (VANETs), also known as Vehicular Sensor Networks (VSNs) \\cite{4573261}.\n\nFocusing on the VSNs scenario for delay tolerant based sensing data (or referred to messages) collection, vehicles can help to monitor network \\cite{6007076} (e.g., weather conditions, pollution measurements or road surface conditions) and deliver data to certain deployed destinations.\nDifferent from traditional WSNs where \\emph{\\textbf{nodes are energy constrained}} and densely deployed (or with low mobility), vehicles in VSNs are not limited by energy but highly mobile.\nIn this context, the network topology is highly dynamic and even frequently disconnected.\n\nRouting under such intermittently connected scenario is an important research issue in the field of DTNs.\nDifferent from numerous previous works relying on network topology information to relay messages, geographic routing in DTNs has not received much attention in the literature \\cite{my}.\nSince it is difficult to obtain the most recent network topology information, instead, relying on geographic information to relay messages is feasible by knowing the location of destination.\nThis has been \\emph{\\textbf{a valid assumption}} in traditional Mobile Ad hoc NETworks (MANETs) and WSNs.\nIt is highlighted that this assumption is also well applicable to VSNs scenario, as the collection points (destinations) are generally located at places where there is high vehicles penetration.\n\nIn spite of this motivation, the sparse network density\\footnote[1]{In sparse VANETs or VSNs, network nodes are normally connected in a sparse mode and also opportunistically encounter each other. As such, the network would experience frequent network disconnection in rural locations with sparsely populated roads, and also during non-busy hours such as late night.} inevitably has influence on making reliable routing decision and handling the local maximum problem \\cite{Karp:2000:GGP:345910.345953}, specifically:\n\\begin{itemize}\n\\item In clustered WSNs, a message is geographically relayed to its destination via continuously connected path, thanks to high network density.\n    However, this is infeasible in DTNs where a node closer to the destination may move away and even not encounter others in future, due to the sparse network density.\n\\item  \\emph{\\textbf{Besides, handling the local maximum problem}}\\footnote[2]{Considered as routing void, this problem implies that if a better relay node is unavailable, the message carrier will keep on carrying the message. In light of this, the message delivery is delayed or even degraded if a better relay node is never met.} \\emph{\\textbf{in DTNs also faces some new challenges, because of lacking enough encountered opportunities to find relay nodes in sparse networks.}}\n\\end{itemize}\n\nMost of routing schemes in DTNs rely on redundancy to improve message delivery, meaning a message is replicated with multiple copies in a network.\nThe motivation behind this is to enable at least one of these message copies can be delivered successfully before expiration deadline.\nAs already investigated in \\cite{7055213}, limiting the number of message copies (relayed by\nthe source and possibly other nodes receiving a copy) to $L$\\footnote[3]{Note that the initialization of $L$ is application dependent, e.g., based on number of nodes in network to support delay tolerant requirement.}, benefits more from the scenario where nodes are highly mobile.\n\n\nConcerning mobility, its heterogeneity refers to the behavior that mobile nodes in the same group would have a common preference, to move within a certain area consisting of some popular places.\nWhereas this behavior is differentiated among those in diverse groups.\nFor example, vehicles in VSNs may have daily preferences to deliver data to different collection points.\nInherently, topological routing schemes in DTNs can be applied to both homogeneous and heterogeneous scenarios, because the nodal encounter prediction is based on historical information, e.g., encounter frequency, inter-contact time and encounter duration.\nHere, the heterogeneity of mobile nodes can be reflected, because these metrics rely on the fact ``whether'' pairwise nodes have encountered before.\n\nIn spite that a few works \\cite{4357430,aar,6587056} have attempted geographic utility metric in DTNs, they generally assume homogeneous scenario where mobile nodes ``will'' encounter destination without concerning mobility heterogeneity.\nIn the worst case, the message would not be relayed to heterogeneous mobile nodes which move within an area, where the destination is located.\nBy limiting the number of message copies, relaying them to few nodes encountered, implies that some or all of these copies will end up with nodes that may never meet the destination.\nWith this in mind, we address geographic routing in DTNs comprising the mobility heterogeneity, with the following contributions:\n\\begin{enumerate}\n\\item Starting from the homogeneous scenario, we first propose The-Best-Geographic-Relay (TBGR) with a limited $L$ number of message copies for delivery.\n    Here, based on a given geometric metric for selecting relay node, the routing reliability due to inconsistent nodal motion statuses (in terms of moving direction and activity\\footnote[4]{The activity refers to the case that mobile nodes will be temporarily stationary in the network.}) is improved, while the local maximum problem is solved considering the sparse network density.\n\\item By generalizing the nature of TBGR under the homogeneous scenario, we next turn to the heterogeneous scenario.\n    Here, we propose The-Best-Heterogeneity-based-Geographic-Relay (TBHGR) which geographically relays $L$ message copies to the destination, located in the area around which other nodes are heterogeneous.\n    Here, we concern the nodal mobility heterogeneity (in terms of visiting preference), in addition to moving direction and activity as investigated in TBGR.\n    Along with this, we also manage messages for transmission and storage due to the network resources contention.\n\\end{enumerate}\n\n\nThe rest of this article is organized as follows.\nThe related work is presented in Section \\uppercase\\expandafter{\\romannumeral2}.\nThen, we present the design as well as the analysis of TBGR in Section \\uppercase\\expandafter{\\romannumeral3}, followed by the design of TBHGR in Section \\uppercase\\expandafter{\\romannumeral4}.\nFinally, we conclude our work in Section \\uppercase\\expandafter{\\romannumeral5}.\n\n\\section{Related Works}\nIn the literature, the simplest scheme, Direct Delivery (DD) \\cite{1026005}, lets the source node carry messages and deliver them to their destination. Although this scheme performs only one transmission, it is extremely slow.\nTherefore, other works relay messages either based on topological \\cite{7005461,6512845} or geographic utility metrics\\cite{1543743,5779182}, without replicating any copy through transmission.\nEven if they can achieve a faster delivery than DD, their performance is dramatically degraded in case of sparse network density.\nInstead, using redundant message copies has been widely investigated, with two main branches depending on whether or not to limit the number of copies a message can be replicated.\n\n\n\\subsection{Relaying Messages Without Limiting Copy Numbers}\nSince Epidemic \\cite{Vahdat00epidemicrouting} naively replicates message copies, it only performs well when no contention exists for shared network resources like bandwidth and buffer space.\nMany previous works utilize topological utility metrics \\cite{7055213,5350443,prophet,6636888} to qualify nodes for selected replication, compared to a few works utilize geographic utility metrics \\cite{4357430,aar,6587056}.\nTo enhance routing efficiency, Delegation Forwarding (DF) \\cite{Erramilli:2008:DF:1374618.1374653} enables a message to cache an updated threshold value which is equal to the topological utility metric for destination, and lets a message copy is relayed to a node with a better utility metric than this cached threshold.\nAs applied in \\cite{7055213}, if without using DF, a node does not keep a threshold value and certainly the message carrier does not update this value after it encounters a better quality node.\nWhile if using DF, a node will raise this threshold value to the quality of a better candidate node, and only uses this threshold value for further comparison.\nThus, with the increase of its level, the replication chance of message carrier is expected to be decreased, which means the number of copies duplicated for a message is also to be reduced.\n\n\n\\subsection{Relaying Messages With Limiting Copy Numbers}\nPrevious works in this branch assume that when enough nodes in the network are sufficiently mobile, replicating a message  with a limited number of copies is able to achieve an efficient message delivery.\nAuthors in \\cite{4430784} propose Spray-and-Wait (SaW) algorithm, in which a copy ticket $C_M$ is defined for each message to control how many copies a message can still be replicated.\nDepending on an initial value $L$ for $C_M$, Source-SaW (S-SaW) lets source node replicates additional $(L-1)$ copies with a single copy ticket $(C_M=1)$ distributed.\nIn contrary, Binary-SaW (B-SaW) adopts a binary tree mechanism to equally distribute copy tickets for replicated copy, that is $\\frac{C_M}{2}$ rather than $(C_M=1)$.\nHere, any intermediate nodes carrying a copy with $(C_M>1)$ copy tickets can also perform message replication.\nNote that although to proportionally distribute $C_M$ has been initially proposed in \\cite{5061994}, while \\cite{4176957} proves that an optimal distribution depends on the value of $L$.\nIn this context, to equally distribute $C_M$ as adopted in B-SaW, has been widely adopted in literature.\nThis is because that the way to distribute $C_M$ is independent of utility metric, while an optimal performance is achieved in case of homogeneous nodal mobility only.\nConsidering the heterogeneous nodal mobility, replicating message copies \\cite{4731259} to a better qualified $(L-1)$ nodes has been investigated.\nTo expedite delivery via topological utility metric, EBSR \\cite{7055213} further relays (without generating additional copies) a message copy with $(C_M=1)$ copy ticket.\nBased on geographic utility metric and underlying map topology, GeoSpray \\cite{geospray} calculates the Nearest Point (NP) to destination via underlying map topology to guide message relay.\n\n\\subsection{Motivation}\n\\emph{\\textbf{All reviewed geographic routing schemes in DTNs assume homogeneous scenario.\nHowever, existing homogenous model defines identical mobility pattern that cannot completely and realistically depict the heterogeneous scenario.\nIn the latter case, the nodal mobility is limited within a certain area, as such relaying a message across different areas may suffer from a high overhead (relaying the message to nodes which never encounter destination) or even failure (the message will not be relayed to nodes moving towards the area where the destination is located).\nWith this in mind, we tackle the design of geographic routing scheme in DTNs with nodal mobility heterogeneity.}}\n\n\\section{Design of TBGR}\n\\subsection{Assumption}\nWe assume that the Global Position System (GPS) is available for all mobile nodes in the network, while the energy consumption for running GPS could be neglected in VSNs.\nThe location of the stationary sink destination is available for all mobile nodes under a two dimensional scenarios, we also allow multiple sink destinations coexisting in a network.\nAlthough the influence of location error inevitably affects the accuracy of routing decision, our research effort is for improving the message delivery based on any delivery time based metric.\nIn other words, the nature of TBGR as discussed herein is still applicable to the condition where location error exists.\nHere, the encounter possibility between pairwise nodes is identical under a homogeneous network.\n\nA slotted based collision avoidance MAC protocol is applied by each node for contention resolution, such that only one connection can be established between two neighbor nodes at each time slot.\nTherefore, any node can not perform transmission to more than one node within each slot.\nAlso, in networks that are quite sparse, we expect that only a few nodes would be close enough each time to compete for bandwidth.\nCertain media access algorithm \\cite{Mostafa:2014:RAP:2580129.2580647} will determine and limit the accessing media and its duration (allocation time) within an encounter duration.\n\nAlthough we envision for delay tolerant based data collection in VSNs, messages are usually with a certain lifetime, evaluated as Time-To-Live (TTL).\nWithin a message lifetime, a limited $L$ number of copies including $(L-1)$ replicated copies and the original message will exist in a network, such that at least one of them can be successfully delivered by sink destination.\nOtherwise, the message will be discarded until TTL expires.\n\n\\begin{table}[htbp]\\scriptsize\n\\caption{List of Notations Defined in TBGR}\\vspace{-10pt}\n\\label{configure}\n\\centering\n\\begin{tabular}{|p{0.7cm}|p{6.6cm}|}\n\\hline\n$N_i$ & Message carrier\\\\\\hline\n$N_j$ & Encountered node\\\\\\hline\n$N_d$ & Destination of message\\\\\\hline\n$M$ & Message carried by $N_i$\\\\\\hline\n$T^{ini}_M$ & Initial message lifetime\\\\\\hline\n$T^{ela}_M$ & Elapsed time since message generation\\\\\\hline\n$D_{i,d}$ & Distance from $N_i$ to $N_d$, and similarly for $D_{j,d}$\\\\\\hline\n$\\phi_{i,d}$ & Relative angle between the moving direction of $N_i$ and $D_{i,d}$, and similarly for $\\phi_{j,d}$\\\\\\hline\n$S_i$ & Moving speed of $N_i$, similarly for $S_j$\\\\\\hline\n$R$ & Transmission range of device\\\\\\hline\n$V^T_M$ & Heuristic delivery time based threshold value cached in $M$\\\\\\hline\n$C_M$ & Copy ticket of $M$\\\\\\hline\n$L$ & Initially defined value for $C_M$ \\\\\\hline\n\\end{tabular}\n\\label{table1}\n\\end{table}\n\n\\subsection{Geographically Relaying $L$ Message Copies}\nAs described in TABLE \\ref{table1}, we denote $N_i$ as the message carrier, $N_j$ is its encountered node, while $N_d$ is denoted as the destination for message $M$.\nBased on an encounter between $N_i$ and $N_j$, a routing decision is made based on whether $N_j$ is a ``better'' option to carry a message copy, considering its potential for delivering message to $N_d$.\nNote that the original message is allowed for replicating with additional $(L-1)$ copies, based on a pre-defined value $L$.\n\nHere, the copy ticket $C_M$ is defined as an additional flag in each message, to control how many copies a message can still be replicated.\nInitially, $C_M$ is set to $L$ for any newly generated message.\nSince the effectiveness to equally distribute $C_M$ has been analyzed in \\cite{4430784} and widely adopted by previous works, we thereby apply this mechanism in this article.\nFurther concerning on how to proportionally distribute message copy tickets based on a utility metric is out of our discussion.\n\nTo generalize the nature of TBGR, we herein select an existing utility metric \\cite{5779182} which jointly considers nodal distance, moving speed and direction to capture nodal homogeneous mobility.\nBased on illustration in Fig.\\ref{ta}, this utility metric is calculated as $\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}$ where $\\phi_{i,d}$ is the relative angle between the moving direction of $N_i$ and the distance $D_{i,d}$ measured from $N_i$ to $N_d$.\nSince a smaller $\\phi_{i,d}$ implies a smaller diversity to $N_d$, this metric intends to capture the time for $N_i$ to intersect $N_d$ given a fast moving speed $S_i$.\n\nUpon the efficient message delivery via a limited number of message copies, we propose that $N_i$ will relay a message copy to $N_j$, and equally distribute the value of $C_M$ for the message carried by $N_i$ and the copy in $N_j$, given that:\n\n", "index": 1, "text": "\\begin{equation}\\footnotesize\n\\left(\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{i,d}<\\frac{\\pi}{2}\\right)\n\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)\n\\label{con1}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E1.m1\" class=\"ltx_Math\" alttext=\"\\footnotesize\\left(\\frac{D_{i,d}-R}{S_{i}\\times\\cos\\phi_{i,d}}&gt;\\frac{D_{j,d}-R%&#10;}{S_{j}\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{i,d}&lt;\\frac{\\pi}{2}\\right)%&#10;\\cap\\left(\\phi_{j,d}&lt;\\frac{\\pi}{2}\\right)\" display=\"block\"><mrow><mrow><mo>(</mo><mfrac><mrow><msub><mi mathsize=\"80%\">D</mi><mrow><mi mathsize=\"80%\">i</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mi mathsize=\"80%\">R</mi></mrow><mrow><msub><mi mathsize=\"80%\">S</mi><mi mathsize=\"80%\">i</mi></msub><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><mrow><mi mathsize=\"80%\">cos</mi><mo>\u2061</mo><msub><mi mathsize=\"80%\">\u03d5</mi><mrow><mi mathsize=\"80%\">i</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub></mrow></mrow></mfrac><mo mathsize=\"80%\" stretchy=\"false\">&gt;</mo><mfrac><mrow><msub><mi mathsize=\"80%\">D</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mi mathsize=\"80%\">R</mi></mrow><mrow><msub><mi mathsize=\"80%\">S</mi><mi mathsize=\"80%\">j</mi></msub><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><mrow><mi mathsize=\"80%\">cos</mi><mo>\u2061</mo><msub><mi mathsize=\"80%\">\u03d5</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub></mrow></mrow></mfrac><mo>)</mo></mrow><mo mathsize=\"80%\" stretchy=\"false\">\u2229</mo><mrow><mo>(</mo><msub><mi mathsize=\"80%\">\u03d5</mi><mrow><mi mathsize=\"80%\">i</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">&lt;</mo><mfrac><mi mathsize=\"80%\">\u03c0</mi><mn mathsize=\"80%\">2</mn></mfrac><mo>)</mo></mrow><mo mathsize=\"80%\" stretchy=\"false\">\u2229</mo><mrow><mo>(</mo><msub><mi mathsize=\"80%\">\u03d5</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">&lt;</mo><mfrac><mi mathsize=\"80%\">\u03c0</mi><mn mathsize=\"80%\">2</mn></mfrac><mo>)</mo></mrow></mrow></math>", "type": "latex"}, {"file": "1601.03555.tex", "nexttext": "\nNote that $V^T_M$ is an updated value for recording $\\left(\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)$, as an additional flag defined in the message.\nConsequently, as illustrated between lines 8 and 11 in Algorithm \\ref{dgs1}, if given $\\left(V^T_M>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$, $N_i$ will set $\\frac{C_M}{2}$ copy tickets for the replicated copy to $N_j$, and keeps the rest $\\left(C_M-\\frac{C_M}{2}\\right)$ copy tickets for the message carried by itself.\n\nHere, $V^T_M$ is updated to $\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}$ given $\\left(V^T_M>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$.\nThis value is recorded as the heuristic delivery time of the historically encountered node, to compare with that of upcoming encountered node.\nTherefore, the limitation in relation to the moving direction of $N_i$ is overcome, by comparing the utility metric of historically encountered node with that of upcoming encountered node.\n\nAlthough the above decision may also select the node of which $\\phi_{j,d}$ is close to $\\frac{\\pi}{2}$, the routing decision will be towards optimality.\nThis is because that apart from the gradually decreased $D_{j,d}$, to gradually update $V^{T}_M$ implies either the smallest $\\phi_{j,d}$ or largest $S_j$.\nIn contrast, when using conditions \\eqref{con1}, $N_j$ might be selected to carry $M$ given that $\\phi_{j,d}$ is close to $\\frac{\\pi}{2}$ while $S_j$ is large.\nConsequently, although $M$ has been relayed for several copies, it may not be close to $N_d$.\nIn this context, in TBGR the quality of the relay node will be gradually converged and the ``best\\footnote[5]{In addition to concern inconsistent nodal moving direction, TBGR can be extended to other condition such as nodal activity. This is further discussed in analysis section.}'' relay node will be found.\n\nWe also make modification by initializing $V^T_M$ with an infinitely large value for each message, rather than $\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}$.\nThe motivation is to overcome the limitation if $M$ is generated in $N_i$, but it is moving away from $N_d$ as given by $\\left(\\phi_{i,d}\\geq\\frac{\\pi}{2}\\right)$.\nFurthermore, if both $N_i$ and $N_j$ have a copy of the same message, it is essential to update $V^T_M$ towards a smaller value for these two copies.\nThis operation is performed in a distributed manner, and only happens when there is an encounter between two nodes holding copies of the same message.\n\n\\subsection{Local Maximum Problem Handling}\nThe local maximum problem happens if $N_j$ does not meet conditions $\\left(V^T_M>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$.\nIn this case, we propose to still keep on replicating a copy with equally distributed $C_M$, if $\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}$ is longer than the TTL, given:\n\n", "itemtype": "equation", "pos": 20105, "prevtext": "\nThis implies that $N_j$ has a better delivery potential than $N_i$, and is given with a message copy with $\\frac{C_M}{2}$ copy tickets for further dissemination at upcoming encounter opportunities.\n\n\\begin{figure}[htbp]\n\\begin{center}\n\\includegraphics[scale=0.38]{aeorp.eps}\n\\caption{Illustration of Geometric Metric}\\vspace{-10pt}\n\\label{ta}\n\\end{center}\n\\end{figure}\n\nHowever, we note that this utility metric has limitation.\nThis is because to calculate $\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}$ is invalid given $\\left(\\phi_{i,d}\\geq\\frac{\\pi}{2}\\right)$, for which $\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}$ must be a positive value.\nIn light of this, the above routing decision has limitation when the message carrier is moving away from its destination, even if its encountered node is moving towards its destination.\nUpon the nature of DF adopting a threshold value to qualify the encountered node, this operation motivates us to overcome the above limitation, since the quality of message carrier is not required for making routing decision.\nIn light of this, we utilize DF by caching the threshold value $V^T_M$ for each message, and then convert the conditions \\eqref{con1} into:\n\n", "index": 3, "text": "\\begin{equation}\\footnotesize\n\\left(V^T_M>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)\n\\label{con2}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E2.m1\" class=\"ltx_Math\" alttext=\"\\footnotesize\\left(V^{T}_{M}&gt;\\frac{D_{j,d}-R}{S_{j}\\times\\cos\\phi_{j,d}}\\right%&#10;)\\cap\\left(\\phi_{j,d}&lt;\\frac{\\pi}{2}\\right)\" display=\"block\"><mrow><mrow><mo>(</mo><msubsup><mi mathsize=\"80%\">V</mi><mi mathsize=\"80%\">M</mi><mi mathsize=\"80%\">T</mi></msubsup><mo mathsize=\"80%\" stretchy=\"false\">&gt;</mo><mfrac><mrow><msub><mi mathsize=\"80%\">D</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mi mathsize=\"80%\">R</mi></mrow><mrow><msub><mi mathsize=\"80%\">S</mi><mi mathsize=\"80%\">j</mi></msub><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><mrow><mi mathsize=\"80%\">cos</mi><mo>\u2061</mo><msub><mi mathsize=\"80%\">\u03d5</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub></mrow></mrow></mfrac><mo>)</mo></mrow><mo mathsize=\"80%\" stretchy=\"false\">\u2229</mo><mrow><mo>(</mo><msub><mi mathsize=\"80%\">\u03d5</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">&lt;</mo><mfrac><mi mathsize=\"80%\">\u03c0</mi><mn mathsize=\"80%\">2</mn></mfrac><mo>)</mo></mrow></mrow></math>", "type": "latex"}, {"file": "1601.03555.tex", "nexttext": "\nHere, $T^{ela}_M$ is denoted as the elapsed time since message generation, while $T^{ini}_M$ is denoted as the initialized message lifetime.\nThus, $(T^{ini}_M-T^{ela}_M)$ is calculated as the TTL of message.\n\nSince for message delivery before its TTL, $\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}$ should not be longer than $\\left(T^{ini}_M-T^{ela}_M\\right)$.\nTherefore, giving a message copy to $N_j$ with $\\frac{C_M}{2}$ copy tickets distributed, is thus performed when $\\left(\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}>T^{ini}_M-T^{ela}_M\\right)$.\nThis hopes that $N_j$ would encounter other nodes that with a shorter time to intersect $N_d$ at the upcoming encounter.\n\nFurthermore, we convert conditions $\\left(\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}>T^{ini}_M-T^{ela}_M\\right)\\cap\\left(\\phi_{i,d}<\\frac{\\pi}{2}\\right)$ into:\n\n", "itemtype": "equation", "pos": 23191, "prevtext": "\nNote that $V^T_M$ is an updated value for recording $\\left(\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)$, as an additional flag defined in the message.\nConsequently, as illustrated between lines 8 and 11 in Algorithm \\ref{dgs1}, if given $\\left(V^T_M>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$, $N_i$ will set $\\frac{C_M}{2}$ copy tickets for the replicated copy to $N_j$, and keeps the rest $\\left(C_M-\\frac{C_M}{2}\\right)$ copy tickets for the message carried by itself.\n\nHere, $V^T_M$ is updated to $\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}$ given $\\left(V^T_M>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$.\nThis value is recorded as the heuristic delivery time of the historically encountered node, to compare with that of upcoming encountered node.\nTherefore, the limitation in relation to the moving direction of $N_i$ is overcome, by comparing the utility metric of historically encountered node with that of upcoming encountered node.\n\nAlthough the above decision may also select the node of which $\\phi_{j,d}$ is close to $\\frac{\\pi}{2}$, the routing decision will be towards optimality.\nThis is because that apart from the gradually decreased $D_{j,d}$, to gradually update $V^{T}_M$ implies either the smallest $\\phi_{j,d}$ or largest $S_j$.\nIn contrast, when using conditions \\eqref{con1}, $N_j$ might be selected to carry $M$ given that $\\phi_{j,d}$ is close to $\\frac{\\pi}{2}$ while $S_j$ is large.\nConsequently, although $M$ has been relayed for several copies, it may not be close to $N_d$.\nIn this context, in TBGR the quality of the relay node will be gradually converged and the ``best\\footnote[5]{In addition to concern inconsistent nodal moving direction, TBGR can be extended to other condition such as nodal activity. This is further discussed in analysis section.}'' relay node will be found.\n\nWe also make modification by initializing $V^T_M$ with an infinitely large value for each message, rather than $\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}$.\nThe motivation is to overcome the limitation if $M$ is generated in $N_i$, but it is moving away from $N_d$ as given by $\\left(\\phi_{i,d}\\geq\\frac{\\pi}{2}\\right)$.\nFurthermore, if both $N_i$ and $N_j$ have a copy of the same message, it is essential to update $V^T_M$ towards a smaller value for these two copies.\nThis operation is performed in a distributed manner, and only happens when there is an encounter between two nodes holding copies of the same message.\n\n\\subsection{Local Maximum Problem Handling}\nThe local maximum problem happens if $N_j$ does not meet conditions $\\left(V^T_M>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$.\nIn this case, we propose to still keep on replicating a copy with equally distributed $C_M$, if $\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}$ is longer than the TTL, given:\n\n", "index": 5, "text": "\\begin{equation}\\footnotesize\n\\left(\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}>T^{ini}_M-T^{ela}_M\\right)\n\\label{cc}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E3.m1\" class=\"ltx_Math\" alttext=\"\\footnotesize\\left(\\frac{D_{i,d}-R}{S_{i}\\times\\cos\\phi_{i,d}}&gt;T^{ini}_{M}-T^{%&#10;ela}_{M}\\right)\" display=\"block\"><mrow><mo>(</mo><mrow><mfrac><mrow><msub><mi mathsize=\"80%\">D</mi><mrow><mi mathsize=\"80%\">i</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mi mathsize=\"80%\">R</mi></mrow><mrow><msub><mi mathsize=\"80%\">S</mi><mi mathsize=\"80%\">i</mi></msub><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><mrow><mi mathsize=\"80%\">cos</mi><mo>\u2061</mo><msub><mi mathsize=\"80%\">\u03d5</mi><mrow><mi mathsize=\"80%\">i</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub></mrow></mrow></mfrac><mo mathsize=\"80%\" stretchy=\"false\">&gt;</mo><mrow><msubsup><mi mathsize=\"80%\">T</mi><mi mathsize=\"80%\">M</mi><mrow><mi mathsize=\"80%\">i</mi><mo>\u2062</mo><mi mathsize=\"80%\">n</mi><mo>\u2062</mo><mi mathsize=\"80%\">i</mi></mrow></msubsup><mo mathsize=\"80%\" stretchy=\"false\">-</mo><msubsup><mi mathsize=\"80%\">T</mi><mi mathsize=\"80%\">M</mi><mrow><mi mathsize=\"80%\">e</mi><mo>\u2062</mo><mi mathsize=\"80%\">l</mi><mo>\u2062</mo><mi mathsize=\"80%\">a</mi></mrow></msubsup></mrow></mrow><mo>)</mo></mrow></math>", "type": "latex"}, {"file": "1601.03555.tex", "nexttext": "\nIt is observed that, by removing the condition $\\left(\\phi_{i,d}<\\frac{\\pi}{2}\\right)$ for calculating $\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}$, the condition \\eqref{local1} applied for decision between lines 12 and 14 in Algorithm \\ref{dgs1}, implies that $V^T_M$ as the smallest value of delivery time recorded in the network, is still longer than the TTL.\nNote that updating $V^T_M$ is excluded in this case, due to $\\left(V^T_M\\leq\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)$.\nMeanwhile, since the value of $V^T_M$ is not with an infinitely large value due to $\\left(V^T_M\\leq\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)$, using the historically lowest value of $\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}$ to compare with $(T^{ini}_M-T^{ela}_M)$, adequately enhances the reliability for message delivery depending on TTL.\n\n\\subsection{Computation Complexity of Routing Decision}\nThe computation complexity of TBGR is $O(\\log_2L)$ to have $L$ message copies with $(C_M=1)$ copy ticket.\nThis is because copy tickets is distributed by a binary manner.\n\n\\begin{algorithm}[htbp]\\footnotesize\n\\caption{Routing Process of TBGR}\n\\label{dgs1}\n\\begin{algorithmic}[1]\n\\STATE set $(C_M=L)$\n\\STATE set $V^T_M$ with an infinitely large value\n\\FOR{each encounter between $N_i$ and $N_j$}\n\\FOR{each $M$ carried by $N_i$}\n\\IF {$N_j$ already has a copy of $M$}\n\\STATE update $V^T_M$ for $M$ including its copy carried by both $N_i$ and $N_j$\n\\ELSIF {$(C_M>1)\\cap(S_j\\neq0)$}\n\\IF {$\\left(V^T_M>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$}\n\\STATE update $V^T_M$ towards $\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}$\n\\STATE replicate $M$ to $N_j$ with $\\frac{C_M}{2}$ copy tickets\n\\STATE keep $\\left(C_M-\\frac{C_M}{2}\\right)$ copy tickets for $M$ in $N_i$\n\\ELSIF {$\\left(V^T_M>T^{ini}_M-T^{ela}_M\\right)$}\n\\STATE replicate $M$ to $N_j$ with $\\frac{C_M}{2}$ copy tickets\n\\STATE keep $\\left(C_M-\\frac{C_M}{2}\\right)$ copy tickets for $M$ in $N_i$\n\\ENDIF\n\\ENDIF\n\\ENDFOR\n\\ENDFOR\n\\end{algorithmic}\n\\end{algorithm}\n\n\\subsection{Analysis}\nWe consider the Random WayPoint (RWP) mobility model, where the meeting times of nodes are assumed to be Independent and Identically Distributed (IID) exponential random variables.\nThis follows homogeneous nodal mobility as assumed for TBGR.\nHere, the number of nodes in a network is denoted as $K$.\nThe contention of the limited bandwidth and buffer space is not taken into account, as we are mainly concerned with the routing nature of TBGR.\n\nThe version that TBGR without local maximum handling but with different policies for distributing copy tickets $C_M$, are named as S-TBGR which distributes $(C_M=1$) and B-TBGR which distributes $\\frac{C_M}{2}$, respectively.\nHere, we name the S-TBGR without improving routing reliability and local maximum handling, as S-A-Better-Geographic-Relay (S-ABGR).\n\n\n\\begin{theorem}\nS-TBGR achieves a higher message delivery ratio than S-ABGR.\n\\label{t1}\n\\end{theorem}\n\\begin{proof}\nConsidering there is single message which can be replicated with additional $(L-1)$ copies, its delivery probability $P_M$ is calculated\nas:\n\n", "itemtype": "equation", "pos": 24151, "prevtext": "\nHere, $T^{ela}_M$ is denoted as the elapsed time since message generation, while $T^{ini}_M$ is denoted as the initialized message lifetime.\nThus, $(T^{ini}_M-T^{ela}_M)$ is calculated as the TTL of message.\n\nSince for message delivery before its TTL, $\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}$ should not be longer than $\\left(T^{ini}_M-T^{ela}_M\\right)$.\nTherefore, giving a message copy to $N_j$ with $\\frac{C_M}{2}$ copy tickets distributed, is thus performed when $\\left(\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}>T^{ini}_M-T^{ela}_M\\right)$.\nThis hopes that $N_j$ would encounter other nodes that with a shorter time to intersect $N_d$ at the upcoming encounter.\n\nFurthermore, we convert conditions $\\left(\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}>T^{ini}_M-T^{ela}_M\\right)\\cap\\left(\\phi_{i,d}<\\frac{\\pi}{2}\\right)$ into:\n\n", "index": 7, "text": "\\begin{equation}\\footnotesize\n\\left(V^T_M>T^{ini}_M-T^{ela}_M\\right)\\\n\\label{local1}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E4.m1\" class=\"ltx_Math\" alttext=\"\\footnotesize\\left(V^{T}_{M}&gt;T^{ini}_{M}-T^{ela}_{M}\\right)\\ \" display=\"block\"><mrow><mo>(</mo><mrow><msubsup><mi mathsize=\"80%\">V</mi><mi mathsize=\"80%\">M</mi><mi mathsize=\"80%\">T</mi></msubsup><mo mathsize=\"80%\" stretchy=\"false\">&gt;</mo><mrow><msubsup><mi mathsize=\"80%\">T</mi><mi mathsize=\"80%\">M</mi><mrow><mi mathsize=\"80%\">i</mi><mo>\u2062</mo><mi mathsize=\"80%\">n</mi><mo>\u2062</mo><mi mathsize=\"80%\">i</mi></mrow></msubsup><mo mathsize=\"80%\" stretchy=\"false\">-</mo><msubsup><mi mathsize=\"80%\">T</mi><mi mathsize=\"80%\">M</mi><mrow><mi mathsize=\"80%\">e</mi><mo>\u2062</mo><mi mathsize=\"80%\">l</mi><mo>\u2062</mo><mi mathsize=\"80%\">a</mi></mrow></msubsup></mrow></mrow><mo rspace=\"7.5pt\">)</mo></mrow></math>", "type": "latex"}, {"file": "1601.03555.tex", "nexttext": "\nwhere $L$ is the number of message copies including the original message, meanwhile $P_{(L-1)}$ is the probability that each replicated copy is successfully relayed from the source to the destination.\nThis equation shows a larger $L$ and $P_{(L-1)}$ lead to a higher $P_M$ based on a\ngiven number of nodes $K$ in a network.\nConsidering the RWP mobility model, $\\frac{1}{K-1}$ is the probability that the original message is directly delivered if the message carrier encounters destination. It also equals to the probability that any pairwise nodes encounter.\n\n\\begin{figure}[htbp]\n\\begin{center}\n\\includegraphics[scale=0.43]{2hp.eps}\n\\caption{Message Delivery Process in S-TBGR}\\vspace{-10pt}\n\\label{2hp}\n\\end{center}\n\\end{figure}\n\nSince each message copy is delivered within two hops shown in Fig.\\ref{2hp}, message copies are relayed to the first $(L-1)$ encountered nodes $N_j$.\nThen these messages copies are only delivered when the destination $N_d$ is in proximity.\nIn this case, $P_{(L-1)}$ is calculated as:\n\n", "itemtype": "equation", "pos": 27385, "prevtext": "\nIt is observed that, by removing the condition $\\left(\\phi_{i,d}<\\frac{\\pi}{2}\\right)$ for calculating $\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}$, the condition \\eqref{local1} applied for decision between lines 12 and 14 in Algorithm \\ref{dgs1}, implies that $V^T_M$ as the smallest value of delivery time recorded in the network, is still longer than the TTL.\nNote that updating $V^T_M$ is excluded in this case, due to $\\left(V^T_M\\leq\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)$.\nMeanwhile, since the value of $V^T_M$ is not with an infinitely large value due to $\\left(V^T_M\\leq\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)$, using the historically lowest value of $\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}$ to compare with $(T^{ini}_M-T^{ela}_M)$, adequately enhances the reliability for message delivery depending on TTL.\n\n\\subsection{Computation Complexity of Routing Decision}\nThe computation complexity of TBGR is $O(\\log_2L)$ to have $L$ message copies with $(C_M=1)$ copy ticket.\nThis is because copy tickets is distributed by a binary manner.\n\n\\begin{algorithm}[htbp]\\footnotesize\n\\caption{Routing Process of TBGR}\n\\label{dgs1}\n\\begin{algorithmic}[1]\n\\STATE set $(C_M=L)$\n\\STATE set $V^T_M$ with an infinitely large value\n\\FOR{each encounter between $N_i$ and $N_j$}\n\\FOR{each $M$ carried by $N_i$}\n\\IF {$N_j$ already has a copy of $M$}\n\\STATE update $V^T_M$ for $M$ including its copy carried by both $N_i$ and $N_j$\n\\ELSIF {$(C_M>1)\\cap(S_j\\neq0)$}\n\\IF {$\\left(V^T_M>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$}\n\\STATE update $V^T_M$ towards $\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}$\n\\STATE replicate $M$ to $N_j$ with $\\frac{C_M}{2}$ copy tickets\n\\STATE keep $\\left(C_M-\\frac{C_M}{2}\\right)$ copy tickets for $M$ in $N_i$\n\\ELSIF {$\\left(V^T_M>T^{ini}_M-T^{ela}_M\\right)$}\n\\STATE replicate $M$ to $N_j$ with $\\frac{C_M}{2}$ copy tickets\n\\STATE keep $\\left(C_M-\\frac{C_M}{2}\\right)$ copy tickets for $M$ in $N_i$\n\\ENDIF\n\\ENDIF\n\\ENDFOR\n\\ENDFOR\n\\end{algorithmic}\n\\end{algorithm}\n\n\\subsection{Analysis}\nWe consider the Random WayPoint (RWP) mobility model, where the meeting times of nodes are assumed to be Independent and Identically Distributed (IID) exponential random variables.\nThis follows homogeneous nodal mobility as assumed for TBGR.\nHere, the number of nodes in a network is denoted as $K$.\nThe contention of the limited bandwidth and buffer space is not taken into account, as we are mainly concerned with the routing nature of TBGR.\n\nThe version that TBGR without local maximum handling but with different policies for distributing copy tickets $C_M$, are named as S-TBGR which distributes $(C_M=1$) and B-TBGR which distributes $\\frac{C_M}{2}$, respectively.\nHere, we name the S-TBGR without improving routing reliability and local maximum handling, as S-A-Better-Geographic-Relay (S-ABGR).\n\n\n\\begin{theorem}\nS-TBGR achieves a higher message delivery ratio than S-ABGR.\n\\label{t1}\n\\end{theorem}\n\\begin{proof}\nConsidering there is single message which can be replicated with additional $(L-1)$ copies, its delivery probability $P_M$ is calculated\nas:\n\n", "index": 9, "text": "\\begin{equation}\\footnotesize\nP_M=1-\\left(1-P_L\\right)^L=1-\\left(1-P_{(L-1)}\\right)^{(L-1)}\\times\\frac{1}{K-1}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E5.m1\" class=\"ltx_Math\" alttext=\"\\footnotesize P_{M}=1-\\left(1-P_{L}\\right)^{L}=1-\\left(1-P_{(L-1)}\\right)^{(L-%&#10;1)}\\times\\frac{1}{K-1}\" display=\"block\"><mrow><msub><mi mathsize=\"80%\">P</mi><mi mathsize=\"80%\">M</mi></msub><mo mathsize=\"80%\" stretchy=\"false\">=</mo><mrow><mn mathsize=\"80%\">1</mn><mo mathsize=\"80%\" stretchy=\"false\">-</mo><msup><mrow><mo>(</mo><mrow><mn mathsize=\"80%\">1</mn><mo mathsize=\"80%\" stretchy=\"false\">-</mo><msub><mi mathsize=\"80%\">P</mi><mi mathsize=\"80%\">L</mi></msub></mrow><mo>)</mo></mrow><mi mathsize=\"80%\">L</mi></msup></mrow><mo mathsize=\"80%\" stretchy=\"false\">=</mo><mrow><mn mathsize=\"80%\">1</mn><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mrow><msup><mrow><mo>(</mo><mrow><mn mathsize=\"80%\">1</mn><mo mathsize=\"80%\" stretchy=\"false\">-</mo><msub><mi mathsize=\"80%\">P</mi><mrow><mo maxsize=\"80%\" minsize=\"80%\">(</mo><mrow><mi mathsize=\"80%\">L</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mn mathsize=\"80%\">1</mn></mrow><mo maxsize=\"80%\" minsize=\"80%\">)</mo></mrow></msub></mrow><mo>)</mo></mrow><mrow><mo maxsize=\"80%\" minsize=\"80%\">(</mo><mrow><mi mathsize=\"80%\">L</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mn mathsize=\"80%\">1</mn></mrow><mo maxsize=\"80%\" minsize=\"80%\">)</mo></mrow></msup><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><mfrac><mn mathsize=\"80%\">1</mn><mrow><mi mathsize=\"80%\">K</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mn mathsize=\"80%\">1</mn></mrow></mfrac></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.03555.tex", "nexttext": "\nHere, we have the relaying possibility from $N_j$ to $N_d$, as $(\\lambda_{j,d}=1)$, since message is directly delivered when $N_d$ is met.\n\nRecall that the routing decision of S-ABGR follows conditions \\eqref{con1},  while that of S-TBGR follows conditions \\eqref{con2}.\nHere, S-TBGR has a higher value of $\\lambda_{i,j}$ than S-ABGR.\nThis is because that given $\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$, the probability to meet $\\left(V^T_M>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)$ is 1 because $V^T_M$\nis initialized with an infinitely large value, which is larger than the probability that $\\left(\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\n\\cap\n\\left(\\phi_{i,d}<\\frac{\\pi}{2}\\right)$ as adopted in S-ABGR.\nTherefore, S-TBGR achieves a higher delivery ratio due to a larger $P_{(L-1)}$.\n\\end{proof}\n\n\\begin{theorem}\nS-TBGR achieves a lower delivery delay than S-ABGR.\n\\label{t2}\n\\end{theorem}\n\\begin{proof}\nThe delivery delay of S-ABGR follows:\n\n", "itemtype": "equation", "pos": 28527, "prevtext": "\nwhere $L$ is the number of message copies including the original message, meanwhile $P_{(L-1)}$ is the probability that each replicated copy is successfully relayed from the source to the destination.\nThis equation shows a larger $L$ and $P_{(L-1)}$ lead to a higher $P_M$ based on a\ngiven number of nodes $K$ in a network.\nConsidering the RWP mobility model, $\\frac{1}{K-1}$ is the probability that the original message is directly delivered if the message carrier encounters destination. It also equals to the probability that any pairwise nodes encounter.\n\n\\begin{figure}[htbp]\n\\begin{center}\n\\includegraphics[scale=0.43]{2hp.eps}\n\\caption{Message Delivery Process in S-TBGR}\\vspace{-10pt}\n\\label{2hp}\n\\end{center}\n\\end{figure}\n\nSince each message copy is delivered within two hops shown in Fig.\\ref{2hp}, message copies are relayed to the first $(L-1)$ encountered nodes $N_j$.\nThen these messages copies are only delivered when the destination $N_d$ is in proximity.\nIn this case, $P_{(L-1)}$ is calculated as:\n\n", "index": 11, "text": "\\begin{equation}\\footnotesize\nP_{(L-1)}=\\lambda_{i,j}\\times\\lambda_{j,d}\\times\\left(\\frac{1}{K-1}\\right)^2\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E6.m1\" class=\"ltx_Math\" alttext=\"\\footnotesize P_{(L-1)}=\\lambda_{i,j}\\times\\lambda_{j,d}\\times\\left(\\frac{1}{K%&#10;-1}\\right)^{2}\" display=\"block\"><mrow><msub><mi mathsize=\"80%\">P</mi><mrow><mo maxsize=\"80%\" minsize=\"80%\">(</mo><mrow><mi mathsize=\"80%\">L</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mn mathsize=\"80%\">1</mn></mrow><mo maxsize=\"80%\" minsize=\"80%\">)</mo></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">=</mo><mrow><msub><mi mathsize=\"80%\">\u03bb</mi><mrow><mi mathsize=\"80%\">i</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">j</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><msub><mi mathsize=\"80%\">\u03bb</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><msup><mrow><mo>(</mo><mfrac><mn mathsize=\"80%\">1</mn><mrow><mi mathsize=\"80%\">K</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mn mathsize=\"80%\">1</mn></mrow></mfrac><mo>)</mo></mrow><mn mathsize=\"80%\">2</mn></msup></mrow></mrow></math>", "type": "latex"}, {"file": "1601.03555.tex", "nexttext": "\nIn one case, if any encountered node does not meet conditions \\eqref{con1}, the message is delivered only when the destination is in proximity.\nThis is the same as DD where messages are never relayed by any intermediate node, because messages are only delivered when the destination is in proximity.\nIn another case, the message will be relayed if any encountered node meets conditions \\eqref{con1}.\nThis follows S-SaW where a message will be replicated to the first $(L-1)$ encountered nodes.\nBy means of this, the delivery delay of DD and S-SaW are the lower and upper bounds for that of S-ABGR.\nSince S-TBGR achieves a higher delivery probability than S-ABGR based on Property \\ref{t1}, the former thereby is with a lower delivery delay due to a faster copy dissemination.\n\\end{proof}\n\n\\begin{theorem}\nB-TBGR achieves a lower delivery delay than S-TBGR.\n\\label{t3}\n\\end{theorem}\n\\begin{proof}\nReferring to \\cite{4430784}, the delivery delay of S-SaW is given by:\n\n", "itemtype": "equation", "pos": 29651, "prevtext": "\nHere, we have the relaying possibility from $N_j$ to $N_d$, as $(\\lambda_{j,d}=1)$, since message is directly delivered when $N_d$ is met.\n\nRecall that the routing decision of S-ABGR follows conditions \\eqref{con1},  while that of S-TBGR follows conditions \\eqref{con2}.\nHere, S-TBGR has a higher value of $\\lambda_{i,j}$ than S-ABGR.\nThis is because that given $\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$, the probability to meet $\\left(V^T_M>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)$ is 1 because $V^T_M$\nis initialized with an infinitely large value, which is larger than the probability that $\\left(\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\n\\cap\n\\left(\\phi_{i,d}<\\frac{\\pi}{2}\\right)$ as adopted in S-ABGR.\nTherefore, S-TBGR achieves a higher delivery ratio due to a larger $P_{(L-1)}$.\n\\end{proof}\n\n\\begin{theorem}\nS-TBGR achieves a lower delivery delay than S-ABGR.\n\\label{t2}\n\\end{theorem}\n\\begin{proof}\nThe delivery delay of S-ABGR follows:\n\n", "index": 13, "text": "\\begin{equation}\\footnotesize\nDelay_{(DD)}>Delay_{(S-ABGR)}>Delay_{(S-SaW)}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E7.m1\" class=\"ltx_Math\" alttext=\"\\footnotesize Delay_{(DD)}&gt;Delay_{(S-ABGR)}&gt;Delay_{(S-SaW)}\" display=\"block\"><mrow><mrow><mi mathsize=\"80%\">D</mi><mo>\u2062</mo><mi mathsize=\"80%\">e</mi><mo>\u2062</mo><mi mathsize=\"80%\">l</mi><mo>\u2062</mo><mi mathsize=\"80%\">a</mi><mo>\u2062</mo><msub><mi mathsize=\"80%\">y</mi><mrow><mo maxsize=\"80%\" minsize=\"80%\">(</mo><mrow><mi mathsize=\"80%\">D</mi><mo>\u2062</mo><mi mathsize=\"80%\">D</mi></mrow><mo maxsize=\"80%\" minsize=\"80%\">)</mo></mrow></msub></mrow><mo mathsize=\"80%\" stretchy=\"false\">&gt;</mo><mrow><mi mathsize=\"80%\">D</mi><mo>\u2062</mo><mi mathsize=\"80%\">e</mi><mo>\u2062</mo><mi mathsize=\"80%\">l</mi><mo>\u2062</mo><mi mathsize=\"80%\">a</mi><mo>\u2062</mo><msub><mi mathsize=\"80%\">y</mi><mrow><mo maxsize=\"80%\" minsize=\"80%\">(</mo><mrow><mi mathsize=\"80%\">S</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mrow><mi mathsize=\"80%\">A</mi><mo>\u2062</mo><mi mathsize=\"80%\">B</mi><mo>\u2062</mo><mi mathsize=\"80%\">G</mi><mo>\u2062</mo><mi mathsize=\"80%\">R</mi></mrow></mrow><mo maxsize=\"80%\" minsize=\"80%\">)</mo></mrow></msub></mrow><mo mathsize=\"80%\" stretchy=\"false\">&gt;</mo><mrow><mi mathsize=\"80%\">D</mi><mo>\u2062</mo><mi mathsize=\"80%\">e</mi><mo>\u2062</mo><mi mathsize=\"80%\">l</mi><mo>\u2062</mo><mi mathsize=\"80%\">a</mi><mo>\u2062</mo><msub><mi mathsize=\"80%\">y</mi><mrow><mo maxsize=\"80%\" minsize=\"80%\">(</mo><mrow><mi mathsize=\"80%\">S</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mrow><mi mathsize=\"80%\">S</mi><mo>\u2062</mo><mi mathsize=\"80%\">a</mi><mo>\u2062</mo><mi mathsize=\"80%\">W</mi></mrow></mrow><mo maxsize=\"80%\" minsize=\"80%\">)</mo></mrow></msub></mrow></mrow></math>", "type": "latex"}, {"file": "1601.03555.tex", "nexttext": "\nwhere $H$ is the distribution depth as shown in Fig.\\ref{sprayprocess}, $EMT$ is the expected meeting time under the RWP mobility model.\nMeanwhile, $\\left(EW=\\frac{EMT}{L}\\right)$ is defined as expected duration that a message copy is delivered if the destination is in proximity.\n\n\\begin{figure}[htbp]\n\\begin{center}\n\\includegraphics[width=8cm,height=4.3cm]{spraytree.eps}\n\\caption{Distributing Message Copies in S-TBGR and B-TBGR}\\vspace{-10pt}\n\\label{sprayprocess}\n\\end{center}\n\\end{figure}\n\nNote that the expected time until one of another $(L-H)$ message copy is distributed, equals to the time until the source node meets one of $(K-H)$ nodes which does not have this message. Therefore, the total delay for distributing $(L-1)$ copies is $\\sum^{L-1}_{H=1}\\frac{EMT}{K-H}$.\nMeanwhile, $\\left(\\left(1-\\frac{L-1}{K-1}\\right)\\times EW=\\left(\\frac{K-L}{K-1}\\right)\\times EW\\right)$ equals to the delay for encountering destination, meaning that destination is not in the first $(L-1)$ encountered nodes.\n\nRather than replicating a message copy with $(C_M=1)$ in S-SaW, a copy is conditionally replicated in S-TBGR if the encountered node meets conditions \\eqref{con2}.\nHere, we denote a general relaying possibility $\\lambda\\in[0,1]$ to simplify analysis, where $\\lambda$ might be different by comparing geographic utility metrics between pairwise nodes.\nAs such, we have:\n\n", "itemtype": "equation", "pos": 30708, "prevtext": "\nIn one case, if any encountered node does not meet conditions \\eqref{con1}, the message is delivered only when the destination is in proximity.\nThis is the same as DD where messages are never relayed by any intermediate node, because messages are only delivered when the destination is in proximity.\nIn another case, the message will be relayed if any encountered node meets conditions \\eqref{con1}.\nThis follows S-SaW where a message will be replicated to the first $(L-1)$ encountered nodes.\nBy means of this, the delivery delay of DD and S-SaW are the lower and upper bounds for that of S-ABGR.\nSince S-TBGR achieves a higher delivery probability than S-ABGR based on Property \\ref{t1}, the former thereby is with a lower delivery delay due to a faster copy dissemination.\n\\end{proof}\n\n\\begin{theorem}\nB-TBGR achieves a lower delivery delay than S-TBGR.\n\\label{t3}\n\\end{theorem}\n\\begin{proof}\nReferring to \\cite{4430784}, the delivery delay of S-SaW is given by:\n\n", "index": 15, "text": "\\begin{equation}\\footnotesize\nDelay_{(S-SaW)}=\\sum^{L-1}_{H=1}\\frac{EMT}{K-H}+\\left(\\frac{K-L}{K-1}\\right)\\times EW\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E8.m1\" class=\"ltx_Math\" alttext=\"\\footnotesize Delay_{(S-SaW)}=\\sum^{L-1}_{H=1}\\frac{EMT}{K-H}+\\left(\\frac{K-L}%&#10;{K-1}\\right)\\times EW\" display=\"block\"><mrow><mrow><mi mathsize=\"80%\">D</mi><mo>\u2062</mo><mi mathsize=\"80%\">e</mi><mo>\u2062</mo><mi mathsize=\"80%\">l</mi><mo>\u2062</mo><mi mathsize=\"80%\">a</mi><mo>\u2062</mo><msub><mi mathsize=\"80%\">y</mi><mrow><mo maxsize=\"80%\" minsize=\"80%\">(</mo><mrow><mi mathsize=\"80%\">S</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mrow><mi mathsize=\"80%\">S</mi><mo>\u2062</mo><mi mathsize=\"80%\">a</mi><mo>\u2062</mo><mi mathsize=\"80%\">W</mi></mrow></mrow><mo maxsize=\"80%\" minsize=\"80%\">)</mo></mrow></msub></mrow><mo mathsize=\"80%\" stretchy=\"false\">=</mo><mrow><mrow><munderover><mo largeop=\"true\" mathsize=\"80%\" movablelimits=\"false\" stretchy=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi mathsize=\"80%\">H</mi><mo mathsize=\"80%\" stretchy=\"false\">=</mo><mn mathsize=\"80%\">1</mn></mrow><mrow><mi mathsize=\"80%\">L</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mn mathsize=\"80%\">1</mn></mrow></munderover><mfrac><mrow><mi mathsize=\"80%\">E</mi><mo>\u2062</mo><mi mathsize=\"80%\">M</mi><mo>\u2062</mo><mi mathsize=\"80%\">T</mi></mrow><mrow><mi mathsize=\"80%\">K</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mi mathsize=\"80%\">H</mi></mrow></mfrac></mrow><mo mathsize=\"80%\" stretchy=\"false\">+</mo><mrow><mrow><mrow><mo>(</mo><mfrac><mrow><mi mathsize=\"80%\">K</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mi mathsize=\"80%\">L</mi></mrow><mrow><mi mathsize=\"80%\">K</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mn mathsize=\"80%\">1</mn></mrow></mfrac><mo>)</mo></mrow><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><mi mathsize=\"80%\">E</mi></mrow><mo>\u2062</mo><mi mathsize=\"80%\">W</mi></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.03555.tex", "nexttext": "\nNext, we extend above derivation for $Delay_{(B-TBGR)}$, as:\n\n", "itemtype": "equation", "pos": 32214, "prevtext": "\nwhere $H$ is the distribution depth as shown in Fig.\\ref{sprayprocess}, $EMT$ is the expected meeting time under the RWP mobility model.\nMeanwhile, $\\left(EW=\\frac{EMT}{L}\\right)$ is defined as expected duration that a message copy is delivered if the destination is in proximity.\n\n\\begin{figure}[htbp]\n\\begin{center}\n\\includegraphics[width=8cm,height=4.3cm]{spraytree.eps}\n\\caption{Distributing Message Copies in S-TBGR and B-TBGR}\\vspace{-10pt}\n\\label{sprayprocess}\n\\end{center}\n\\end{figure}\n\nNote that the expected time until one of another $(L-H)$ message copy is distributed, equals to the time until the source node meets one of $(K-H)$ nodes which does not have this message. Therefore, the total delay for distributing $(L-1)$ copies is $\\sum^{L-1}_{H=1}\\frac{EMT}{K-H}$.\nMeanwhile, $\\left(\\left(1-\\frac{L-1}{K-1}\\right)\\times EW=\\left(\\frac{K-L}{K-1}\\right)\\times EW\\right)$ equals to the delay for encountering destination, meaning that destination is not in the first $(L-1)$ encountered nodes.\n\nRather than replicating a message copy with $(C_M=1)$ in S-SaW, a copy is conditionally replicated in S-TBGR if the encountered node meets conditions \\eqref{con2}.\nHere, we denote a general relaying possibility $\\lambda\\in[0,1]$ to simplify analysis, where $\\lambda$ might be different by comparing geographic utility metrics between pairwise nodes.\nAs such, we have:\n\n", "index": 17, "text": "\\begin{equation}\\footnotesize\nDelay_{(S-TBGR)}=\\sum^{L-1}_{H=1}\\frac{EMT}{\\lambda\\times(K-H)}+\\left(\\frac{K-L}{K-1}\\right)\\times EW\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E9.m1\" class=\"ltx_Math\" alttext=\"\\footnotesize Delay_{(S-TBGR)}=\\sum^{L-1}_{H=1}\\frac{EMT}{\\lambda\\times(K-H)}+%&#10;\\left(\\frac{K-L}{K-1}\\right)\\times EW\" display=\"block\"><mrow><mrow><mi mathsize=\"80%\">D</mi><mo>\u2062</mo><mi mathsize=\"80%\">e</mi><mo>\u2062</mo><mi mathsize=\"80%\">l</mi><mo>\u2062</mo><mi mathsize=\"80%\">a</mi><mo>\u2062</mo><msub><mi mathsize=\"80%\">y</mi><mrow><mo maxsize=\"80%\" minsize=\"80%\">(</mo><mrow><mi mathsize=\"80%\">S</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mrow><mi mathsize=\"80%\">T</mi><mo>\u2062</mo><mi mathsize=\"80%\">B</mi><mo>\u2062</mo><mi mathsize=\"80%\">G</mi><mo>\u2062</mo><mi mathsize=\"80%\">R</mi></mrow></mrow><mo maxsize=\"80%\" minsize=\"80%\">)</mo></mrow></msub></mrow><mo mathsize=\"80%\" stretchy=\"false\">=</mo><mrow><mrow><munderover><mo largeop=\"true\" mathsize=\"80%\" movablelimits=\"false\" stretchy=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi mathsize=\"80%\">H</mi><mo mathsize=\"80%\" stretchy=\"false\">=</mo><mn mathsize=\"80%\">1</mn></mrow><mrow><mi mathsize=\"80%\">L</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mn mathsize=\"80%\">1</mn></mrow></munderover><mfrac><mrow><mi mathsize=\"80%\">E</mi><mo>\u2062</mo><mi mathsize=\"80%\">M</mi><mo>\u2062</mo><mi mathsize=\"80%\">T</mi></mrow><mrow><mi mathsize=\"80%\">\u03bb</mi><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><mrow><mo maxsize=\"80%\" minsize=\"80%\">(</mo><mrow><mi mathsize=\"80%\">K</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mi mathsize=\"80%\">H</mi></mrow><mo maxsize=\"80%\" minsize=\"80%\">)</mo></mrow></mrow></mfrac></mrow><mo mathsize=\"80%\" stretchy=\"false\">+</mo><mrow><mrow><mrow><mo>(</mo><mfrac><mrow><mi mathsize=\"80%\">K</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mi mathsize=\"80%\">L</mi></mrow><mrow><mi mathsize=\"80%\">K</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mn mathsize=\"80%\">1</mn></mrow></mfrac><mo>)</mo></mrow><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><mi mathsize=\"80%\">E</mi></mrow><mo>\u2062</mo><mi mathsize=\"80%\">W</mi></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.03555.tex", "nexttext": "\nThis is because the number of nodes which have message copies is $2^{H-1}$ at the $H$ distribution depth.\nThen the time for one of these $2^{H-1}$ nodes, relays a message copy to one of $\\left(K-2^{H-1}\\right)$ nodes without message but meets condition \\eqref{con2}, is calculated as $\\frac{EMT}{\\lambda\\times2^{H-1}\\times\\left(K-2^{H-1}\\right)}$.\nNote that $\\left(H_{max}<L-1\\right)$ is the maximum depth required for distributing $(L-1)$ message copies.\nGiven $(H_{max}>2)$ that the message has not been delivered, then we observe $Delay_{(B-TBGR)}$ is lower than $Delay_{(S-TBGR)}$ given Fig.\\ref{sprayprocess}.\nIn other words, B-TBGR distributes more message copies than S-TBGR given the same depth, which contributes to a lower delivery delay.\n\\end{proof}\n\n\\begin{theorem}\nThe proposed approach for handling the local maximum problem enhances the routing reliability and reduces the delivery delay.\n\\label{t4}\n\\end{theorem}\n\\begin{proof}\nBy jointly referring to Property \\ref{t2} and Property \\ref{t3}, a faster distributing $C_M$ until $(C_M=1)$ achieves a higher delivery probability and a lower delivery delay, with a trade-off of higher overhead.\nHowever, since the total number of message copies is limited, TBGR outperforms B-TBGR if the TTL is finite.\n\\end{proof}\n\n\n\n\\begin{theorem}\nThe routing decision in TBGR is tolerant to nodal activity.\n\\label{t5}\n\\end{theorem}\n\\begin{proof}\nwe further discuss our investigation regarding DF in another case, where S-ABGR also does not consider the case that the message carrier $N_i$ is temporarily stationary even if the encountered node $N_j$ is good to relay messages.\n\nIn this case, the conditions that S-ABGR replicates messages follow:\n\n", "itemtype": "equation", "pos": 32422, "prevtext": "\nNext, we extend above derivation for $Delay_{(B-TBGR)}$, as:\n\n", "index": 19, "text": "\\begin{equation}\\footnotesize\nDelay_{(B-TBGR)}=\\sum^{H_{max}}_{H=1}\\frac{EMT}{\\lambda\\times2^{H-1}\\times \\left(K-2^{H-1}\\right)}+\\left(\\frac{K-L}{K-1}\\right)\\times EW\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E10.m1\" class=\"ltx_Math\" alttext=\"\\footnotesize Delay_{(B-TBGR)}=\\sum^{H_{max}}_{H=1}\\frac{EMT}{\\lambda\\times 2^%&#10;{H-1}\\times\\left(K-2^{H-1}\\right)}+\\left(\\frac{K-L}{K-1}\\right)\\times EW\" display=\"block\"><mrow><mrow><mi mathsize=\"80%\">D</mi><mo>\u2062</mo><mi mathsize=\"80%\">e</mi><mo>\u2062</mo><mi mathsize=\"80%\">l</mi><mo>\u2062</mo><mi mathsize=\"80%\">a</mi><mo>\u2062</mo><msub><mi mathsize=\"80%\">y</mi><mrow><mo maxsize=\"80%\" minsize=\"80%\">(</mo><mrow><mi mathsize=\"80%\">B</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mrow><mi mathsize=\"80%\">T</mi><mo>\u2062</mo><mi mathsize=\"80%\">B</mi><mo>\u2062</mo><mi mathsize=\"80%\">G</mi><mo>\u2062</mo><mi mathsize=\"80%\">R</mi></mrow></mrow><mo maxsize=\"80%\" minsize=\"80%\">)</mo></mrow></msub></mrow><mo mathsize=\"80%\" stretchy=\"false\">=</mo><mrow><mrow><munderover><mo largeop=\"true\" mathsize=\"80%\" movablelimits=\"false\" stretchy=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi mathsize=\"80%\">H</mi><mo mathsize=\"80%\" stretchy=\"false\">=</mo><mn mathsize=\"80%\">1</mn></mrow><msub><mi mathsize=\"80%\">H</mi><mrow><mi mathsize=\"80%\">m</mi><mo>\u2062</mo><mi mathsize=\"80%\">a</mi><mo>\u2062</mo><mi mathsize=\"80%\">x</mi></mrow></msub></munderover><mfrac><mrow><mi mathsize=\"80%\">E</mi><mo>\u2062</mo><mi mathsize=\"80%\">M</mi><mo>\u2062</mo><mi mathsize=\"80%\">T</mi></mrow><mrow><mi mathsize=\"80%\">\u03bb</mi><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><msup><mn mathsize=\"80%\">2</mn><mrow><mi mathsize=\"80%\">H</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mn mathsize=\"80%\">1</mn></mrow></msup><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><mrow><mo>(</mo><mrow><mi mathsize=\"80%\">K</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><msup><mn mathsize=\"80%\">2</mn><mrow><mi mathsize=\"80%\">H</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mn mathsize=\"80%\">1</mn></mrow></msup></mrow><mo>)</mo></mrow></mrow></mfrac></mrow><mo mathsize=\"80%\" stretchy=\"false\">+</mo><mrow><mrow><mrow><mo>(</mo><mfrac><mrow><mi mathsize=\"80%\">K</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mi mathsize=\"80%\">L</mi></mrow><mrow><mi mathsize=\"80%\">K</mi><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mn mathsize=\"80%\">1</mn></mrow></mfrac><mo>)</mo></mrow><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><mi mathsize=\"80%\">E</mi></mrow><mo>\u2062</mo><mi mathsize=\"80%\">W</mi></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.03555.tex", "nexttext": "\nThe conditions that S-TBGR replicates messages follow:\n\n", "itemtype": "equation", "pos": 34299, "prevtext": "\nThis is because the number of nodes which have message copies is $2^{H-1}$ at the $H$ distribution depth.\nThen the time for one of these $2^{H-1}$ nodes, relays a message copy to one of $\\left(K-2^{H-1}\\right)$ nodes without message but meets condition \\eqref{con2}, is calculated as $\\frac{EMT}{\\lambda\\times2^{H-1}\\times\\left(K-2^{H-1}\\right)}$.\nNote that $\\left(H_{max}<L-1\\right)$ is the maximum depth required for distributing $(L-1)$ message copies.\nGiven $(H_{max}>2)$ that the message has not been delivered, then we observe $Delay_{(B-TBGR)}$ is lower than $Delay_{(S-TBGR)}$ given Fig.\\ref{sprayprocess}.\nIn other words, B-TBGR distributes more message copies than S-TBGR given the same depth, which contributes to a lower delivery delay.\n\\end{proof}\n\n\\begin{theorem}\nThe proposed approach for handling the local maximum problem enhances the routing reliability and reduces the delivery delay.\n\\label{t4}\n\\end{theorem}\n\\begin{proof}\nBy jointly referring to Property \\ref{t2} and Property \\ref{t3}, a faster distributing $C_M$ until $(C_M=1)$ achieves a higher delivery probability and a lower delivery delay, with a trade-off of higher overhead.\nHowever, since the total number of message copies is limited, TBGR outperforms B-TBGR if the TTL is finite.\n\\end{proof}\n\n\n\n\\begin{theorem}\nThe routing decision in TBGR is tolerant to nodal activity.\n\\label{t5}\n\\end{theorem}\n\\begin{proof}\nwe further discuss our investigation regarding DF in another case, where S-ABGR also does not consider the case that the message carrier $N_i$ is temporarily stationary even if the encountered node $N_j$ is good to relay messages.\n\nIn this case, the conditions that S-ABGR replicates messages follow:\n\n", "index": 21, "text": "\\begin{equation}\\footnotesize\n\\begin{split}\n&\\left(\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left( \\phi_{j,d}<\\frac{\\pi}{2}\\right)\\cap\\left(\\phi_{i,d}<\\frac{\\pi}{2}\\right)\\\\\n&\\cap\\left(S_i\\neq0\\right)\\cap\\left( S_j\\neq 0\\right)\n\\label{c9}\n\\end{split}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E11.m1\" class=\"ltx_Math\" alttext=\"\\footnotesize\\begin{split}&amp;\\displaystyle\\left(\\frac{D_{i,d}-R}{S_{i}\\times\\cos%&#10;\\phi_{i,d}}&gt;\\frac{D_{j,d}-R}{S_{j}\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{%&#10;j,d}&lt;\\frac{\\pi}{2}\\right)\\cap\\left(\\phi_{i,d}&lt;\\frac{\\pi}{2}\\right)\\\\&#10;&amp;\\displaystyle\\cap\\left(S_{i}\\neq 0\\right)\\cap\\left(S_{j}\\neq 0\\right)\\end{split}\" display=\"block\"><mtable columnspacing=\"0pt\" displaystyle=\"true\" rowspacing=\"0pt\"><mtr><mtd/><mtd columnalign=\"left\"><mrow><mrow><mo>(</mo><mfrac><mrow><msub><mi mathsize=\"80%\">D</mi><mrow><mi mathsize=\"80%\">i</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mi mathsize=\"80%\">R</mi></mrow><mrow><msub><mi mathsize=\"80%\">S</mi><mi mathsize=\"80%\">i</mi></msub><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><mrow><mi mathsize=\"80%\">cos</mi><mo>\u2061</mo><msub><mi mathsize=\"80%\">\u03d5</mi><mrow><mi mathsize=\"80%\">i</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub></mrow></mrow></mfrac><mo mathsize=\"80%\" stretchy=\"false\">&gt;</mo><mfrac><mrow><msub><mi mathsize=\"80%\">D</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mi mathsize=\"80%\">R</mi></mrow><mrow><msub><mi mathsize=\"80%\">S</mi><mi mathsize=\"80%\">j</mi></msub><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><mrow><mi mathsize=\"80%\">cos</mi><mo>\u2061</mo><msub><mi mathsize=\"80%\">\u03d5</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub></mrow></mrow></mfrac><mo>)</mo></mrow><mo mathsize=\"80%\" stretchy=\"false\">\u2229</mo><mrow><mo>(</mo><msub><mi mathsize=\"80%\">\u03d5</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">&lt;</mo><mfrac><mi mathsize=\"80%\">\u03c0</mi><mn mathsize=\"80%\">2</mn></mfrac><mo>)</mo></mrow><mo mathsize=\"80%\" stretchy=\"false\">\u2229</mo><mrow><mo>(</mo><msub><mi mathsize=\"80%\">\u03d5</mi><mrow><mi mathsize=\"80%\">i</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">&lt;</mo><mfrac><mi mathsize=\"80%\">\u03c0</mi><mn mathsize=\"80%\">2</mn></mfrac><mo>)</mo></mrow></mrow></mtd></mtr><mtr><mtd/><mtd columnalign=\"left\"><mrow><mo mathsize=\"80%\" stretchy=\"false\">\u2229</mo><mrow><mo>(</mo><msub><mi mathsize=\"80%\">S</mi><mi mathsize=\"80%\">i</mi></msub><mo mathsize=\"80%\" stretchy=\"false\">\u2260</mo><mn mathsize=\"80%\">0</mn><mo>)</mo></mrow><mo mathsize=\"80%\" stretchy=\"false\">\u2229</mo><mrow><mo>(</mo><msub><mi mathsize=\"80%\">S</mi><mi mathsize=\"80%\">j</mi></msub><mo mathsize=\"80%\" stretchy=\"false\">\u2260</mo><mn mathsize=\"80%\">0</mn><mo>)</mo></mrow></mrow></mtd></mtr></mtable></math>", "type": "latex"}, {"file": "1601.03555.tex", "nexttext": "\nIn light of this, the limitation regarding the temporarily stationary state of $N_i$ is also overcome.\nThis is applicable to TBGR since the way to distribute $C_M$ is independent of utility metric.\nIt is highlighted that any utility metric related to a time to intersect the destination, via either on-hop based prediction as applied in TBGR, or further multi-hops based prediction, is still applicable to TBGR.\nAs such, TBGR can be applied to the network with various degrees on network density.\n\\end{proof}\n\n\n\n\\subsection{Performance Evaluation}\n\nSo far, we have discussed a number of properties for TBGR.\nWe use the Opportunistic Network Environment (ONE) \\cite{onesimulator} version 1.4.1 for evaluation, under the RWP scenario with 1000$\\times$1000 $m^2$ area, consisting of 1 stationary destination located at the center of scenario and 100 mobile nodes with the constant 5 m/s moving speed.\nNote that this is a homogeneous scenario where nodal encounter is identical.\nThe communication technique is set with 10m transmission range and 2 Mbit/s bandwidth, considering as the Bluetooth standard.\n\nHere, we have $(L=10)$ as the initial value of copy ticket, based on the discussion in \\cite{4430784} that choosing $L$ equals to around 10$\\%$ number of mobile nodes in a network.\nMessages are randomly generated from mobile nodes for every 30s, with 1KB size and default 60 minutes lifetime.\nThe configuration guarantees that there is no resource contention for bandwidth and buffer space.\nTo measure the full activity of a network, the message generation ends up before 18000s with additional 3600s to consume unexpired messages.\nWe run the entire simulation for 10 times and plot the results with 95$\\%$ confidence interval.\n\\begin{figure*}[htbp]\n  \\centering\n  \\subfigure[Delivery Ratio]\n  {\n  \\centering\n    \\label{f11}\n    \\includegraphics[width=5.7cm,height=3.5cm]{ttldr.eps}\n    }\n  \\subfigure[Average Delivery Latency]\n  {\n  \\centering\n  \\label{f12}\n  \\includegraphics[width=5.7cm,height=3.5cm]{ttlal.eps}\n  }\n  \\subfigure[Overhead Ratio]\n  {\n  \\centering\n  \\label{f13}\n  \\includegraphics[width=5.7cm,height=3.5cm]{ttlor.eps}\n  }\n  \\caption{Influence of Message Lifetime Given 10m Transmission Range and 5 m/s Moving Speed}\\vspace{-10pt}\n\\end{figure*}\n\n\\begin{figure*}[htbp]\n  \\centering\n  \\subfigure[Moving Speed]\n  {\n  \\centering\n    \\label{f21}\n    \\includegraphics[width=5.7cm,height=3.5cm]{spdr.eps}\n    }\n  \\subfigure[Transmission Range]\n  {\n  \\centering\n    \\label{f22}\n    \\includegraphics[width=5.7cm,height=3.5cm]{trdr.eps}\n    }\n    \\subfigure[Maximum Waiting Time]\n    {\n  \\centering\n    \\label{f23}\n    \\includegraphics[width=5.7cm,height=3.5cm]{wtdr.eps}\n    }\n\n   \n  \n   \n    \n    \n  \\caption{Influence of Moving Speed, Transmission Range and Maximum Waiting Time}\\vspace{-10pt}\n  \\label{2fig}\n\\end{figure*}\n\n\\begin{figure*}[htbp]\n  \\centering\n  \\subfigure[Delivery Ratio]\n  {\n  \\centering\n    \\label{f31}\n    \\includegraphics[width=5.7cm,height=3.5cm]{dr.eps}\n    }\n  \\subfigure[Average Delivery Latency]\n  {\n  \\centering\n    \\label{f32}\n    \\includegraphics[width=5.7cm,height=3.5cm]{al.eps}\n    }\n    \\subfigure[Overhead Ratio]\n    {\n  \\centering\n    \\label{f33}\n    \\includegraphics[width=5.7cm,height=3.5cm]{or.eps}\n    }\n  \\caption{Influence of Handling the Local Maximum Problem}\\vspace{-10pt}\n\\end{figure*}\n\n\nThe evaluation metrics are explained as follows:\n\\begin{itemize}\n\\item \\textbf{Delivery Ratio}: It is the ratio between the number of messages delivered and the total number of messages generated.\n\n\\item \\textbf{Average Delivery Latency}: It is the average delay for a message to be delivered from the source node to its destination.\n\n\\item \\textbf{Overhead Ratio}: It is the ratio between the number of relayed messages (excluding the delivered messages) and the number of delivered messages.\n\\end{itemize}\n\n\\subsubsection{Influence of Message Lifetime}\nHere, S-SaW \\cite{4430784} is the upper bound for S-TBGR and S-ABGR following Property \\ref{t1}.\nThis is because S-SaW blindly replicates $(L-1)$ message copies with $(C_M=1)$ copy ticket distributed, without considering candidate node selection.\nIn Fig.\\ref{f11}, we observe that S-TBGR outperforms S-ABGR in terms of delivery ratio, which follows Property \\ref{t1} as the limitation of routing decision is overcome.\nHere, DD \\cite{1026005} performs as the lower bound since it only relays a message to its destination.\nFollowing Property \\ref{t2}, S-TBGR achieves a lower delivery delay than S-ABGR in Fig.\\ref{f12}, due to that $(L-1)$ message copies are replicated faster.\nIn Fig.\\ref{f13}, S-TBGR achieves a decreased overhead ratio, compared to S-ABGR suffering from an increased overhead ratio.\nThis implies the advantage of S-TBGR lets the best (rather than a better) relay node to keep on distributing message copies.\nHere, note that the overhead ratio of DD is 0 because the message is only relayed to the destination.\n\n\\subsubsection{Influence of Other Conditions}\nConcerning all parameters stated in analysis, we also show the delivery ratio based on varied moving speed and transmission range (with 20 minutes TTL configured) in Fig.\\ref{f21} and Fig.\\ref{f22} respectively, where all the schemes show similar trends compared with their previous results.\nAs discussed by Property \\ref{t5} and illustrated in Fig.\\ref{f23}, the routing performance is affected by the nodal activity (temporary waiting time). Therefore, TBGR can also adapt to the dynamic change of nodal activity.\n\n\n\n\\subsubsection{Influence of Handling the Local Maximum Problem}\nFirst, the comparison between S-TBGR and B-TBGR is shown in Fig.\\ref{f31}, Fig.\\ref{f32} and Fig.\\ref{f33} following Property \\ref{t3}.\nAlthough B-SaW is the upper bound for TBGR, TBGR achieves less than 19.2$\\%$ overhead ratio whereas only with less than 1$\\%$ delivery ratio of B-SaW.\nIn spite of a higher 11.6$\\%$ delivery delay, we conclude the efficiency of TBGR since we refer to a delay tolerant application for data collection.\n\n\n\n\\section{Design of TBHGR}\nIn previous section, we introduced TBGR and discussed its properties based on the RWP mobility model where nodal mobility is homogeneous.\n\\emph{\\textbf{However, the realistic mobility model normally comprises heterogeneity.}}\nFor example, we can envisage a VSNs scenario where drivers often tend to travel within certain areas due to their visiting preference.\nIn such case, the mobility of vehicles would be limited to given areas for the majority of time.\n\\emph{\\textbf{Here, if only relying on the homogeneous nodal mobility, the potential for message delivery to a destination located at other area would be degraded. This is mainly because a message with $(C_M>1)$ copy tickets may never be replicated, to those nodes heading to the area where the destination is located.}}\n\nBased on the design of TBGR and additional notations in TABLE \\ref{table2} and an example shown in Fig.\\ref{exp}, the routing decision in The-Best-Heterogeneity-based-Geographic-Relay (TBHGR) is decoupled into two phases depending on the value of $C_M$.\n\\emph{\\textbf{The Phase-1 relays message copies with $(C_M>1)$ copy tickets towards the area where the destination is located, while the Phase-2 relays message copies with $(C_M=1)$ copy ticket within this area.}\n}\n\n\\begin{figure}[htbp]\n\\begin{center}\n\\includegraphics[scale=0.35]{exp.eps}\n\\caption{An Overview of TBHGR}\\vspace{-10pt}\n\\label{exp}\n\\end{center}\n\\end{figure}\n\n\n\\subsection{Phase-1 of TBHGR}\n\\begin{table}[htbp]\\scriptsize\n\\caption{List of Additional Notations Defined in TBHGR}\\vspace{-10pt}\n\\label{configure}\n\\centering\n\\begin{tabular}{|p{0.7cm}|p{6.6cm}|}\n\\hline\n$D^{\\prime}_{j,d}$ & Projected distance from $N_j$ to $N_d$\\\\\\hline\n$W$ & Time window for estimating the projected distance\\\\\\hline\n$V^D_M$ & Heuristic distance based threshold value used for recoding $D^{\\prime}_{j,d}$\\\\\\hline\n$\\Psi_j$ & A set in $N_j$ recording the list of encountered nodes in the past\\\\\\hline\n$U_M$ & Utility of $M$ \\\\\\hline\n\\end{tabular}\n\\label{table2}\n\\end{table}\n\nAs illustrated in Algorithm \\ref{spray}, a message with $(C_M>1)$ copy tickets is geographically relayed as follows:\n\\subsubsection{$The \\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$ Case}\n\\begin{algorithm}[htbp]\\footnotesize\n\\caption{Phase-1 of TBHGR}\n\\label{spray}\n\\begin{algorithmic}[1]\n\\STATE set $(C_M=L)$\n\\STATE set $V^T_M$ with an infinitely large value\n\\STATE set $V^D_M$ with an infinitely large value\n\\FOR{each encounter between $N_i$ and $N_j$}\n\\FOR{each $M$ carried by $N_i$}\n\\IF {$N_j$ already has a copy of $M$}\n\\STATE update $V^T_M$ and $V^D_M$, for $M$ including its copy carried by both $N_i$ and $N_j$\n\\ELSIF {$(C_M>1)\\cap(S_j\\neq0)$}\n\\IF {$\\left(V^T_M>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)\\cap\\left(N_d\\in\\Psi_j\\right)$}\n\\STATE update $V^T_M$ towards $\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}$\n\\STATE replicate $M$ to $N_j$ with $\\frac{C_M}{2}$ copy tickets\n\\STATE keep $\\left(C_M-\\frac{C_M}{2}\\right)$ copy tickets for $M$ in $N_i$\n\\ELSIF {$\\left(V^T_M>T^{ini}_M-T^{ela}_M\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$}\n\\STATE replicate $M$ to $N_j$ with $\\frac{C_M}{2}$ copy tickets\n\\STATE keep $\\left(C_M-\\frac{C_M}{2}\\right)$ copy tickets for $M$ in $N_i$\n\\ELSIF {$\\left(V^D_M>D^{\\prime}_{j,d}\\right)\\cap\\left(\\phi_{j,d}\\geq\\frac{\\pi}{2}\\right)$}\n\\STATE update $V^D_M$ towards $D^{\\prime}_{j,d}$\n\\STATE replicate $M$ to $N_j$ with $(C_M=1)$ copy ticket\n\\STATE keep $(C_M-1)$ copy tickets for $M$ in $N_i$\n\\ENDIF\n\\ENDIF\n\\ENDFOR\n\\ENDFOR\n\\end{algorithmic}\n\\label{al1}\n\\end{algorithm}\n\nHere, each mobile node maintains a set $\\Psi$ to record a list of its encountered destinations in the past.\nBy jointly considering $(N_d\\in\\Psi_j)$ (meaning $N_j$ had an encounter with $N_d$) and conditions \\eqref{con2}, we have conditions \\eqref{sc} such that a message copy is replicated to $N_j$, with $\\frac{C_M}{2}$ copy tickets distributed.\nThis follows the message relaying process from source node to $N_2$ in Fig.\\ref{exp}.\n\n", "itemtype": "equation", "pos": 34673, "prevtext": "\nThe conditions that S-TBGR replicates messages follow:\n\n", "index": 23, "text": "\\begin{equation}\\footnotesize\n\\left(V^T_{M}>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)\\cap\\left(S_j \\neq0\\right)\n\\label{c10}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E12.m1\" class=\"ltx_Math\" alttext=\"\\footnotesize\\left(V^{T}_{M}&gt;\\frac{D_{j,d}-R}{S_{j}\\times\\cos\\phi_{j,d}}\\right%&#10;)\\cap\\left(\\phi_{j,d}&lt;\\frac{\\pi}{2}\\right)\\cap\\left(S_{j}\\neq 0\\right)\" display=\"block\"><mrow><mrow><mo>(</mo><msubsup><mi mathsize=\"80%\">V</mi><mi mathsize=\"80%\">M</mi><mi mathsize=\"80%\">T</mi></msubsup><mo mathsize=\"80%\" stretchy=\"false\">&gt;</mo><mfrac><mrow><msub><mi mathsize=\"80%\">D</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mi mathsize=\"80%\">R</mi></mrow><mrow><msub><mi mathsize=\"80%\">S</mi><mi mathsize=\"80%\">j</mi></msub><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><mrow><mi mathsize=\"80%\">cos</mi><mo>\u2061</mo><msub><mi mathsize=\"80%\">\u03d5</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub></mrow></mrow></mfrac><mo>)</mo></mrow><mo mathsize=\"80%\" stretchy=\"false\">\u2229</mo><mrow><mo>(</mo><msub><mi mathsize=\"80%\">\u03d5</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">&lt;</mo><mfrac><mi mathsize=\"80%\">\u03c0</mi><mn mathsize=\"80%\">2</mn></mfrac><mo>)</mo></mrow><mo mathsize=\"80%\" stretchy=\"false\">\u2229</mo><mrow><mo>(</mo><msub><mi mathsize=\"80%\">S</mi><mi mathsize=\"80%\">j</mi></msub><mo mathsize=\"80%\" stretchy=\"false\">\u2260</mo><mn mathsize=\"80%\">0</mn><mo>)</mo></mrow></mrow></math>", "type": "latex"}, {"file": "1601.03555.tex", "nexttext": "\nFollowing the presentation between lines 9 and 12 in Algorithm \\ref{spray}, this controls that a message copy with $\\frac{C_M}{2}$ copy tickets is replicated to the node who has preference to visit destination.\nThe motivation is that the node that did not meet $N_d$ in the past, may replicate message copies to other nodes without visiting preference.\nIn the worst case, $N_j$ will never meet $N_d$ even if it knows the location of $N_d$.\nAs such, some of copies would not contribute to delivery, but result in the additional routing overhead.\n\nFurthermore, given the local maximum problem that $N_j$ does not meet conditions \\eqref{sc}, a message copy is conditionally replicated with $\\frac{C_M}{2}$ copy tickets distributed.\nThis happens only if the message will expire before $\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}$ as recorded in $V^T_M$.\nHere, considering the case $N_j$ has encountered $N_d$ in the past but with $\\left(V^T_M\\leq\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)$, the condition $(N_d\\in\\Psi_j)$ is omitted as presented between lines 13 and 15 in Algorithm \\ref{spray}.\nSuch operations increase the possibility to find a node that meets conditions \\eqref{sc}, by searching from heterogeneous nodes with different visiting preferences.\n\n\\subsubsection{The $\\left(\\phi_{j,d}\\geq\\frac{\\pi}{2}\\right)$ Case}\nAs presented between lines 16 and 19 in Algorithm \\ref{spray}, a distance based geographic utility metric is applied if the encountered node $N_j$ is moving away from $N_d$.\nShown in Fig.\\ref{dgrleave}, the projected distance $D^{\\prime}_{j,d}$ measured from $N_d$ to the expected location of $N_j$ is calculated as:\n\n", "itemtype": "equation", "pos": 44870, "prevtext": "\nIn light of this, the limitation regarding the temporarily stationary state of $N_i$ is also overcome.\nThis is applicable to TBGR since the way to distribute $C_M$ is independent of utility metric.\nIt is highlighted that any utility metric related to a time to intersect the destination, via either on-hop based prediction as applied in TBGR, or further multi-hops based prediction, is still applicable to TBGR.\nAs such, TBGR can be applied to the network with various degrees on network density.\n\\end{proof}\n\n\n\n\\subsection{Performance Evaluation}\n\nSo far, we have discussed a number of properties for TBGR.\nWe use the Opportunistic Network Environment (ONE) \\cite{onesimulator} version 1.4.1 for evaluation, under the RWP scenario with 1000$\\times$1000 $m^2$ area, consisting of 1 stationary destination located at the center of scenario and 100 mobile nodes with the constant 5 m/s moving speed.\nNote that this is a homogeneous scenario where nodal encounter is identical.\nThe communication technique is set with 10m transmission range and 2 Mbit/s bandwidth, considering as the Bluetooth standard.\n\nHere, we have $(L=10)$ as the initial value of copy ticket, based on the discussion in \\cite{4430784} that choosing $L$ equals to around 10$\\%$ number of mobile nodes in a network.\nMessages are randomly generated from mobile nodes for every 30s, with 1KB size and default 60 minutes lifetime.\nThe configuration guarantees that there is no resource contention for bandwidth and buffer space.\nTo measure the full activity of a network, the message generation ends up before 18000s with additional 3600s to consume unexpired messages.\nWe run the entire simulation for 10 times and plot the results with 95$\\%$ confidence interval.\n\\begin{figure*}[htbp]\n  \\centering\n  \\subfigure[Delivery Ratio]\n  {\n  \\centering\n    \\label{f11}\n    \\includegraphics[width=5.7cm,height=3.5cm]{ttldr.eps}\n    }\n  \\subfigure[Average Delivery Latency]\n  {\n  \\centering\n  \\label{f12}\n  \\includegraphics[width=5.7cm,height=3.5cm]{ttlal.eps}\n  }\n  \\subfigure[Overhead Ratio]\n  {\n  \\centering\n  \\label{f13}\n  \\includegraphics[width=5.7cm,height=3.5cm]{ttlor.eps}\n  }\n  \\caption{Influence of Message Lifetime Given 10m Transmission Range and 5 m/s Moving Speed}\\vspace{-10pt}\n\\end{figure*}\n\n\\begin{figure*}[htbp]\n  \\centering\n  \\subfigure[Moving Speed]\n  {\n  \\centering\n    \\label{f21}\n    \\includegraphics[width=5.7cm,height=3.5cm]{spdr.eps}\n    }\n  \\subfigure[Transmission Range]\n  {\n  \\centering\n    \\label{f22}\n    \\includegraphics[width=5.7cm,height=3.5cm]{trdr.eps}\n    }\n    \\subfigure[Maximum Waiting Time]\n    {\n  \\centering\n    \\label{f23}\n    \\includegraphics[width=5.7cm,height=3.5cm]{wtdr.eps}\n    }\n\n   \n  \n   \n    \n    \n  \\caption{Influence of Moving Speed, Transmission Range and Maximum Waiting Time}\\vspace{-10pt}\n  \\label{2fig}\n\\end{figure*}\n\n\\begin{figure*}[htbp]\n  \\centering\n  \\subfigure[Delivery Ratio]\n  {\n  \\centering\n    \\label{f31}\n    \\includegraphics[width=5.7cm,height=3.5cm]{dr.eps}\n    }\n  \\subfigure[Average Delivery Latency]\n  {\n  \\centering\n    \\label{f32}\n    \\includegraphics[width=5.7cm,height=3.5cm]{al.eps}\n    }\n    \\subfigure[Overhead Ratio]\n    {\n  \\centering\n    \\label{f33}\n    \\includegraphics[width=5.7cm,height=3.5cm]{or.eps}\n    }\n  \\caption{Influence of Handling the Local Maximum Problem}\\vspace{-10pt}\n\\end{figure*}\n\n\nThe evaluation metrics are explained as follows:\n\\begin{itemize}\n\\item \\textbf{Delivery Ratio}: It is the ratio between the number of messages delivered and the total number of messages generated.\n\n\\item \\textbf{Average Delivery Latency}: It is the average delay for a message to be delivered from the source node to its destination.\n\n\\item \\textbf{Overhead Ratio}: It is the ratio between the number of relayed messages (excluding the delivered messages) and the number of delivered messages.\n\\end{itemize}\n\n\\subsubsection{Influence of Message Lifetime}\nHere, S-SaW \\cite{4430784} is the upper bound for S-TBGR and S-ABGR following Property \\ref{t1}.\nThis is because S-SaW blindly replicates $(L-1)$ message copies with $(C_M=1)$ copy ticket distributed, without considering candidate node selection.\nIn Fig.\\ref{f11}, we observe that S-TBGR outperforms S-ABGR in terms of delivery ratio, which follows Property \\ref{t1} as the limitation of routing decision is overcome.\nHere, DD \\cite{1026005} performs as the lower bound since it only relays a message to its destination.\nFollowing Property \\ref{t2}, S-TBGR achieves a lower delivery delay than S-ABGR in Fig.\\ref{f12}, due to that $(L-1)$ message copies are replicated faster.\nIn Fig.\\ref{f13}, S-TBGR achieves a decreased overhead ratio, compared to S-ABGR suffering from an increased overhead ratio.\nThis implies the advantage of S-TBGR lets the best (rather than a better) relay node to keep on distributing message copies.\nHere, note that the overhead ratio of DD is 0 because the message is only relayed to the destination.\n\n\\subsubsection{Influence of Other Conditions}\nConcerning all parameters stated in analysis, we also show the delivery ratio based on varied moving speed and transmission range (with 20 minutes TTL configured) in Fig.\\ref{f21} and Fig.\\ref{f22} respectively, where all the schemes show similar trends compared with their previous results.\nAs discussed by Property \\ref{t5} and illustrated in Fig.\\ref{f23}, the routing performance is affected by the nodal activity (temporary waiting time). Therefore, TBGR can also adapt to the dynamic change of nodal activity.\n\n\n\n\\subsubsection{Influence of Handling the Local Maximum Problem}\nFirst, the comparison between S-TBGR and B-TBGR is shown in Fig.\\ref{f31}, Fig.\\ref{f32} and Fig.\\ref{f33} following Property \\ref{t3}.\nAlthough B-SaW is the upper bound for TBGR, TBGR achieves less than 19.2$\\%$ overhead ratio whereas only with less than 1$\\%$ delivery ratio of B-SaW.\nIn spite of a higher 11.6$\\%$ delivery delay, we conclude the efficiency of TBGR since we refer to a delay tolerant application for data collection.\n\n\n\n\\section{Design of TBHGR}\nIn previous section, we introduced TBGR and discussed its properties based on the RWP mobility model where nodal mobility is homogeneous.\n\\emph{\\textbf{However, the realistic mobility model normally comprises heterogeneity.}}\nFor example, we can envisage a VSNs scenario where drivers often tend to travel within certain areas due to their visiting preference.\nIn such case, the mobility of vehicles would be limited to given areas for the majority of time.\n\\emph{\\textbf{Here, if only relying on the homogeneous nodal mobility, the potential for message delivery to a destination located at other area would be degraded. This is mainly because a message with $(C_M>1)$ copy tickets may never be replicated, to those nodes heading to the area where the destination is located.}}\n\nBased on the design of TBGR and additional notations in TABLE \\ref{table2} and an example shown in Fig.\\ref{exp}, the routing decision in The-Best-Heterogeneity-based-Geographic-Relay (TBHGR) is decoupled into two phases depending on the value of $C_M$.\n\\emph{\\textbf{The Phase-1 relays message copies with $(C_M>1)$ copy tickets towards the area where the destination is located, while the Phase-2 relays message copies with $(C_M=1)$ copy ticket within this area.}\n}\n\n\\begin{figure}[htbp]\n\\begin{center}\n\\includegraphics[scale=0.35]{exp.eps}\n\\caption{An Overview of TBHGR}\\vspace{-10pt}\n\\label{exp}\n\\end{center}\n\\end{figure}\n\n\n\\subsection{Phase-1 of TBHGR}\n\\begin{table}[htbp]\\scriptsize\n\\caption{List of Additional Notations Defined in TBHGR}\\vspace{-10pt}\n\\label{configure}\n\\centering\n\\begin{tabular}{|p{0.7cm}|p{6.6cm}|}\n\\hline\n$D^{\\prime}_{j,d}$ & Projected distance from $N_j$ to $N_d$\\\\\\hline\n$W$ & Time window for estimating the projected distance\\\\\\hline\n$V^D_M$ & Heuristic distance based threshold value used for recoding $D^{\\prime}_{j,d}$\\\\\\hline\n$\\Psi_j$ & A set in $N_j$ recording the list of encountered nodes in the past\\\\\\hline\n$U_M$ & Utility of $M$ \\\\\\hline\n\\end{tabular}\n\\label{table2}\n\\end{table}\n\nAs illustrated in Algorithm \\ref{spray}, a message with $(C_M>1)$ copy tickets is geographically relayed as follows:\n\\subsubsection{$The \\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$ Case}\n\\begin{algorithm}[htbp]\\footnotesize\n\\caption{Phase-1 of TBHGR}\n\\label{spray}\n\\begin{algorithmic}[1]\n\\STATE set $(C_M=L)$\n\\STATE set $V^T_M$ with an infinitely large value\n\\STATE set $V^D_M$ with an infinitely large value\n\\FOR{each encounter between $N_i$ and $N_j$}\n\\FOR{each $M$ carried by $N_i$}\n\\IF {$N_j$ already has a copy of $M$}\n\\STATE update $V^T_M$ and $V^D_M$, for $M$ including its copy carried by both $N_i$ and $N_j$\n\\ELSIF {$(C_M>1)\\cap(S_j\\neq0)$}\n\\IF {$\\left(V^T_M>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)\\cap\\left(N_d\\in\\Psi_j\\right)$}\n\\STATE update $V^T_M$ towards $\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}$\n\\STATE replicate $M$ to $N_j$ with $\\frac{C_M}{2}$ copy tickets\n\\STATE keep $\\left(C_M-\\frac{C_M}{2}\\right)$ copy tickets for $M$ in $N_i$\n\\ELSIF {$\\left(V^T_M>T^{ini}_M-T^{ela}_M\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$}\n\\STATE replicate $M$ to $N_j$ with $\\frac{C_M}{2}$ copy tickets\n\\STATE keep $\\left(C_M-\\frac{C_M}{2}\\right)$ copy tickets for $M$ in $N_i$\n\\ELSIF {$\\left(V^D_M>D^{\\prime}_{j,d}\\right)\\cap\\left(\\phi_{j,d}\\geq\\frac{\\pi}{2}\\right)$}\n\\STATE update $V^D_M$ towards $D^{\\prime}_{j,d}$\n\\STATE replicate $M$ to $N_j$ with $(C_M=1)$ copy ticket\n\\STATE keep $(C_M-1)$ copy tickets for $M$ in $N_i$\n\\ENDIF\n\\ENDIF\n\\ENDFOR\n\\ENDFOR\n\\end{algorithmic}\n\\label{al1}\n\\end{algorithm}\n\nHere, each mobile node maintains a set $\\Psi$ to record a list of its encountered destinations in the past.\nBy jointly considering $(N_d\\in\\Psi_j)$ (meaning $N_j$ had an encounter with $N_d$) and conditions \\eqref{con2}, we have conditions \\eqref{sc} such that a message copy is replicated to $N_j$, with $\\frac{C_M}{2}$ copy tickets distributed.\nThis follows the message relaying process from source node to $N_2$ in Fig.\\ref{exp}.\n\n", "index": 25, "text": "\\begin{equation}\\footnotesize\n\\left(V^T_M>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)\\cap\\left(N_d\\in \\Psi_j\\right)\n\\label{sc}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E13.m1\" class=\"ltx_Math\" alttext=\"\\footnotesize\\left(V^{T}_{M}&gt;\\frac{D_{j,d}-R}{S_{j}\\times\\cos\\phi_{j,d}}\\right%&#10;)\\cap\\left(\\phi_{j,d}&lt;\\frac{\\pi}{2}\\right)\\cap\\left(N_{d}\\in\\Psi_{j}\\right)\" display=\"block\"><mrow><mrow><mo>(</mo><msubsup><mi mathsize=\"80%\">V</mi><mi mathsize=\"80%\">M</mi><mi mathsize=\"80%\">T</mi></msubsup><mo mathsize=\"80%\" stretchy=\"false\">&gt;</mo><mfrac><mrow><msub><mi mathsize=\"80%\">D</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mi mathsize=\"80%\">R</mi></mrow><mrow><msub><mi mathsize=\"80%\">S</mi><mi mathsize=\"80%\">j</mi></msub><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><mrow><mi mathsize=\"80%\">cos</mi><mo>\u2061</mo><msub><mi mathsize=\"80%\">\u03d5</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub></mrow></mrow></mfrac><mo>)</mo></mrow><mo mathsize=\"80%\" stretchy=\"false\">\u2229</mo><mrow><mo>(</mo><msub><mi mathsize=\"80%\">\u03d5</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">&lt;</mo><mfrac><mi mathsize=\"80%\">\u03c0</mi><mn mathsize=\"80%\">2</mn></mfrac><mo>)</mo></mrow><mo mathsize=\"80%\" stretchy=\"false\">\u2229</mo><mrow><mo>(</mo><msub><mi mathsize=\"80%\">N</mi><mi mathsize=\"80%\">d</mi></msub><mo mathsize=\"80%\" stretchy=\"false\">\u2208</mo><msub><mi mathsize=\"80%\" mathvariant=\"normal\">\u03a8</mi><mi mathsize=\"80%\">j</mi></msub><mo>)</mo></mrow></mrow></math>", "type": "latex"}, {"file": "1601.03555.tex", "nexttext": "\nGiven the nodal movement within a time window $W$, the condition $\\left(D^{\\prime}_{i,d}>D^{\\prime}_{j,d}\\right)$ implies that $N_j$ is closer to $N_d$, thus $N_j$ is selected to prevent message relaying away from $N_d$.\n\n\\begin{figure}[htbp]\n\\begin{center}\n\\includegraphics[scale=0.43]{leave.eps}\n\\caption{Illustration of Projected Distance}\\vspace{-10pt}\n\\label{dgrleave}\n\\end{center}\n\\end{figure}\n\nBased on the previous discussion on DF, we define an additional threshold value $V^D_M$\\footnote[6]{As an additional flag defined in each message, $V^D_M$ is also initialized with an infinitely large value and updated towards the smallest value, similar to $V^T_M$.} to record the value of $D^{\\prime}_{j,d}$, then convert the condition $\\left(D^{\\prime}_{i,d}>D^{\\prime}_{j,d}\\right)$ into $\\left(V^D_M>D^{\\prime}_{j,d}\\right)$.\nNote that the investigation of DF herein also includes the case given $\\left(\\phi_{j,d}\\geq\\frac{\\pi}{2}\\right)\\cap\\left(\\phi_{i,d}<\\frac{\\pi}{2}\\right)$.\nThanks to updating $V^{D}_M$, the relay node will be gradually selected as the one, either with the $\\phi_{j,d}$ close to $\\frac{\\pi}{2}$ or with the smallest $S_j$.\nAs such, the value of $(W\\times\\cos\\phi_{j,d}\\times S_j)$ is quite small, considering the sparse network density and highly dynamic movement.\nEven assuming $(\\phi_{j,d}=\\frac{\\pi}{2})$, the relay node which is closer to $N_d$ will be selected, given that $V^{D}_M$ has been updated to $(D_{j,d}-0-R)$.\n\nSince the message has been relayed with $\\frac{C_M}{2}$ copy tickets in case of $\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$, here a message copy is replicated with only $(C_M=1)$ copy ticket given the condition $\\left(\\phi_{j,d}\\geq\\frac{\\pi}{2}\\right)$.\nThis is because it is beneficial to distribute more copy tickets for replicating towards destination to reduce delivery delay, rather than doing so for replicating away from destination.\nHere, the condition $(N_d\\in \\Psi_j)$ is not limited, for which the motivation is to faster distribute copy tickets to heterogeneous nodes that would encounter $N_d$ in the future.\n\nDifferent from the intention in case of $\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$, it is unnecessary to further handle the local maximum problem given $\\left(V^D_M\\leq D^\\prime_{j,d}\\right)$, as the relaying direction is already away from the destination.\nSince this message with the $\\left(C_M=1\\right)$ copy ticket cannot be replicated, those nodes carrying this message but have not encountered $N_d$, will perform the following Phase-2.\n\n\n\\subsection{Phase-2 of TBHGR}\n\\begin{algorithm}[htbp]\\footnotesize\n\\caption{Phase-2 of TBHGR}\n\\label{relay}\n\\begin{algorithmic}[1]\n\\FOR{each encounter between $N_i$ and $N_j$}\n\\FOR{each $M$ carried by $N_i$}\n\\IF {$N_j$ already has a copy of $M$}\n\\STATE update $V^T_M$ and $V^D_M$ for $M$ including its copy carried by both $N_i$ and $N_j$\n\\ELSIF {$(C_M=1)\\cap(S_j\\neq0)$}\n\\IF {$\\left(V^T_M>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)\\cap(N_d\\in\\Psi_j)$}\n\\STATE update $V^T_M$ towards $\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}$\n\\STATE replicate $M$ to $N_j$\n\\STATE delete $M$ in $N_i$\n\\ELSIF {$\\left(V^T_M>T^{ini}_M-T^{ela}_M\\right)\\cap(N_d\\in\\Psi_j)$}\n\\STATE replicate $M$ to $N_j$\n\\ENDIF\n\\ENDIF\n\\ENDFOR\n\\ENDFOR\n\\end{algorithmic}\n\\label{al1}\n\\end{algorithm}\nAs presented between lines 6 and 9 in Algorithm \\ref{relay}, the message with $(C_M=1)$ copy ticket is relayed without keeping the originally carried message, towards the encountered node meeting conditions \\eqref{sc}.\nFurthermore, the condition $\\left(\\phi_{j,d}\\geq\\frac{\\pi}{2}\\right)$ is not taken into account for routing decision, since relaying such a message away from its destination shall result in redundant routing overhead.\nThis follows the message relaying process from $N_2$ to $N_4$ in Fig.\\ref{exp}.\n\nHere, the value of $V^D_M$ is still updated, as other copies with $(C_M>1)$ copy tickets may still be relayed following conditions \\eqref{projecteddistance}.\nSince the message relaying is unidirectional, the message with $(C_M=1)$ copy ticket is always relayed to the node\nmeets condition \\eqref{sc}.\nThis is also similar to the design of achieving loop free in traditional network, by setting a maximum value, such as hop count to prevent further message relay.\n\nBesides, we consider to handle the local maximum problem as presented between lines 10 and 11 in Algorithm \\ref{relay}.\nThis follows the message relaying process from $N_3$ to $N_5$ in Fig.\\ref{exp}.\nBy relying on the contribution in Section \\uppercase\\expandafter{\\romannumeral3}, conditions $\\left(V^T_M>T^{ini}_M-T^{ela}_M\\right)\\cap\\left(N_d\\in \\Psi_j\\right)$ will let $N_i$ generate a message copy to $N_j$.\nThe motivation of considering $\\left(N_d\\in \\Psi_j\\right)$, is to relay an additional copy to the encountered node which has seen destination.\nThis happens only if the shortest time duration to intersect $N_d$, as the updated value of $V^T_M$, is longer than the expiration deadline $\\left(T^{ini}_M-T^{ela}_M\\right)$.\nNote that the condition $\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$ is not limited herein.\nThis increases the possibility for $N_j$ to encounter other nodes meeting conditions \\eqref{sc}.\n\n\\subsection{Computation Complexity of Routing Decision}\nThe computation complexity follows $O(\\log_2L)\\leq O(TBHGR)\\leq O(L)$, in order to have $L$ message copies with $(C_M=1)$ copy ticket.\nThis is because that, on the one hand, TBHGR requires $L$ times to have $L$ message copies with $(C_M=1)$ copy ticket, if routing decision to replicate each message copy is processed by $\\left(\\phi_{j,d}\\geq\\frac{\\pi}{2}\\right)$ case.\nOn the other hand, $O(\\log_2L)$ is required if processed via $\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$ case.\n\n\n\n\\subsection{Message Transmission}\nAs $\\left(T^{ini}_M-T^{ela}_M\\right)$ is calculated as the remaining message lifetime, a positive value of $\\left(\\left(T^{ini}_M-T^{ela}_M\\right)-V^T_M\\right)$ implies the message can be delivered before its expiration deadline, based on the shortest time duration $\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}$ recorded in the past.\nNote that since $V^T_M$ will not be updated in case of $\\left(\\phi_{j,d}\\geq\\frac{\\pi}{2}\\right)$, $\\frac{\\left(T^{ini}_M-T^{ela}_M\\right)-V^T_M}{\\left(T^{ini}_M-T^{ela}_M\\right)}$ is calculated to consider the probability that each message copy is successfully delivered within the expiration deadline, as $P_{(L-1)}$ discussed in Property \\ref{t1}.\n\nNext, by considering the copy ticket $C_M$, the message with a larger value of $C_M$ implies that it is still allowed for replication.\nHere, since a larger number of message copies will increase the message delivery probability, as discussed in Property \\ref{t1}, the message with a larger value of $C_M$ has a higher potential to be delivered.\n\nBased on the above discussion, the utility $U_M$ to qualify each message is defined as:\n\n", "itemtype": "equation", "pos": 46706, "prevtext": "\nFollowing the presentation between lines 9 and 12 in Algorithm \\ref{spray}, this controls that a message copy with $\\frac{C_M}{2}$ copy tickets is replicated to the node who has preference to visit destination.\nThe motivation is that the node that did not meet $N_d$ in the past, may replicate message copies to other nodes without visiting preference.\nIn the worst case, $N_j$ will never meet $N_d$ even if it knows the location of $N_d$.\nAs such, some of copies would not contribute to delivery, but result in the additional routing overhead.\n\nFurthermore, given the local maximum problem that $N_j$ does not meet conditions \\eqref{sc}, a message copy is conditionally replicated with $\\frac{C_M}{2}$ copy tickets distributed.\nThis happens only if the message will expire before $\\frac{D_{i,d}-R}{S_i\\times\\cos\\phi_{i,d}}$ as recorded in $V^T_M$.\nHere, considering the case $N_j$ has encountered $N_d$ in the past but with $\\left(V^T_M\\leq\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)$, the condition $(N_d\\in\\Psi_j)$ is omitted as presented between lines 13 and 15 in Algorithm \\ref{spray}.\nSuch operations increase the possibility to find a node that meets conditions \\eqref{sc}, by searching from heterogeneous nodes with different visiting preferences.\n\n\\subsubsection{The $\\left(\\phi_{j,d}\\geq\\frac{\\pi}{2}\\right)$ Case}\nAs presented between lines 16 and 19 in Algorithm \\ref{spray}, a distance based geographic utility metric is applied if the encountered node $N_j$ is moving away from $N_d$.\nShown in Fig.\\ref{dgrleave}, the projected distance $D^{\\prime}_{j,d}$ measured from $N_d$ to the expected location of $N_j$ is calculated as:\n\n", "index": 27, "text": "\\begin{equation}\\footnotesize\nD^{\\prime}_{j,d}=D_{j,d}-W\\times\\cos\\phi_{j,d}\\times S_j-R\n\\label{projecteddistance}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E14.m1\" class=\"ltx_Math\" alttext=\"\\footnotesize D^{\\prime}_{j,d}=D_{j,d}-W\\times\\cos\\phi_{j,d}\\times S_{j}-R\" display=\"block\"><mrow><msubsup><mi mathsize=\"80%\">D</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow><mo mathsize=\"80%\" stretchy=\"false\">\u2032</mo></msubsup><mo mathsize=\"80%\" stretchy=\"false\">=</mo><mrow><msub><mi mathsize=\"80%\">D</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mrow><mi mathsize=\"80%\">W</mi><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><mrow><mi mathsize=\"80%\">cos</mi><mo>\u2061</mo><mrow><msub><mi mathsize=\"80%\">\u03d5</mi><mrow><mi mathsize=\"80%\">j</mi><mo mathsize=\"80%\" stretchy=\"false\">,</mo><mi mathsize=\"80%\">d</mi></mrow></msub><mo mathsize=\"80%\" stretchy=\"false\">\u00d7</mo><msub><mi mathsize=\"80%\">S</mi><mi mathsize=\"80%\">j</mi></msub></mrow></mrow></mrow><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mi mathsize=\"80%\">R</mi></mrow></mrow></math>", "type": "latex"}, {"file": "1601.03555.tex", "nexttext": "\nTherefore, $U_M$ implies the potential for message delivery within its remaining lifetime, considering the nodal mobility to intersect destination as well as its number of copies $C_M$.\nHere, the message with the largest $U_M$ is managed with the highest priority for transmission.\nThe key insight behind this is to transmit a message which is still able for replication, while with a long TTL.\n\n\\subsection{Buffer Management}\nIf the remaining buffer space is close to an overflow state, $N_j$ deletes its stored messages from the one with the lowest $U_M$.\nThis operation continues until the space for those received messages from $N_i$ is allocated.\nIn addition, when any message is finally delivered, an ACK\\footnote[7]{Compared with data message, the ACK message is with quite small size that only contains nodal ID (like a ``string\"). Therefore, the bandwidth and buffer space consumed by ACK can be ignored. In fact, the real implementation of ACK is operated as a table list in each node, to record the ID of the delivered messages, rather than recording a whole message copy in this list.} information containing the ID of this message will be generated by destination.\nThis information will be exchanged when any node encounters destination, and recorded locally in a table list.\nThen, an intermediate node has the knowledge of this message ID will check its buffer, and delete the copy of this message.\nA fast dissemination of this knowledge benefits from a highly mobile network characteristic.\n\n\\subsection{Performance Evaluation}\nThe scenario is based on the downtown area of Helsinki city with 4500$\\times$3400 $m^2$ area.\nThis is important to evaluate geographic routing, since nodal speed, direction as well as distance are considered in TBHGR.\nThe moving speed of mobile nodes is randomly chosen from [10$\\sim$50] km/h, and their waiting time varies between [0$\\sim$240]s.\nThe communication technique is set with 30m transmission range and 4 Mbit/s bandwidth, considering as the low power WiFi technology.\n\nEnvisioning for a heterogeneous network, we also assign four types of Points Of Interests (POIs), by default 3 destinations are deployed shown in Fig.\\ref{scenario}, 30 mobile nodes of each group are allocated to each type of POI, with 0.8 probability moving around the POIs and 0.2 probability roaming in the entire network.\nNote that mobile nodes will encounter more likely and frequently due to a high interests to a type of POI.\nHere, those areas consisting of corresponding POIs, while we plot them as ellipses for simplicity.\nNote that even though there is intersection between Area-2 and Area-4, delivering messages from Area-2 to Area-4 is still affected by movement interest.\n\n\\begin{figure}[htbp]\n\\begin{center}\n\\includegraphics[scale=0.5]{TBHGRsceanrio.eps}\n\\caption{The Helsinki City Scenario}\\vspace{-10pt}\n\\label{scenario}\n\\end{center}\n\\end{figure}\n\n\n\nIn addition to B-SaW \\cite{4430784} evaluated in Section \\uppercase\\expandafter{\\romannumeral3}, GeoSpray \\cite{geospray} is a geographic routing scheme envisioning for VSNs scenario while assuming homogeneous nodal mobility. Note that GeoSpray limits the number of copies a message can be replicated.\nBesides, EBRR \\cite{7055213} and EBSR \\cite{7055213} are topological routing schemes proposed for VSNs comprising heterogeneous nodal mobility, where EBSR also limits the number of message copies up to $L$.\n\nThe simulation runs include an initial warm-up period of 3600s before message generation.\nMessages are randomly generated from all mobile nodes for every 30s, with 60 minutes lifetime and 1MB size such that a transmission contention would exist.\nThe nodal buffer space is set to be 40 MB.\nThe $W$ in TBHGR is fixed with 5s, while the $L$ for TBHGR, B-SaW, EBSR and GeoSpray is configured as 12.\nThis also follows \\cite{4430784} that choosing $L$ equals to around 10$\\%$ number of mobile nodes in a network.\nTo measure the full activity of a network, the message generation ends before 39600s with an additional 3600s allowed to consume the unexpired messages.\n\\emph{\\textbf{Since a number of parameters related to routing decision have been discussed in Section \\uppercase\\expandafter{\\romannumeral3} under homogeneous scenario, we here turn to the factor of mobility heterogeneity concerning the visiting preference and distribution of destinations.}}\n\\begin{figure*}[htbp]\n  \\centering\n  \\subfigure[Delivery Ratio]\n  {\n  \\centering\n    \\label{mi1}\n    \\includegraphics[width=5.7cm,height=3.5cm]{midr.eps}\n    }\n  \\subfigure[Average Delivery Latency]\n  {\n  \\centering\n    \\label{mi2}\n    \\includegraphics[width=5.7cm,height=3.5cm]{mial.eps}\n    }\n    \\subfigure[Overhead Ratio]\n    {\n  \\centering\n    \\label{mi3}\n    \\includegraphics[width=5.7cm,height=3.5cm]{mior.eps}\n    }\n  \\caption{Influence of Movement Interest}\\vspace{-10pt}\n\\end{figure*}\n\n\\subsubsection{Influence of Movement Interest}\nIn Fig.\\ref{mi1}, all schemes perform worse in case of 0.8 movement interest, due to that those nodes are highly possible to move around dedicated POIs of areas, rather than just roaming across an entire network.\nAs such, the potential to deliver messages across different areas is reduced greatly.\nWe observe that B-SaW suffers more from performance degrading with an increased movement interest.\nThis is because that it only performs well in case homogeneous nodal mobility, or can be partially reflected by the case with 0.2 movement interest.\nHowever, if nodes are heterogeneous, B-SaW may distribute message copies to $(L-1)$ nodes which never meet destination.\nHere, TBHGR achieves the highest delivery ratio comparing with other schemes which initially limit the number of message copies to $(L-1)$, e.g., B-SaW, EBSR, GeoSpray.\nThis is due to an adequately addressed nodal mobility as well as historical visiting preference.\n\nIn Fig.\\ref{mi2}, all schemes are with a decreased average delivery latency due to delivering a less number of messages.\nHere, TBHGR achieves the lowest value owing to geographically relaying messages under a highly mobile scenario, particularly compared with EBRR which utilizes topological utility metric.\nNote that, TBHGR already achieves a close delivery ratio of EBRR.\n\\emph{\\textbf{The main reason for delay improvement is that the nodal mobility prediction is able to guide routing decision. Different from topological routing like EBRR and EBSR using obsolete historical encounter information, geographic routing instead relies on real-time geographic information with mobility prediction for making routing decision. In DTNs, the large variation of network topology is the main reason degrades performance of topological routing schemes.\nTherefore TBHGR outperforms EBRR, EBSR and GeoSpray.\nBesides, TBHGR outperforms B-SaW because that TBHGR addresses the heterogeneous mobility.}}\n\n\nThe observation in Fig.\\ref{mi3} shows that TBHGR achieves a decreased overhead ratio, by making more use of nodal mobility for message delivery.\nIn contrast, GeoSpray is with an increased value, due to not considering nodal heterogeneity.\nBecause of the same reason, B-SaW results in an increased redundancy that does not contribute to message delivery.\nHere, an important observation is that without limiting the number of copies of a message given low movement interest, would result in much redundancy as performed by EBRR.\nWhile, TBHGR and EBSR are with a smooth tendency by limiting the number of message copies.\n\n\n\n\n\n\n\\subsubsection{Influence of Distribution of Destinations}\nSince previous results are shown given predefined locations of destinations, we further implement a location distribution function depending on the nodal movement interest.\nHere, a certain number of coordinates are selected from the 40 POIs as already illustrated in Fig.\\ref{scenario}.\nMeanwhile, the same number of destinations are distributed with a distance variation to those points.\nFor example, the case with ``7 Des (0 Var)'' indicates the locations of 7 destinations are randomly selected from 40 POIs, without any distance variation.\nThe destinations with ``500 Var'' indicate their locations are with a minimum 500m away from the randomly selected POIs.\nThe underlying map scenario is formed by a number of coordinates, where a link between pairwise coordinates forms a route path.\nThe initial location distribution of a mobile relay can be one of the inherent map coordinates, or any place between pairwise coordinates (on a path).\nHere, considering a destination with 500m distance variation might not be located on a map coordinate, we thus select a map coordinate for the destination which is with the closest distance to this given destination.\nNote that this finalized location also meets the condition that the distance between destination's location and the given POI is larger than 500m.\n\nIn Fig.\\ref{rd1}, results are shown in the case of 2 random seeds, namely Seed-1 and Seed-2.\nOn the one hand, we observe that the number of destinations has less influence on the performance of those routing schemes considering nodal heterogeneity (e.g., TBHGR, EBRR and EBSR).\nOn the other hand, the distance variation between a destination and POI mainly affects routing performance.\nIf a destination is far away from the POI, those routing schemes (e.g., B-SaW, EBSR) of which the message replication is limited by $L$, suffer more from performance fluctuation compared with EBRR.\nIn spite of this, TBHGR achieves a close delivery ratio of EBRR, but with a lower overhead.\n\n\\begin{figure}[htbp]\n\\begin{center}\n\\includegraphics[width=9cm,height=5.3cm]{edgsdesdr.eps}\n\\caption{Delivery Ratio vs Destinations Distribution}\\vspace{-10pt}\n\\label{rd1}\n\\end{center}\n\\end{figure}\n\n\\section{Conclusion}\nThis article addressed the challenges of applying geographic routing in DTNs comprising nodal heterogeneous mobility.\nWe first presented TBGR and generalized its properties in terms of routing reliability under homogeneous scenarios, where nodal mobility is identical.\nUpon this contribution, we next proposed TBHGR for heterogeneous scenarios where nodes have different visiting preference, with the consideration of message scheduling for transmission and storage.\nExtensive results under the Helsinki city scenario envisioning for VSNs, with four types of POIs to form nodal heterogeneity, show the efficiency of TBHGR in terms of a low routing overhead and a lower delivery delay, which benefit from applying geographic information under highly dynamic scenarios.\n\n\\bibliographystyle{IEEEtran}\n\\bibliography{refer}\n\\begin{IEEEbiography}{Yue Cao} received his PhD degree the Institute for Communication Systems formerly known as Centre for Communication Systems Research, at University of Surrey, Guildford, UK in 2013. He is currently a Research Fellow at the ICS. His research interests focus on Delay/Disruption Tolerant Networks, Electric Vehicle (EV) communication, Information Centric Networking (ICN), Device-to-Device (D2D) communication and traffic offloading for cellular systems.\n\\end{IEEEbiography}\n\n\\begin{IEEEbiography}{Kaimin Wei} received the PhD degree in computer science and technology from Beihang University, Beijing, China, in 2014. He is currently an associate research professor at the School of Information Technology, Jinan University. His research interests focus on Delay/Disruption Tolerant Networks, Mobile Social Networks, and Cloud Computing.\n\\end{IEEEbiography}\n\n\n\\begin{IEEEbiography}{Geyong Min} is a Professor of High Performance Computing and Networking in the Department of\nMathematics and Computer Science at the University of Exeter, UK. He received the PhD degree in Computing Science from the University of Glasgow, UK, in 2003. His research interests include Future Internet, Computer Networks, Wireless Communications, Multimedia Systems, Information Security, High Performance Computing, Ubiquitous Computing, Modelling and Performance Engineering.\n\\end{IEEEbiography}\n\n\n\n\\begin{IEEEbiography}{Jian Weng} received the MSc and BSc degrees in computer science and engineering from South China University of Technology, in 2004 and 2000, respectively, and the Ph.D. degree in computer science and engineering from Shanghai Jiao Tong University, in 2008. From April 2008 to March 2010, he was a postdoc in the School of Information Systems, Singapore Management University. Currently, he is a professor and vice dean with the School of Information Technology, Jinan University. He has published more than 60 papers in cryptography conferences and journals, such as CRYPTO, EUROCRYPT, ASIACRYPT, TCC, PKC, CT-RSA, IEEE TDSC, IEEE TIFS, etc. He served as PC co-chairs or PC member for more than 20 international conferences.\n\\end{IEEEbiography}\n\n\\begin{IEEEbiography}{Xin Yang} is currently a PhD Electronic Engineering candidate at Institute for Communication Systems, University of Surrey. He received his BEng Electronic Information Engineering degree from Harbin Institute of Technology, China, and MSc Communication Networks and Software from University of Surrey, UK, in 2013 and 2014 respectively. His current research area include Mobile Ad hoc Networks (MANETs), satellite networks and QoS routing.\n\\end{IEEEbiography}\n\n\n\\begin{IEEEbiography}{Zhili Sun} (Chair of Communication Networking) is a Professor at the Institute for Communication Systems, University of Surrey, Guildford, UK. He obtained his PhD degree from Lancaster University, Lancaster, UK, in 1991. His research interests include wireless and sensor networks, satellite communications, mobile operating systems, traffic engineering, Internet protocols and architecture, QoS, multicast and security.\n\\end{IEEEbiography}\n\n", "itemtype": "equation", "pos": 53744, "prevtext": "\nGiven the nodal movement within a time window $W$, the condition $\\left(D^{\\prime}_{i,d}>D^{\\prime}_{j,d}\\right)$ implies that $N_j$ is closer to $N_d$, thus $N_j$ is selected to prevent message relaying away from $N_d$.\n\n\\begin{figure}[htbp]\n\\begin{center}\n\\includegraphics[scale=0.43]{leave.eps}\n\\caption{Illustration of Projected Distance}\\vspace{-10pt}\n\\label{dgrleave}\n\\end{center}\n\\end{figure}\n\nBased on the previous discussion on DF, we define an additional threshold value $V^D_M$\\footnote[6]{As an additional flag defined in each message, $V^D_M$ is also initialized with an infinitely large value and updated towards the smallest value, similar to $V^T_M$.} to record the value of $D^{\\prime}_{j,d}$, then convert the condition $\\left(D^{\\prime}_{i,d}>D^{\\prime}_{j,d}\\right)$ into $\\left(V^D_M>D^{\\prime}_{j,d}\\right)$.\nNote that the investigation of DF herein also includes the case given $\\left(\\phi_{j,d}\\geq\\frac{\\pi}{2}\\right)\\cap\\left(\\phi_{i,d}<\\frac{\\pi}{2}\\right)$.\nThanks to updating $V^{D}_M$, the relay node will be gradually selected as the one, either with the $\\phi_{j,d}$ close to $\\frac{\\pi}{2}$ or with the smallest $S_j$.\nAs such, the value of $(W\\times\\cos\\phi_{j,d}\\times S_j)$ is quite small, considering the sparse network density and highly dynamic movement.\nEven assuming $(\\phi_{j,d}=\\frac{\\pi}{2})$, the relay node which is closer to $N_d$ will be selected, given that $V^{D}_M$ has been updated to $(D_{j,d}-0-R)$.\n\nSince the message has been relayed with $\\frac{C_M}{2}$ copy tickets in case of $\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$, here a message copy is replicated with only $(C_M=1)$ copy ticket given the condition $\\left(\\phi_{j,d}\\geq\\frac{\\pi}{2}\\right)$.\nThis is because it is beneficial to distribute more copy tickets for replicating towards destination to reduce delivery delay, rather than doing so for replicating away from destination.\nHere, the condition $(N_d\\in \\Psi_j)$ is not limited, for which the motivation is to faster distribute copy tickets to heterogeneous nodes that would encounter $N_d$ in the future.\n\nDifferent from the intention in case of $\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$, it is unnecessary to further handle the local maximum problem given $\\left(V^D_M\\leq D^\\prime_{j,d}\\right)$, as the relaying direction is already away from the destination.\nSince this message with the $\\left(C_M=1\\right)$ copy ticket cannot be replicated, those nodes carrying this message but have not encountered $N_d$, will perform the following Phase-2.\n\n\n\\subsection{Phase-2 of TBHGR}\n\\begin{algorithm}[htbp]\\footnotesize\n\\caption{Phase-2 of TBHGR}\n\\label{relay}\n\\begin{algorithmic}[1]\n\\FOR{each encounter between $N_i$ and $N_j$}\n\\FOR{each $M$ carried by $N_i$}\n\\IF {$N_j$ already has a copy of $M$}\n\\STATE update $V^T_M$ and $V^D_M$ for $M$ including its copy carried by both $N_i$ and $N_j$\n\\ELSIF {$(C_M=1)\\cap(S_j\\neq0)$}\n\\IF {$\\left(V^T_M>\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}\\right)\\cap\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)\\cap(N_d\\in\\Psi_j)$}\n\\STATE update $V^T_M$ towards $\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}$\n\\STATE replicate $M$ to $N_j$\n\\STATE delete $M$ in $N_i$\n\\ELSIF {$\\left(V^T_M>T^{ini}_M-T^{ela}_M\\right)\\cap(N_d\\in\\Psi_j)$}\n\\STATE replicate $M$ to $N_j$\n\\ENDIF\n\\ENDIF\n\\ENDFOR\n\\ENDFOR\n\\end{algorithmic}\n\\label{al1}\n\\end{algorithm}\nAs presented between lines 6 and 9 in Algorithm \\ref{relay}, the message with $(C_M=1)$ copy ticket is relayed without keeping the originally carried message, towards the encountered node meeting conditions \\eqref{sc}.\nFurthermore, the condition $\\left(\\phi_{j,d}\\geq\\frac{\\pi}{2}\\right)$ is not taken into account for routing decision, since relaying such a message away from its destination shall result in redundant routing overhead.\nThis follows the message relaying process from $N_2$ to $N_4$ in Fig.\\ref{exp}.\n\nHere, the value of $V^D_M$ is still updated, as other copies with $(C_M>1)$ copy tickets may still be relayed following conditions \\eqref{projecteddistance}.\nSince the message relaying is unidirectional, the message with $(C_M=1)$ copy ticket is always relayed to the node\nmeets condition \\eqref{sc}.\nThis is also similar to the design of achieving loop free in traditional network, by setting a maximum value, such as hop count to prevent further message relay.\n\nBesides, we consider to handle the local maximum problem as presented between lines 10 and 11 in Algorithm \\ref{relay}.\nThis follows the message relaying process from $N_3$ to $N_5$ in Fig.\\ref{exp}.\nBy relying on the contribution in Section \\uppercase\\expandafter{\\romannumeral3}, conditions $\\left(V^T_M>T^{ini}_M-T^{ela}_M\\right)\\cap\\left(N_d\\in \\Psi_j\\right)$ will let $N_i$ generate a message copy to $N_j$.\nThe motivation of considering $\\left(N_d\\in \\Psi_j\\right)$, is to relay an additional copy to the encountered node which has seen destination.\nThis happens only if the shortest time duration to intersect $N_d$, as the updated value of $V^T_M$, is longer than the expiration deadline $\\left(T^{ini}_M-T^{ela}_M\\right)$.\nNote that the condition $\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$ is not limited herein.\nThis increases the possibility for $N_j$ to encounter other nodes meeting conditions \\eqref{sc}.\n\n\\subsection{Computation Complexity of Routing Decision}\nThe computation complexity follows $O(\\log_2L)\\leq O(TBHGR)\\leq O(L)$, in order to have $L$ message copies with $(C_M=1)$ copy ticket.\nThis is because that, on the one hand, TBHGR requires $L$ times to have $L$ message copies with $(C_M=1)$ copy ticket, if routing decision to replicate each message copy is processed by $\\left(\\phi_{j,d}\\geq\\frac{\\pi}{2}\\right)$ case.\nOn the other hand, $O(\\log_2L)$ is required if processed via $\\left(\\phi_{j,d}<\\frac{\\pi}{2}\\right)$ case.\n\n\n\n\\subsection{Message Transmission}\nAs $\\left(T^{ini}_M-T^{ela}_M\\right)$ is calculated as the remaining message lifetime, a positive value of $\\left(\\left(T^{ini}_M-T^{ela}_M\\right)-V^T_M\\right)$ implies the message can be delivered before its expiration deadline, based on the shortest time duration $\\frac{D_{j,d}-R}{S_j\\times\\cos\\phi_{j,d}}$ recorded in the past.\nNote that since $V^T_M$ will not be updated in case of $\\left(\\phi_{j,d}\\geq\\frac{\\pi}{2}\\right)$, $\\frac{\\left(T^{ini}_M-T^{ela}_M\\right)-V^T_M}{\\left(T^{ini}_M-T^{ela}_M\\right)}$ is calculated to consider the probability that each message copy is successfully delivered within the expiration deadline, as $P_{(L-1)}$ discussed in Property \\ref{t1}.\n\nNext, by considering the copy ticket $C_M$, the message with a larger value of $C_M$ implies that it is still allowed for replication.\nHere, since a larger number of message copies will increase the message delivery probability, as discussed in Property \\ref{t1}, the message with a larger value of $C_M$ has a higher potential to be delivered.\n\nBased on the above discussion, the utility $U_M$ to qualify each message is defined as:\n\n", "index": 29, "text": "\\begin{equation}\\footnotesize\nU_M=1-\\left(1-\\frac{\\left(T^{ini}_M-T^{ela}_M\\right)-V^T_M}{\\left(T^{ini}_M-T^{ela}_M\\right)}\\right)^{C_M}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E15.m1\" class=\"ltx_Math\" alttext=\"\\footnotesize U_{M}=1-\\left(1-\\frac{\\left(T^{ini}_{M}-T^{ela}_{M}\\right)-V^{T}%&#10;_{M}}{\\left(T^{ini}_{M}-T^{ela}_{M}\\right)}\\right)^{C_{M}}\" display=\"block\"><mrow><msub><mi mathsize=\"80%\">U</mi><mi mathsize=\"80%\">M</mi></msub><mo mathsize=\"80%\" stretchy=\"false\">=</mo><mrow><mn mathsize=\"80%\">1</mn><mo mathsize=\"80%\" stretchy=\"false\">-</mo><msup><mrow><mo>(</mo><mrow><mn mathsize=\"80%\">1</mn><mo mathsize=\"80%\" stretchy=\"false\">-</mo><mfrac><mrow><mrow><mo>(</mo><mrow><msubsup><mi mathsize=\"80%\">T</mi><mi mathsize=\"80%\">M</mi><mrow><mi mathsize=\"80%\">i</mi><mo>\u2062</mo><mi mathsize=\"80%\">n</mi><mo>\u2062</mo><mi mathsize=\"80%\">i</mi></mrow></msubsup><mo mathsize=\"80%\" stretchy=\"false\">-</mo><msubsup><mi mathsize=\"80%\">T</mi><mi mathsize=\"80%\">M</mi><mrow><mi mathsize=\"80%\">e</mi><mo>\u2062</mo><mi mathsize=\"80%\">l</mi><mo>\u2062</mo><mi mathsize=\"80%\">a</mi></mrow></msubsup></mrow><mo>)</mo></mrow><mo mathsize=\"80%\" stretchy=\"false\">-</mo><msubsup><mi mathsize=\"80%\">V</mi><mi mathsize=\"80%\">M</mi><mi mathsize=\"80%\">T</mi></msubsup></mrow><mrow><mo>(</mo><mrow><msubsup><mi mathsize=\"80%\">T</mi><mi mathsize=\"80%\">M</mi><mrow><mi mathsize=\"80%\">i</mi><mo>\u2062</mo><mi mathsize=\"80%\">n</mi><mo>\u2062</mo><mi mathsize=\"80%\">i</mi></mrow></msubsup><mo mathsize=\"80%\" stretchy=\"false\">-</mo><msubsup><mi mathsize=\"80%\">T</mi><mi mathsize=\"80%\">M</mi><mrow><mi mathsize=\"80%\">e</mi><mo>\u2062</mo><mi mathsize=\"80%\">l</mi><mo>\u2062</mo><mi mathsize=\"80%\">a</mi></mrow></msubsup></mrow><mo>)</mo></mrow></mfrac></mrow><mo>)</mo></mrow><msub><mi mathsize=\"80%\">C</mi><mi mathsize=\"80%\">M</mi></msub></msup></mrow></mrow></math>", "type": "latex"}]