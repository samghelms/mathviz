[{"file": "1601.01523.tex", "nexttext": "\n\n\\begin{lemm} \\label{faces}\n  Every face has non-negative charge at the end of the procedure.\n\\end{lemm}\n\n\\begin{proof}\n  At the beginning of the procedure, for every $j$-face $f$ we have $c_0(f) = j-4 \\ge 0$ (as $j \\ge 4$). The procedure does not involve $4$-faces. Hence if $j = 4$, then $c_5(f) = c_0(f) = 0$. If $j = 5$, then $f$ gives at most four times $\\frac{1}{4}$ if it is incident to a big vertex and at most five times $\\frac{1}{5}$ otherwise in Step $4$. It follows that $c_5(f) \\ge 0$. If $j \\ge 6$, then $f$ can give $\\frac{1}{3}$ to each of its incident vertices (and so $\\frac{1}{4}$ or $\\frac{1}{5}$) during Step $4$, and $c_5(f) \\ge j-4-\\frac{j}{3} \\ge 0$.\n\\end{proof}\n\n\\begin{lemm} \\label{4+vertices}\n  A $4^+$-vertex never has negative charge.\n\\end{lemm}\n\n\\begin{proof}\n  Consider a $j$-vertex $z$ with $j \\ge 4$. At the beginning, $c_0(z) = j-4 \\ge 0$. We will show that $c_i(z) \\ge 0$ for $i = 1,...,5$.\n\n  \\begin{itemize}\n  \\item\n    Suppose $z$ is a big vertex. Such a vertex only loses charge in Step $1$. Since $j \\ge 8$, we have $c_0(z) \\ge \\frac{j}{2}$. In Step $1$, vertex $z$ loses $\\frac{1}{2}$ for each of its small neighbours, and at most $\\frac{1}{2}$ for each of its big neighbours. Therefore it has more charge than what it gives, and thus it keeps a non-negative charge. \n\n  \\item\n    Suppose $z$ is a small $5^+$-vertex. It does not lose charge in Steps $1$, $3$, $4$ and $5$.\n\n    Suppose $z$ has a big neighbour. It has at most $j-1$ small neighbours, and it has charge at least $\\frac{1}{4}(j-1)$ at the beginning of the procedure, since $j \\ge 5$. Moreover, it receives $\\frac{1}{2}$ from each of its big neighbours in Step $1$. Therefore it does not give more charge that it has in Step~$2$.\n\n    Suppose now that $z$ has no big neighbour. If $z$ is a $5$-vertex, then by Lemma~\\ref{4-5star}, it has at most four $3$-vertices, and $c_2(z)\\ge1-4\\frac{1}{4}\\ge 0$. If $z$ is a $6^+$-vertex, then $c_2(z)\\ge j-4-j\\frac{1}{4}\\ge 0$.\n\n  \\item\n    Suppose $z$ is a $4$-vertex. It does not lose charge in Steps $1$ and $4$. Suppose $z$ gives charge in Step $2$. Consider first that $z$ does not correspond to $v_1$ in Configuration~\\ref{config3}. If $z$ is adjacent to a small vertex that is consecutive (as a neighbour of $z$) to two big neighbours, then $z$ gives at most twice $\\frac{1}{2}$ in Step $2$ and received twice $\\frac{1}{2}$ in Step $1$; hence $c_2(z) \\ge 0$. Otherwise, $z$ gives at most twice $\\frac{1}{4}$ in Step $2$, and received at least once $\\frac{1}{2}$ in Step $1$; hence $c_2(z) \\ge 0$. Let us now consider the case where $z$ corresponds to $v_1$ in Configuration~\\ref{config3}. The vertex $z$ has a big neighbour that gave $\\frac{1}{2}$ to $z$ in Step $1$, and $z$ gives $\\frac{1}{4}$ to two of its neighbours in Step $2$. Therefore $z$ received in Step $1$ at least as much as what it gives in Step $2$.\n\n\n    \\begin{figure}[h]\n      \\begin{center}\n        \\begin{tikzpicture}\n          \\coordinate (u) at (0,0) ;\n          \\coordinate (x) at (2,0) ;\n          \\coordinate (v) at (0,-2) ;\n          \\coordinate (z) at (2,-2) ;\n\n          \\draw (u) node [above left] {$u$} ; \n          \\draw (v) node [below left] {$v$} ; \n          \\draw (z) node [below right] {$z$} ; \n          \\draw (x) node [above right] {$x$} ; \n\n          \\draw (u) -- (v);\n          \\draw (v) -- (z);\n          \\draw (z) -- (x);\n          \\draw (u) -- (x);\n          \\draw (v) -- (0,-2.65);\n          \\draw (z) -- (2.65,-2);\n          \\draw (z) -- (2,-2.65);\n\n          \\draw [fill=black] (v) circle (1.5pt) ; \n          \\draw [fill=black] (z) circle (1.5pt) ;\n          \\draw [fill=white] (u) circle (4pt) ;\n          \\draw [fill=white] (x) circle (1.5pt) ;\n\n        \\end{tikzpicture}~~~~~~\n        \\begin{tikzpicture}\n          \\coordinate (u) at (0,0) ;\n          \\coordinate (u') at (4,0) ;\n          \\coordinate (x) at (2,0) ;\n          \\coordinate (v) at (0,-2) ;\n          \\coordinate (v') at (4,-2) ;\n          \\coordinate (z) at (2,-2) ;\n\n          \\draw (u) node [above left] {$u$} ; \n          \\draw (v) node [below left] {$v$} ; \n          \\draw (u') node [above left] {$u'$} ; \n          \\draw (v') node [below left] {$v'$} ; \n          \\draw (z) node [below right] {$z$} ; \n          \\draw (x) node [above right] {$x$} ; \n\n          \\draw (u) -- (v);\n          \\draw (u') -- (v');\n          \\draw (v) -- (z);\n          \\draw (v') -- (z);\n          \\draw (z) -- (x);\n          \\draw (u) -- (x);\n          \\draw (u') -- (x);\n          \\draw (v) -- (0,-2.65);\n          \\draw (v') -- (4,-2.65);\n          \\draw (z) -- (2,-2.65);\n\n          \\draw [fill=black] (v) circle (1.5pt) ;\n          \\draw [fill=black] (v') circle (1.5pt) ; \n          \\draw [fill=black] (z) circle (1.5pt) ;\n          \\draw [fill=white] (u) circle (4pt) ;\n          \\draw [fill=white] (u') circle (4pt) ;\n          \\draw [fill=white] (x) circle (1.5pt) ;\n\n        \\end{tikzpicture}\n      \\end{center}\n      \\caption{Some configurations that appear in Lemma~\\ref{4+vertices}.}\\label{fig4+vertices}\n    \\end{figure}\n\n\n    Suppose $z$ gives charge in Step $3$. There is a $4$-face $uvzx$ with $u$ a big vertex, $v$ a $3$-vertex, and $x$ a small vertex such that $x$ gave charge to $z$ in Step $2$. Suppose $z$ is consecutive to exactly one big vertex (as neighbours of $x$). The vertex $x$ gave at least $\\frac{1}{4}$ to $z$ in Step $2$, and there is exactly one such face with the same $z$ and $x$ (i.e. there is no pair $(u',v')$ distinct from $(u,v)$ that verifies the properties we stated for $(u,v)$)(see Figure~\\ref{fig4+vertices}, left). Therefore $z$ can give $\\frac{1}{4}$ to $v$ in Step $3$. Suppose $z$ is consecutive to exactly two big vertices (as neighbours of $x$). The vertex $x$ gave $\\frac{1}{2}$ to $z$ in Step $2$, and there are at most two such faces with the same $z$ and $x$ (i.e. there is at most one pair $(u',v')$ distinct from $(u,v)$ that verifies the properties we stated for $(u,v)$) (see Figure~\\ref{fig4+vertices}, right). Therefore $z$ can give $\\frac{1}{4}$ to each of the corresponding $v$'s in Step $3$. Therefore $z$ received in Step $2$ at least as much as what it gives in Step $3$.\n\n    Suppose $z$ gives charge in Step $5$. There is a $4$-face $uvzx$, with $u$ a big vertex, $v$ a $3$-vertex, and $x$ a $3$-vertex such that the other face, say $f$, that has $vz$ in its boundary is a $5^+$-face. Vertex $z$ received at least $\\frac{1}{5}$ from $f$ in Step $4$, and it gives $\\frac{1}{5}$ to $v$. There is a problem only if there is another $4$-face $u'v'zx'$, such that $vzv'$ is on the boundary of $f$, $u'$ is a big vertex, and $x'$ and $v'$ are $3$-vertices. But then $z$ would have four $3$-neighbours, contradicting Lemma~\\ref{4-5star}. Therefore $z$ received in Step $4$ at least as much as what it gives in Step $5$.\n\n\n  \\end{itemize}\n\n  In all cases, $z$ never has negative charge.\n\\end{proof}\n\n\n\\begin{lemm}\\label{3vertices}\n  At the end of the procedure, every $3$-vertex has non-negative charge.\n\\end{lemm}\n\n\\begin{proof}\n  Let $z$ be a $3$-vertex. It never loses charge in the procedure, so we only need to prove that it received at least $1$ over the whole procedure. Assume by contradiction that it received less than that.\n\n  By Lemma~\\ref{3-b}, vertex $z$ has at least one big neighbour $b$. Let $x_0$ and $x_1$ be its two other neighbours. Vertex $b$ gives $\\frac{1}{2}$ to $z$ in Step $1$, so $z$ only needs to receive $\\frac{1}{2}$ from $x_0$, $x_1$, and its surrounding faces. In particular, if one of the $x_i$ is a big vertex, then it gives $\\frac{1}{2}$ to $z$ in Step $1$, and $z$ receives all the charge it needs, a contradiction. Therefore $x_0$ and $x_1$ are small vertices.\n\n  Let $f$ be the face that contains $x_0zx_1$ in its boundary, $f_0$ be the face that contains $x_0zb$ in its boundary and $f_1$ the face that contains $x_1zb$ in its boundary. Let $y_0$ and $y_1$ be such that $bzx_0y_0$ and $bzx_1y_1$ are $4$-paths that are in the boundaries of $f_0$ and $f_1$ respectively. Let us count the charge that $x_0$, $y_0$, and $f_0$ give to $z$ plus half the charge that $f$ gives to $z$. If we show that this sum is at least $\\frac{1}{4}$, then by symmetry we will know that $z$ received at least $\\frac{1}{2}$ from $x_0$, $x_1$, $y_0$, $y_1$, and the faces $f$, $f_0$, and $f_1$, and that leads to a contradiction.\n\n  Observe that $f_0$ is a $4$-face. If it is a $5^+$-face, then since it has the big vertex $b$ in its boundary, it gives $\\frac{1}{4}$ to $z$ in Step $4$, a contradiction.\n\n  Observe that $y_0$ is a small vertex. If $y_0$ is a big vertex, then $y_0$ gives $\\frac{1}{4}$ to $z$ in Step $1$, a contradiction. \n  See Figure~\\ref{figfinal} for a representation of the vertices we know.\n\n\n  \\begin{figure}[h]\n    \\begin{center}\n      \\begin{tikzpicture}\n        \\coordinate (z) at (0,0);\n        \\coordinate (b) at (-2,0);\n        \\coordinate (x0) at (1,-1.414);\n        \\coordinate (x1) at (1,1.414);\n        \\coordinate (y0) at (-1,-1.414);\n\n\n        \\draw (-0.1,0) node [below] {$z$} ;\n        \\draw (-2.1,0) node [left] {$b$} ;\n        \\draw (x0) node [below] {$x_0$} ;\n        \\draw (x1) node [above] {$x_1$} ;\n        \\draw (y0) node [below] {$y_0$} ;\n        \\draw (-0.5,-0.5) node [below] {$f_0$} ;\n        \\draw (1.5,0) node [left] {$f$} ;\n\n        \\draw (b) -- (z);\n        \\draw (x0) -- (z);\n        \\draw (x1) -- (z);\n        \\draw (b) -- (y0);\n        \\draw (y0) -- (x0);\n\n        \\draw [fill=black](z) circle (1.5pt) ;\n        \\draw [fill=white](b) circle (4pt) ;\n        \\draw [fill=white](x0) circle (1.5pt) ;\n        \\draw [fill=white](x1) circle (1.5pt) ;\n        \\draw [fill=white](y0) circle (1.5pt) ;\n\n      \\end{tikzpicture}\n    \\end{center}\n    \\caption{The face $f_0$ and the vertex $x_1$.}\\label{figfinal}\n  \\end{figure}\n\n  Observe that $x_0$ has degree $4$. Suppose $x_0$ is a $5^+$-vertex. It gives at least $\\frac{1}{4}$ to $z$ in Step $2$, a contradiction. Suppose $x_0$ is a $3$-vertex. Then $x_0$ has a big neighbour by Lemma~\\ref{3-b}, and it cannot be $y_0$. This contradicts Lemma~\\ref{config1}.\n\n  Let $a$ and $a'$ be the neighbours of $x_0$ distinct from $z$ and $y_0$,\n  such that $a$ is consecutive to $z$(as a neighbour of $x_0$). Suppose $a$ is a big vertex. If $x_0$ does not correspond to $v_1$ in Configuration~\\ref{config3}, then $x_0$ gives $\\frac{1}{4}$ to $z$ in Step $2$. If $x_0$ corresponds to $v_1$ in Configuration~\\ref{config3}, then $z$ corresponds to $w_0$ that is not adjacent to two big vertices, so $x_0$ also gives $\\frac{1}{4}$ to $z$ in Step $2$. Therefore $a$ is a small vertex.\n\n  Observe that $y_0$ is a $4^+$-vertex. Suppose $y_0$ is a $3$-vertex.  By Lemma~\\ref{config2}, there is at least one big vertex in $\\{a,a'\\}$, which has to be $a'$. If $f$ is a $4$-face, then $x_0$ corresponds to $v_1$ in Configuration~\\ref{config3}, and it gives $\\frac{1}{4}$ to $z$ in Step $2$. Therefore $f$ is a $5^+$-face, and it gives at least $\\frac{1}{5}$ to $z$ in Step $4$, and $x_0$ gives $\\frac{1}{5}$ to $z$ in Step $5$. As $\\frac{1}{10} + \\frac{1}{5} \\ge \\frac{1}{4}$, this leads to a contradiction.\n\n  \\begin{figure}[h!]\n    \\begin{center}\n      \\begin{tikzpicture}\n        \\coordinate (b0) at (0,0);\n        \\coordinate (w0) at (1,-1);\n        \\coordinate (w0') at (1.5,-1.5);\n        \\coordinate (v0) at (1,1);\n        \\coordinate (v1) at (2,0);\n        \\coordinate (v2) at (3,1);\n        \\coordinate (v2') at (4,2);\n        \\coordinate (v3) at (2,2);\n        \\coordinate (b1) at (3,-1);\n        \\coordinate (w1) at (4,0);\n        \\coordinate (w1') at (5,1);\n\n        \\draw (-0.1,0) node [left] {$b_0$} ;\n        \\draw (w0) node [left] {$w_0$} ;\n        \\draw (v0) node [left] {$v_0$} ;\n        \\draw (v1) node [right] {$y_0 = v_1$} ;\n        \\draw (v2) node [right] {$x_0 = v_2$} ;\n        \\draw (v3) node [above] {$a' = v_3$} ;\n        \\draw (3.1,-1) node [right] {$b = b_1$} ;\n        \\draw (w1) node [right] {$z = w_1$} ;\n        \\draw (w1') node [right] {$x_1$} ;\n        \\draw (v2') node [right] {$a$} ;\n\n        \\draw (b0) -- (w0);\n        \\draw (v1) -- (w0);\n        \\draw (b0) -- (v0);\n        \\draw (b1) -- (v1);\n        \\draw (b1) -- (w1);\n        \\draw (v0) -- (v1);\n        \\draw (v1) -- (v2);\n        \\draw (v2) -- (v3);\n        \\draw (v0) -- (v3);\n        \\draw (w0) -- (w0');\n        \\draw (v2) -- (v2');\n        \\draw (v2) -- (w1);\n        \\draw (w1) -- (w1');\n\n        \\draw [fill=white](b0) circle (4pt) ;\n        \\draw [fill=black](w0) circle (1.5pt) ;\n        \\draw [fill=black](v0) circle (1.5pt) ;\n        \\draw [fill=black](v1) circle (1.5pt) ;\n        \\draw [fill=black](v2) circle (1.5pt) ;\n        \\draw [fill=white](v2') circle (1.5pt) ;\n        \\draw [fill=white](v3) circle (1.5pt) ;\n        \\draw [fill=white](b1) circle (4pt) ;\n        \\draw [fill=black](w1) circle (1.5pt) ;\n        \\draw [fill=white](w1') circle (1.5pt) ;\n\n      \\end{tikzpicture}\n    \\end{center}\n    \\caption{The case in Lemma~\\ref{3vertices} where $y_0$ corresponds to $v_1$ in Configuration~\\ref{config3}.\\label{fig3vertices}}\n  \\end{figure}\n\n  Suppose first that $y_0$ corresponds to $v_1$ in Configuration~\\ref{config3}. See Figure~\\ref{fig3vertices} for an illustration of the vertices we know, and of the correspondence with vertices of Configuration~\\ref{config3}. By Lemma~\\ref{config4}, the third neighbour of $w_0$ is big. Therefore $y_0$ gives $\\frac{1}{4}$ to $x_0$ in Step $2$. It follow that $x_0$ gives $\\frac{1}{4}$ to $z$ in Step $3$, a contradiction.\n\n  Now $y_0$ does not correspond to $v_1$ in Configuration~\\ref{config3}. Vertex $y_0$ gives $\\frac{1}{4}$ to $x_0$ in Step $2$, since $x_0$ is a neighbour of $y_0$ consecutive (as a neighbour of $y_0$) to a big neighbour. Therefore $x_0$ gives $\\frac{1}{4}$ to $z$ in Step $3$, a contradiction.\n\\end{proof}\n\nLemmas~\\ref{faces}--\\ref{3vertices} conclude the proof of Theorem~\\ref{main}.\n\n\n\n\n\n\\section{NP-completeness} \\label{complexity}\nBy Theorem~\\ref{main}, there exists a smallest integer $d_0 \\le 5$ such that every triangle-free planar graph has an $({\\cal F},{\\cal F}_{d_0})$-partition. For all $d \\ge d_0$, every triangle-free planar graph has an $({\\cal F},{\\cal F}_{d})$-partition. Let us assume that $d_0 \\ge 1$.\n\nIn this section, for a fixed $d$ we consider the complexity of the following problem $P_d$: given a triangle-free planar graph $G$, does $G$ have an $({\\cal F},{\\cal F}_d)$-partition? This can be answered positively in constant time for $d \\ge d_0$. However, we prove the following:\n\n\\begin{theo}\n  For $d < d_0$, the problem $P_d$ is NP-complete.\n\\end{theo}\n\nThe problem is clearly in NP, since checking that a graph is acyclic and/or has degree at most $d$ can be done in polynomial time. Let us show that the problem is NP-hard.\n\nLet $G$ be a counter-example to the property that every triangle-free planar graph admits an $({\\cal F},{\\cal F}_d)$ partition. We consider such a $G$ with minimum number of vertices, and with minimum number of edges among the counter-examples with minimum number of vertices. Let $e = uv$ be an edge of $G$, and $G' = G - e$. By minimality of $G$, $G'$ admits an $({\\cal F},{\\cal F}_d)$-partition. In such a partition $(F,D)$, $u$ and $v$ are either both in $F$ or both in $D$, and if they are in $F$, then there is a path from $u$ to $v$ in $G'[F]$ (otherwise it would be an $({\\cal F},{\\cal F}_d)$-partition of $G$). Observe that in $G'$, $u$ and $v$ are at distance at least $3$, since $G$ is triangle-free. We call a copy of $G'$ an anti-edge $uv$.\n\nWe want to make a gadget $H$ with a vertex $x$ that admits an $({\\cal F},{\\cal F}_d)$-partition, and such that $x$ is in $F$ for all $({\\cal F},{\\cal F}_d)$-partition $(F,D)$ of $H$.\n\n\\begin{figure}[h]\n  \\begin{center}\n    \\begin{tikzpicture}\n      \\coordinate (x) at (0,0);\n      \\coordinate (u0) at (-1,1);\n      \\coordinate (u1) at (-0.5,1);\n      \\coordinate (ud) at (1,1);\n      \\coordinate (v0) at (-1,2);\n      \\coordinate (v1) at (-0.5,2);\n      \\coordinate (vd) at (1,2);\n\n\n      \\draw (x) node [below] {$x$} ;\n      \\draw (u0) node [left] {$u_0$} ;\n      \\draw (u1) node [right] {$u_1$} ;\n      \\draw (ud) node [right] {$u_d$} ;\n      \\draw (v0) node [above] {$v_0$} ;\n      \\draw (v1) node [above] {$v_1$} ;\n      \\draw (vd) node [above] {$v_d$} ;\n      \\draw (0.25,1.5) node {$...$} ;\n\n      \\draw (x) -- (u0);\n      \\draw (x) -- (u1);\n      \\draw (x) -- (ud);\n      \\draw [dashed] (v0) -- (u0);\n      \\draw [dashed] (v1) -- (u1);\n      \\draw [dashed] (vd) -- (ud);\n\n      \\draw [fill=black](x) circle (1.5pt) ;\n      \\draw [fill=black](u0) circle (1.5pt) ;\n      \\draw [fill=black](u1) circle (1.5pt) ;\n      \\draw [fill=black](ud) circle (1.5pt) ;\n      \\draw [fill=black](v0) circle (1.5pt) ;\n      \\draw [fill=black](v1) circle (1.5pt) ;\n      \\draw [fill=black](vd) circle (1.5pt) ;\n\n    \\end{tikzpicture}~~~~\n    \\begin{tikzpicture}\n      \\coordinate (x) at (0,0);\n      \\coordinate (u0) at (-1,1);\n      \\coordinate (u1) at (-0.5,1);\n      \\coordinate (ud) at (1,1);\n      \\coordinate (v0) at (-1,2);\n      \\coordinate (v1) at (-0.5,2);\n      \\coordinate (vd) at (1,2);\n\n\n      \\draw (x) node [below] {$F$} ;\n      \\draw (u0) node [left] {$D$} ;\n      \\draw (u1) node [right] {$D$} ;\n      \\draw (ud) node [right] {$D$} ;\n      \\draw (v0) node [above] {$D$} ;\n      \\draw (v1) node [above] {$D$} ;\n      \\draw (vd) node [above] {$D$} ;\n      \\draw (0.25,1.5) node {$...$} ;\n\n      \\draw (x) -- (u0);\n      \\draw (x) -- (u1);\n      \\draw (x) -- (ud);\n      \\draw [dashed] (v0) -- (u0);\n      \\draw [dashed] (v1) -- (u1);\n      \\draw [dashed] (vd) -- (ud);\n\n      \\draw [fill=black](x) circle (1.5pt) ;\n      \\draw [fill=black](u0) circle (1.5pt) ;\n      \\draw [fill=black](u1) circle (1.5pt) ;\n      \\draw [fill=black](ud) circle (1.5pt) ;\n      \\draw [fill=black](v0) circle (1.5pt) ;\n      \\draw [fill=black](v1) circle (1.5pt) ;\n      \\draw [fill=black](vd) circle (1.5pt) ;\n\n    \\end{tikzpicture}\n  \\end{center}\n  \\caption{The gadget $H$ in Case~\\ref{gadgetH1}, and an $({\\cal F},{\\cal F}_d)$-partition. Dashed lines are anti-edges.}\\label{figgadgetH1}\n\\end{figure}\n\n\\begin{figure}\n  \\begin{center}\n\n    \\begin{tikzpicture}\n      \\coordinate (x) at (0,0);\n      \\coordinate (v0) at (-2,1);\n      \\coordinate (v1) at (-1,2);\n      \\coordinate (vd) at (1,1);\n      \\coordinate (w0) at (-1.5,1);\n      \\coordinate (w1) at (-0.5,2);\n      \\coordinate (wd) at (1.5,1);\n      \\coordinate (u00) at (-1.75,1.25);\n      \\coordinate (u01) at (-0.75,2.25);\n      \\coordinate (u0d) at (1.25,1.25);\n      \\coordinate (u10) at (-1.75,0.75);\n      \\coordinate (u11) at (-0.75,1.75);\n      \\coordinate (u1d) at (1.25,0.75);\n\n\n      \\draw (x) node [below] {$x$} ;\n      \\draw (u00) node [above] {$u_{00}$} ;\n      \\draw (u01) node [above] {$u_{10}$} ;\n      \\draw (u0d) node [above] {$u_{d0}$} ;\n      \\draw (u10) node [below] {$u_{01}$} ;\n      \\draw (u11) node [below] {$u_{11}$} ;\n      \\draw (u1d) node [below] {$u_{d1}$} ;\n      \\draw (v0) node [left] {$v_0$} ;\n      \\draw (v1) node [left] {$v_1$} ;\n      \\draw (vd) node [left] {$v_d$} ;\n      \\draw (w0) node [right] {$w_0$} ;\n      \\draw (w1) node [right] {$w_1$} ;\n      \\draw (wd) node [right] {$w_d$} ;\n      \\draw (0.25,1) node {$...$} ;\n\n      \\draw (x) -- (v0);\n      \\draw (x) -- (v1);\n      \\draw (x) -- (vd);\n      \\draw (x) -- (w0);\n      \\draw (x) -- (w1);\n      \\draw (x) -- (wd);\n      \\draw [dashed] (v0) -- (u00);\n      \\draw [dashed] (v1) -- (u01);\n      \\draw [dashed] (vd) -- (u0d);\n      \\draw [dashed] (v0) -- (u10);\n      \\draw [dashed] (v1) -- (u11);\n      \\draw [dashed] (vd) -- (u1d);\n      \\draw (u00) -- (w0);\n      \\draw (u01) -- (w1);\n      \\draw (u0d) -- (wd);\n      \\draw (u10) -- (w0);\n      \\draw (u11) -- (w1);\n      \\draw (u1d) -- (wd);\n\n      \\draw [fill=black](x) circle (1.5pt) ;\n      \\draw [fill=black](v0) circle (1.5pt) ;\n      \\draw [fill=black](v1) circle (1.5pt) ;\n      \\draw [fill=black](vd) circle (1.5pt) ;\n      \\draw [fill=black](w0) circle (1.5pt) ;\n      \\draw [fill=black](w1) circle (1.5pt) ;\n      \\draw [fill=black](wd) circle (1.5pt) ;\n      \\draw [fill=black](u00) circle (1.5pt) ;\n      \\draw [fill=black](u01) circle (1.5pt) ;\n      \\draw [fill=black](u0d) circle (1.5pt) ;\n      \\draw [fill=black](u10) circle (1.5pt) ;\n      \\draw [fill=black](u11) circle (1.5pt) ;\n      \\draw [fill=black](u1d) circle (1.5pt) ;\n\n    \\end{tikzpicture}~~~~\n    \\begin{tikzpicture}\n      \\coordinate (x) at (0,0);\n      \\coordinate (v0) at (-2,1);\n      \\coordinate (v1) at (-1,2);\n      \\coordinate (vd) at (1,1);\n      \\coordinate (w0) at (-1.5,1);\n      \\coordinate (w1) at (-0.5,2);\n      \\coordinate (wd) at (1.5,1);\n      \\coordinate (u00) at (-1.75,1.25);\n      \\coordinate (u01) at (-0.75,2.25);\n      \\coordinate (u0d) at (1.25,1.25);\n      \\coordinate (u10) at (-1.75,0.75);\n      \\coordinate (u11) at (-0.75,1.75);\n      \\coordinate (u1d) at (1.25,0.75);\n\n\n      \\draw (x) node [below] {$F$} ;\n      \\draw (u00) node [above] {$F$} ;\n      \\draw (u01) node [above] {$F$} ;\n      \\draw (u0d) node [above] {$F$} ;\n      \\draw (u10) node [below] {$F$} ;\n      \\draw (u11) node [below] {$F$} ;\n      \\draw (u1d) node [below] {$F$} ;\n      \\draw (v0) node [left] {$F$} ;\n      \\draw (v1) node [left] {$F$} ;\n      \\draw (vd) node [left] {$F$} ;\n      \\draw (w0) node [right] {$D$} ;\n      \\draw (w1) node [right] {$D$} ;\n      \\draw (wd) node [right] {$D$} ;\n      \\draw (0.25,1) node {$...$} ;\n\n      \\draw (x) -- (v0);\n      \\draw (x) -- (v1);\n      \\draw (x) -- (vd);\n      \\draw (x) -- (w0);\n      \\draw (x) -- (w1);\n      \\draw (x) -- (wd);\n      \\draw [dashed] (v0) -- (u00);\n      \\draw [dashed] (v1) -- (u01);\n      \\draw [dashed] (vd) -- (u0d);\n      \\draw [dashed] (v0) -- (u10);\n      \\draw [dashed] (v1) -- (u11);\n      \\draw [dashed] (vd) -- (u1d);\n      \\draw (u00) -- (w0);\n      \\draw (u01) -- (w1);\n      \\draw (u0d) -- (wd);\n      \\draw (u10) -- (w0);\n      \\draw (u11) -- (w1);\n      \\draw (u1d) -- (wd);\n\n      \\draw [fill=black](x) circle (1.5pt) ;\n      \\draw [fill=black](v0) circle (1.5pt) ;\n      \\draw [fill=black](v1) circle (1.5pt) ;\n      \\draw [fill=black](vd) circle (1.5pt) ;\n      \\draw [fill=black](w0) circle (1.5pt) ;\n      \\draw [fill=black](w1) circle (1.5pt) ;\n      \\draw [fill=black](wd) circle (1.5pt) ;\n      \\draw [fill=black](u00) circle (1.5pt) ;\n      \\draw [fill=black](u01) circle (1.5pt) ;\n      \\draw [fill=black](u0d) circle (1.5pt) ;\n      \\draw [fill=black](u10) circle (1.5pt) ;\n      \\draw [fill=black](u11) circle (1.5pt) ;\n      \\draw [fill=black](u1d) circle (1.5pt) ;\n\n    \\end{tikzpicture}\n  \\end{center}\n  \\caption{The gadget $H$ in Case~\\ref{gadgetH2}, and an $({\\cal F},{\\cal F}_d)$-partition.}\\label{figgadgetH2}\n\\end{figure}\n\nWe construct $H$ as follows:\n\n\\begin{enumerate}\n\\item \\label{gadgetH1}\n  Suppose for all $({\\cal F},{\\cal F}_d)$-partition $(F,D)$ of $G'$, $u$ and $v$ are in $D$. See Figure~\\ref{figgadgetH1} for an illustration of the construction of $H$ and an $({\\cal F},{\\cal F}_d)$-partition of $H$ in this case. Take $d+1$ copies of $G'$, called $G'_0$, ..., $G'_d$, and add a new vertex $x$ adjacent to each copy of $u$. Consider an $({\\cal F},{\\cal F}_d)$-partition $(F,D)$ of $G'$. This leads to an $({\\cal F},{\\cal F}_d)$-partition $(F_i,D_i)$ of each $G_i$, and $(\\bigcup_iF_i \\cup \\{x\\}, \\bigcup_iD_i)$ is an $({\\cal F},{\\cal F}_d)$-partition of $H$. \n\n  Let us now prove that for any $({\\cal F},{\\cal F}_d)$-partition $(F,D)$ of $H$, $x$ belongs to $F$. For any $({\\cal F},{\\cal F}_d)$-partition $(F,D)$ of $H$, if $x \\in D$, then there exists a $u_i$ that is in $F$, so the corresponding $G'_i$ admits an $({\\cal F},{\\cal F}_d)$-partition with $u_i \\in F$, a contradiction.\n\n\\item \\label{gadgetH2}\n  Suppose there exists an $({\\cal F},{\\cal F}_d)$-partition $(F,D)$ of $G'$ such that $u$ and $v$ are in $F$. See Figure~\\ref{figgadgetH2} for an illustration of the construction of $H$ and an $({\\cal F},{\\cal F}_d)$-partition of $H$ in this case. We construct $H$ as follows.\n  Consider a vertex $x$. We add new vertices $v_0,...,v_d$ and $w_0,...,w_d$ to the graph, adjacent to $x$. Then for $0 \\le i \\le d$ and $0 \\le j \\le 1$, we add a new vertex $u_{ij}$, the anti-edge $v_iu_{ij}$, and the edge $u_{ij}w_i$.\n\n  Graph $H$ admits an $({\\cal F},{\\cal F}_d)$-partition. Indeed, consider an $({\\cal F},{\\cal F}_d)$-partition of $G'$ with $u$ and $v$ in $F$, and apply it to every anti-edge of $H$ (as before, we take the union of the $F_i$ and the union of the $D_i$). Then the $v_i$ and $u_{ij}$ are all in $F$. Add all the $w_i$ to $D$. Add $x$ to $F$. We then have an $({\\cal F},{\\cal F}_d)$-partition of $H$.\n\n  Let us now prove that for any $({\\cal F},{\\cal F}_d)$-partition $(F,D)$ of $H$, $x$ belongs to $F$. For any $({\\cal F},{\\cal F}_d)$-partition $(F,D)$ of $H$, if $x \\in D$, then there exists an $i$ such that $v_i$ and $w_i$ are in $F$, thus $u_{i0}$ and $u_{i1}$ are in $F$, so there is a cycle in $H[F]$, a contradiction.\n\\end{enumerate}\n\n\\begin{figure}[h]\n  \\begin{center}\n    \\begin{tikzpicture}\n      \\coordinate (y) at (0,0);\n      \\coordinate (x1) at (-1,1);\n      \\coordinate (x2) at (0,2);\n      \\coordinate (x3) at (1,1);\n\n      \\draw (y) node [below] {$y$} ;\n      \\draw (y) node [left] {$D$} ;\n      \\draw (x1) node [above] {$F$} ;\n      \\draw (x2) node [left] {$F$} ;\n      \\draw (x3) node [above] {$F$} ;\n      \\draw (-2,1) node [left] {$H$} ;\n      \\draw (0,3) node [above] {$H$} ;\n      \\draw (2,1) node [right] {$H$} ;\n\n      \\draw (y) -- (x1);\n      \\draw (y) -- (x3);\n      \\draw (x2) -- (x1);\n      \\draw (x3) -- (x2);\n      \\draw [-,>=latex] (x1) to[out = 190, in = -90] ++(-1,0) to[out = 90, in = 170] ++(1,0);\n      \\draw [-,>=latex] (x2) to[out = 100, in = 180] ++(0,1) to[out = 0, in = 80] ++(0,-1);\n      \\draw [-,>=latex] (x3) to[out = 10, in = 90] ++(1,0) to[out = -90, in = -10] ++(-1,0);\n\n\n      \\draw [fill=black](y) circle (1.5pt) ;\n      \\draw [fill=black](x1) circle (1.5pt) ;\n      \\draw [fill=black](x2) circle (1.5pt) ;\n      \\draw [fill=black](x3) circle (1.5pt) ;\n\n\n    \\end{tikzpicture}\n  \\end{center}\n  \\caption{The gadget $H'$ with an $({\\cal F},{\\cal F}_d)$-partition.}\\label{figgadgetH'}\n\\end{figure}\n\nObserve that we can make a gadget $H'$ with a vertex $y$ that admits an $({\\cal F},{\\cal F}_d)$-partition, and such that $y$ is in $D$ for all $({\\cal F},{\\cal F}_d)$-partition $(F,D)$ of $H'$ (see Figure~\\ref{figgadgetH'}): we take three copies of $H$, and make a $4$-cycle with the corresponding copies of $x$ and a new vertex $y$. Taking an $({\\cal F},{\\cal F}_d)$-partition of $H$ for each copy of $H$, and adding $y$ to $D$ leads to an $({\\cal F},{\\cal F}_d)$-partition of $H'$. Conversely, in an $({\\cal F},{\\cal F}_d)$-partition $(F,D)$ of $H'$, all the copies of $x$ are in $F$, so $y$ is in $D$.\n\nWe will first make a reduction from the problem {\\sc Planar $3$-sat} to $P_0$, and then from $P_0$ to $P_d$ with $d < d_0$.\n\n\n\n\\subsection*{First reduction: from {\\sc Planar $3$-sat} to $P_0$}\nHere we will use the gadget $H$ for $d = 0$.\n\nConsider an instance $I$ of {\\sc Planar $3$-sat}. The instance $I$ is a boolean formula in conjunctive normal form, associated to a planar graph $G_I$. For each clause $C$ of $I$ with variables $x$, $y$ and $z$, we make a $4$-cycle $K_C = x_Cy_Cz_Ca_C$. For each variable $x$ that appears $k_x$ times in the formula, we make the following gadget $G_x$ a path $p_{x,0}...p_{x,2k_x-1}$, and for all $i \\in [0,2k_x-2]$ we add two adjacent vertices, $q_{x,i}$ and $r_{x,i+1}$, adjacent to $p_{x,i}$ and $p_{x,i+1}$ respectively (see Figure~\\ref{figGX}). We then add a copy of $H$ for each clause $C$ such that $a_C$ corresponds to the vertex $x$ of $H$, and a copy of $H$ for each $q_{x,i}$ and each $r_{x,i}$ such that $q_{x,i}$ and $r_{x,i}$ respectively correspond to the vertex $x$ of $H$. Then for every clause $C$ and every variable $x$ that appears in $C$, we add an edge from $x_C$ to a $p_{x,i}$, with an even $i$ if the literal associated to $x$ in $C$ is a positive literal and an odd $i$ otherwise, such that no two $x_C$ are adjacent to the same $p_{x,i}$ (see Figure~\\ref{figKC}). It is possible to do so without breaking planarity, since the graph $G_I$ is planar. We call $G'_I$ the graph we obtain.\n\n\n\\begin{figure}[h]\n  \\begin{center}\n    \\begin{tikzpicture}\n      \\coordinate (a) at (0,0);\n      \\coordinate (x) at (-1,1);\n      \\coordinate (y) at (0,2);\n      \\coordinate (z) at (1,1);\n\n      \\node[draw,ellipse] (X) at (-2,3) {$G_x$};\n      \\node[draw,ellipse] (Y) at (0,3) {$G_y$};\n      \\node[draw,ellipse] (Z) at (2,3) {$G_z$};\n\n      \\draw (x) node [below left] {$x_C$} ;\n      \\draw (y) node [left] {$y_C$} ;\n      \\draw (z) node [below right] {$z_C$} ;\n      \\draw (a) node [left] {$a_C$} ;\n      \\draw (-0.2,-0.5) node [left] {$H$} ;\n\n      \\draw (a) -- (x);\n      \\draw (a) -- (z);\n      \\draw (y) -- (x);\n      \\draw (z) -- (y);\n      \\draw [-,>=latex] (a) to[out = 290, in = -10] ++(0,-1) to[out = 180, in = 250] ++(0,1);\n      \\draw (x) -- (X);\n      \\draw (y) -- (Y);\n      \\draw (z) -- (Z);\n\n\n      \\draw [fill=black](a) circle (1.5pt) ;\n      \\draw [fill=black](x) circle (1.5pt) ;\n      \\draw [fill=black](y) circle (1.5pt) ;\n      \\draw [fill=black](z) circle (1.5pt) ;\n\n\n    \\end{tikzpicture}~~~~\n    \\begin{tikzpicture}\n      \\coordinate (a) at (0,0);\n      \\coordinate (x) at (-1,1);\n      \\coordinate (y) at (0,2);\n      \\coordinate (z) at (1,1);\n\n      \\node[draw,ellipse] (X) at (-2,3) {$G_x$};\n      \\node[draw,ellipse] (Y) at (0,3) {$G_y$};\n      \\node[draw,ellipse] (Z) at (2,3) {$G_z$};\n\n      \\draw (x) node [below left] {$D$} ;\n      \\draw (y) node [left] {$F$} ;\n      \\draw (z) node [below right] {$F$} ;\n      \\draw (a) node [left] {$F$} ;\n      \\draw (-0.2,-0.5) node [left] {$H$} ;\n\n      \\draw (a) -- (x);\n      \\draw (a) -- (z);\n      \\draw (y) -- (x);\n      \\draw (z) -- (y);\n      \\draw [-,>=latex] (a) to[out = 290, in = -10] ++(0,-1) to[out = 180, in = 250] ++(0,1);\n      \\draw (x) -- (X);\n      \\draw (y) -- (Y);\n      \\draw (z) -- (Z);\n\n\n      \\draw [fill=black](a) circle (1.5pt) ;\n      \\draw [fill=black](x) circle (1.5pt) ;\n      \\draw [fill=black](y) circle (1.5pt) ;\n      \\draw [fill=black](z) circle (1.5pt) ;\n\n\n    \\end{tikzpicture}\n  \\end{center}\n  \\caption{The cycle $K_C$ of a clause $C$ with variables $x$, $y$ and $z$, and an $({\\cal F},{\\cal F}_d)$-partition in the case where variable $x$ satisfies the clause.}\\label{figKC}\n\\end{figure}\n\n\\begin{figure}[h!]\n  \\begin{center}\n    \\begin{tikzpicture}\n      \\coordinate (p0) at (0,0);\n      \\coordinate (p1) at (3,0);\n      \\coordinate (p2) at (6,0);\n      \\coordinate (p3) at (9,0);\n      \\coordinate (q0) at (1,1);\n      \\coordinate (r1) at (2,1);\n      \\coordinate (q1) at (4,1);\n      \\coordinate (r2) at (5,1);\n      \\coordinate (q2) at (7,1);\n      \\coordinate (r3) at (8,1);\n\n\n      \\node[draw,ellipse] (C0) at (-1,-1) {$K_{C_0}$};\n      \\node[draw,ellipse] (C1) at (3,-1) {$K_{C_1}$};\n      \\node[draw,ellipse] (C2) at (10,-1) {$K_{C_2}$};\n\n\n      \\draw (p0) node [below right] {$p_{x,0}$} ;\n      \\draw (p1) node [below right] {$p_{x,1}$} ;\n      \\draw (p2) node [below] {$p_{x,2}$} ;\n      \\draw (p3) node [below left] {$p_{x,3}$} ;\n\n      \\draw (q0) node [left] {$q_{x,0}$} ;\n      \\draw (q1) node [left] {$q_{x,1}$} ;\n      \\draw (q2) node [left] {$q_{x,2}$} ;\n      \\draw (r1) node [right] {$r_{x,1}$} ;\n      \\draw (r2) node [right] {$r_{x,2}$} ;\n      \\draw (r3) node [right] {$r_{x,3}$} ;\n      \\draw (1,2) node [above] {$H$} ;\n      \\draw (2,2) node [above] {$H$} ;\n      \\draw (4,2) node [above] {$H$} ;\n      \\draw (5,2) node [above] {$H$} ;\n      \\draw (7,2) node [above] {$H$} ;\n      \\draw (8,2) node [above] {$H$} ;\n      \\draw (9.5,0.5) node [above] {$...$} ;\n\n      \\draw (p0) -- (p1);\n      \\draw (p1) -- (p2);\n      \\draw (p2) -- (p3);\n      \\draw (p0) -- (q0);\n      \\draw (p1) -- (q1);\n      \\draw (p2) -- (q2);\n      \\draw (p1) -- (r1);\n      \\draw (p2) -- (r2);\n      \\draw (p3) -- (r3);\n      \\draw (q0) -- (r1);\n      \\draw (q1) -- (r2);\n      \\draw (q2) -- (r3);\n      \\draw [-,>=latex] (q0) to[out = 100, in = 180] ++(0,1) to[out = 0, in = 80] ++(0,-1);\n      \\draw [-,>=latex] (q1) to[out = 100, in = 180] ++(0,1) to[out = 0, in = 80] ++(0,-1);\n      \\draw [-,>=latex] (q2) to[out = 100, in = 180] ++(0,1) to[out = 0, in = 80] ++(0,-1);\n      \\draw [-,>=latex] (r1) to[out = 100, in = 180] ++(0,1) to[out = 0, in = 80] ++(0,-1);\n      \\draw [-,>=latex] (r2) to[out = 100, in = 180] ++(0,1) to[out = 0, in = 80] ++(0,-1);\n      \\draw [-,>=latex] (r3) to[out = 100, in = 180] ++(0,1) to[out = 0, in = 80] ++(0,-1);\n\n      \\draw (p0) -- (C0);\n      \\draw (p1) -- (C1);\n      \\draw (p3) -- (C2);\n\n\n      \\draw [fill=black](p0) circle (1.5pt) ;\n      \\draw [fill=black](p1) circle (1.5pt) ;\n      \\draw [fill=black](p2) circle (1.5pt) ;\n      \\draw [fill=black](p3) circle (1.5pt) ;\n      \\draw [fill=black](q0) circle (1.5pt) ;\n      \\draw [fill=black](q1) circle (1.5pt) ;\n      \\draw [fill=black](q2) circle (1.5pt) ;\n      \\draw [fill=black](r1) circle (1.5pt) ;\n      \\draw [fill=black](r2) circle (1.5pt) ;\n      \\draw [fill=black](r3) circle (1.5pt) ;\n\n\n    \\end{tikzpicture}\n\n    \\begin{tikzpicture}\n      \\coordinate (p0) at (0,0);\n      \\coordinate (p1) at (3,0);\n      \\coordinate (p2) at (6,0);\n      \\coordinate (p3) at (9,0);\n      \\coordinate (q0) at (1,1);\n      \\coordinate (r1) at (2,1);\n      \\coordinate (q1) at (4,1);\n      \\coordinate (r2) at (5,1);\n      \\coordinate (q2) at (7,1);\n      \\coordinate (r3) at (8,1);\n\n\n      \\node[draw,ellipse] (C0) at (-1,-1) {$K_{C_0}$};\n      \\node[draw,ellipse] (C1) at (3,-1) {$K_{C_1}$};\n      \\node[draw,ellipse] (C2) at (10,-1) {$K_{C_2}$};\n\n\n      \\draw (p0) node [below right] {$F$} ;\n      \\draw (p1) node [below right] {$D$} ;\n      \\draw (p2) node [below] {$F$} ;\n      \\draw (p3) node [below left] {$D$} ;\n\n      \\draw (q0) node [left] {$F$} ;\n      \\draw (q1) node [left] {$F$} ;\n      \\draw (q2) node [left] {$F$} ;\n      \\draw (r1) node [right] {$F$} ;\n      \\draw (r2) node [right] {$F$} ;\n      \\draw (r3) node [right] {$F$} ;\n      \\draw (1,2) node [above] {$H$} ;\n      \\draw (2,2) node [above] {$H$} ;\n      \\draw (4,2) node [above] {$H$} ;\n      \\draw (5,2) node [above] {$H$} ;\n      \\draw (7,2) node [above] {$H$} ;\n      \\draw (8,2) node [above] {$H$} ;\n      \\draw (9.5,0.5) node [above] {$...$} ;\n\n      \\draw (p0) -- (p1);\n      \\draw (p1) -- (p2);\n      \\draw (p2) -- (p3);\n      \\draw (p0) -- (q0);\n      \\draw (p1) -- (q1);\n      \\draw (p2) -- (q2);\n      \\draw (p1) -- (r1);\n      \\draw (p2) -- (r2);\n      \\draw (p3) -- (r3);\n      \\draw (q0) -- (r1);\n      \\draw (q1) -- (r2);\n      \\draw (q2) -- (r3);\n      \\draw [-,>=latex] (q0) to[out = 100, in = 180] ++(0,1) to[out = 0, in = 80] ++(0,-1);\n      \\draw [-,>=latex] (q1) to[out = 100, in = 180] ++(0,1) to[out = 0, in = 80] ++(0,-1);\n      \\draw [-,>=latex] (q2) to[out = 100, in = 180] ++(0,1) to[out = 0, in = 80] ++(0,-1);\n      \\draw [-,>=latex] (r1) to[out = 100, in = 180] ++(0,1) to[out = 0, in = 80] ++(0,-1);\n      \\draw [-,>=latex] (r2) to[out = 100, in = 180] ++(0,1) to[out = 0, in = 80] ++(0,-1);\n      \\draw [-,>=latex] (r3) to[out = 100, in = 180] ++(0,1) to[out = 0, in = 80] ++(0,-1);\n\n      \\draw (p0) -- (C0);\n      \\draw (p1) -- (C1);\n      \\draw (p3) -- (C2);\n\n\n      \\draw [fill=black](p0) circle (1.5pt) ;\n      \\draw [fill=black](p1) circle (1.5pt) ;\n      \\draw [fill=black](p2) circle (1.5pt) ;\n      \\draw [fill=black](p3) circle (1.5pt) ;\n      \\draw [fill=black](q0) circle (1.5pt) ;\n      \\draw [fill=black](q1) circle (1.5pt) ;\n      \\draw [fill=black](q2) circle (1.5pt) ;\n      \\draw [fill=black](r1) circle (1.5pt) ;\n      \\draw [fill=black](r2) circle (1.5pt) ;\n      \\draw [fill=black](r3) circle (1.5pt) ;\n\n\n    \\end{tikzpicture}\n  \\end{center}\n  \\caption{The gadget $G_x$ for a variable $x$, with an $({\\cal F},{\\cal F}_d)$-partition that corresponds to the assignation of $x$ to true. Here the literal associated to $x$ in $C_0$ is positive, and that associated to $x$ in $C_1$ and $C_2$ is negative.}\\label{figGX}\n\\end{figure}\n\n\nSuppose $I$ is satisfiable, and let us consider an assignation $\\sigma$ of the variables that satisfies $I$. Let us make an $({\\cal F},{\\cal F}_0)$-partition of $G'_I$. We first take an $({\\cal F},{\\cal F}_0)$-partition for each copy of $H$. All the $a_C$, $q_{x,i}$ and $r_{x,i}$ are in $F$.\nFor each variable $x$, if $\\sigma(x) = 1$, then we put all the $p_{x,2i}$ in $F$ and the $p_{x,2i+1}$ in $D$, else we put all the $p_{x,2i}$ in $D$ and the $p_{x,2i+1}$ in $F$. Then for each clause $C$, we choose a variable $x$ of $C$ that satisfies the clause (i.e. $x$ is true if the literal associated to $x$ in $C$ is a positive literal, and false otherwise), we put $x_C$ in $D$ and for the two other variables of $C$, we put the corresponding $y_C$ in $F$. \n\nAll the vertices are in $F$ or in $D$. Let $v$ be a $G'_I$-vertex in $D$. If $v$ is in a copy of $H$, then it has no neighbour in $D$. If $v$ is a $x_C$, then the three other vertices of $K_C$ are in $F$. If $v$ is a $p_{x,i}$, then $p_{x,i+1}$ and $p_{x,i-1}$ are in $F$ if they exist, and all the $q_j$ and $r_j$ are in $F$. Suppose there are two $G'_I[F]$-neighbours in $D$. One is a $x_C$ and the other is a $p_{x,i}$ (with the same $x$). Then by construction the variable $x$ satisfies clause $C$ (i.e. $x$ is true if the literal associated to $x$ in $C$ is a positive literal, and false otherwise). If $x$ is associated to a positive literal in clause $C$, then $\\sigma(x) = 1$ and $i$ is even, thus $p_{x,i}$ is in $F$, a contradiction. If $x$ is associated to a negative literal in clause $C$, then $\\sigma(x) = 0$ and $i$ is odd, thus $p_{x,i}$ is in $F$, a contradiction. Graph $G'_I[F]$ has no cycle: there is no cycle in the copies of $H$ with every vertex in $F$; for each clause $C$, $K_C$ has a vertex in $D$, and for each $i \\in [0,2k_x-2]$, $p_{x,2i}$ or $p_{x,2i+1}$ is in $D$. Therefore $(F,D)$ is an $({\\cal F},{\\cal F}_0)$-partition of $G'_I$.\n\nSuppose now that there is an $({\\cal F},{\\cal F}_0)$-partition $(F,D)$ of $G'_I$. All the $a_C$, the $q_{x,i}$ and the $r_{x,i}$ are in $F$. For all variable $x$ and all $i \\in [0,2k_x-2]$, either $p_{x,i} \\in F$ and $p_{x,i+1} \\in D$, or $p_{x,i} \\in D$ and $p_{x,i+1} \\in F$. Therefore for all $x$, either all the $p_{x,i}$ are in $F$ for $i$ even and in $D$ for $i$ odd, or all the $p_{x,i}$ are in $D$ for $i$ even and in $F$ for $i$ odd. Let $\\sigma$ be the assignation of the variables $x$ such that $\\sigma(x) = 1$ if $p_{x,0}$ is in $F$, and $\\sigma(x) = 0$ otherwise. Let $C$ be a clause of $I$. At least one of the $x_C$ is in $D$ (otherwise $K_C$ is a cycle with every vertex in $F$), and it is adjacent to a $p_{x,i}$ with $i$ even if $x$ is positive and $i$ odd if $x$ is negative in $C$. This $p_{x,i}$ is in $F$, so if $x$ is positive in $C$, then $\\sigma(x) = 1$, else $\\sigma(x) = 0$. Therefore $\\sigma$ satisfies clause $C$, and this is true for all $C$, so $\\sigma$ satisfies $I$.\n\nIt is easy to see that the reduction is polynomial, and that $G'_I$ is a triangle-free planar graph. Thus this is a polynomial reduction from {\\sc Planar $3$-sat} to $P_0$.\n\n\\subsection*{Second reduction: from $P_0$ to $P_d$ with $d < d_0$}\nConsider an instance $I$ of $P_0$. For each vertex $v$ in $I$, add $d$ copies of $H'$, such that the corresponding copies of $y$ are adjacent to $v$. We call $I_d$ the resulting graph.\n\nSuppose $I$ admits an $({\\cal F},{\\cal F}_0)$-partition. Consider an $({\\cal F},{\\cal F}_d)$-partition of $H'$. Apply it to every copy of $H'$ we made in $I_d$. Complete it with an $({\\cal F},{\\cal F}_0)$-partition of $I$. The obtained partition is an $({\\cal F},{\\cal F}_d)$-partition of $I_d$.\n\nSuppose now that $I_d$ admits an $({\\cal F},{\\cal F}_d)$-partition $(F,D)$. In each copy of $H'$, we have $y \\in D$, so each vertex in $I$ has exactly $d$ $(I_d-V(I))$-neighbours in $D$ and no $(I_d-V(I))$-neighbours in $F$. Therefore $(F \\cap V(I), D \\cap V(I))$ is an $({\\cal F},{\\cal F}_0)$-partition of $I$.\n\nIt is easy to see that the reduction is polynomial, and that $I_d$ is a triangle-free planar graph. Thus this is a polynomial reduction from $P_0$ to $P_d$.\n\n\n\\section{Acknowledgements}\n\nWe are deeply grateful to Pascal Ochem who pointed out that the PLANAR 3-SAT problem would be helpful to prove our complexity result.\n\nMoreover, this research was partially supported by ANR EGOS project, under contract ANR-12-JS02-002-01.\n\n\\bibliographystyle{plain}\n\\bibliography{biblio} {}\n\n\n\n\n\n\n\n\n\n\n\n\n\n", "itemtype": "equation", "pos": 37291, "prevtext": "\n\n\\maketitle\n\n\\newtheorem{theo}{Theorem}\n\\newtheorem*{theo*}{Theorem}\n\\newtheorem{cor}[theo]{Corollary}\n\\newtheorem{lemm}[theo]{Lemma}\n\\newtheorem{prop}[theo]{Property}\n\\newtheorem{obs}[theo]{Observation}\n\\newtheorem{conj}[theo]{Conjecture}\n\\newtheorem{claim}[theo]{Claim}\n\\newtheorem{config}[theo]{Configuration}\n\\newtheorem{quest}[theo]{Question}\n\\begin{abstract}\n\n  An $({\\cal F},{\\cal F}_d)$-partition of a\n  graph is a vertex-partition into two sets $F$ and $F_d$ such\n  that the graph induced by $F$ is a forest and the one induced by\n  $F_d$ is a forest with maximum degree at most $d$. We prove that\n  every triangle-free planar graph admits an\n  $({\\cal F},{\\cal F}_5)$-partition. Moreover we show that if for some\n  integer $d$ there exists a triangle-free planar graph that does not\n  admit an $({\\cal F},{\\cal F}_d)$-partition, then it is an\n  NP-complete problem to decide whether a triangle-free planar graph admits\n  such a partition.\n\\end{abstract} \n\n\\section{Introduction}\nWe only consider finite simple graphs, with neither\nloops nor multi-edges. Planar graphs we consider are supposed to be\nembedded in the plane.\nConsider $i$ classes of graphs ${\\cal G}_1,\\ldots, {\\cal G}_i$. A\n$({\\cal G}_1,\\ldots, {\\cal G}_i)$-partition of a graph $G$ is a\nvertex-partition into $i$ sets $V_1,\\ldots,V_i$ such that, for all\n$1\\le j \\le i$, the graph $G[V_j]$ induced by $V_j$ belongs to ${\\cal\n  G}_j$. In the following we will consider the following classes of\ngraphs:\n\\begin{itemize}\n\\item ${\\cal F}$ the class of forests,\n\\item ${\\cal F}_d$ the class of forests with maximum degree at most\n  $d$,\n\\item ${\\cal D}_d$ the class of $d$-degenerate graphs (recall that a\n  \\emph{$d$-degenerate graph} is a graph such that all subgraphs have a\n  vertex of degree at most $d$),\n\\item ${\\Delta}_d$ the class of graphs with maximum degree at most $d$,\n\\item ${\\cal I}$ the class of empty graphs (i.e. graphs with no edges).\n\\end{itemize}\nFor example, an $({\\cal I},{\\cal F},{\\cal D}_2)$-partition of $G$ is a\nvertex-partition into three sets $V_1,V_2,V_3$ such that $G[V_1]$ is\nan empty graph, $G[V_2]$ is a forest, and $G[V_3]$ is a 2-degenerate\ngraph.\n\n\n\nThe Four Colour Theorem \\cite{appel1,appel2} states that every planar\ngraph $G$ admits a proper $4$-colouring, that is that $G$ can be\npartitioned into four empty graphs, i.e. $G$ has an\n$({\\cal I}, {\\cal I}, {\\cal I}, {\\cal\n  I})$-partition.\nBorodin~\\cite{Borodin} proved that every planar graph admits an\nacyclic colouring with at most five colours (an acyclic colouring is a\nproper colouring in which every two colour classes induce a\nforest). This implies that every planar graph admits an\n$({\\cal I}, {\\cal F}, {\\cal F})$-partition. Poh~\\cite{Poh} proved that\nevery planar graph admits an\n$({\\cal F}_2, {\\cal F}_2, {\\cal F}_2)$-partition. Thomassen proved\nthat every planar graph admits an\n$({\\cal F}, {\\cal D}_2)$-partition~\\cite{thomassen1995decomposing},\nand an\n$({\\cal I}, {\\cal\n  D}_3)$-partition~\\cite{thomassen2001decomposing}.\nHowever, there are planar graphs that do not admit any\n$({\\cal F}, {\\cal F})$-partition~\\cite{chartrand1969point}. Borodin\nand Glebov~\\cite{borodin2001partition} proved that every planar graph\nof girth at least $5$ (that is every planar graph with no triangles\nnor cycles of length $4$) admits an $({\\cal I}, {\\cal F})$-partition.\n\nWe focus on triangle-free planar graphs. Raspaud and Wang~\\cite{raspaud2008vertex} proved that every planar graph with no triangles at distance at most $2$ (and thus in particular every triangle-free planar graph) admits an $({\\cal F}, {\\cal F})$-partition. However, it is not known whether every triangle-free planar graph admits an $({\\cal I}, {\\cal F})$-partition. We pose the following questions: \n\n\\begin{quest} \\label{q1}\n  Does every triangle-free planar graph admit an $({\\cal I}, {\\cal F})$-partition?\n\\end{quest}\n\n\\begin{quest} \\label{q2}\n  More generally, what is the lowest $d$ such that every triangle-free planar graph admits an $({\\cal F}, {\\cal F}_d)$-partition?\n\\end{quest}\n\nNote that proving $d= 0$ in Question~\\ref{q2} would prove Question~\\ref{q1}.\nThe main result of this paper is the following:\n\\begin{theo} \\label{main} \n  \n  \n  \n  \n  Every triangle-free planar graph admits an $({\\cal F},{\\cal F}_5)$-partition.\n\\end{theo}\n\nThis implies that $d \\le 5$ in Question~\\ref{q2}. Our proof uses the\ndischarging method. It is constructive and immediately yields an\nalgorithm for finding an $({\\cal F},{\\cal F}_5)$-partition of a\ntriangle-free planar graph in quadratic time.\n\nNote that Montassier and Ochem~\\cite{mo15} proved that not every\ntriangle-free planar graph can be partitioned into two graphs of\nbounded degree (which shows that our result is tight in\nsome sense).\n\nFinally, we show that if for some $d$, there exists a triangle-free planar graph\nthat does not admit an $({\\cal F},{\\cal F}_d)$-partition, then deciding whether a triangle-free planar\ngraph admits such a partition is NP-complete. That is, if the answer\nto Question~\\ref{q2} is some $k> 0$, then for all $0\\le d< k$, deciding whether a triangle-free\nplanar graph admits an $({\\cal F},{\\cal F}_d)$-partition is NP-complete. We prove this by\nreduction to \\textsc{Planar 3-Sat}.\n\nAll presented results on vertex-partition of planar graphs are\nsummarized in Table~\\ref{tab:results}. \n\n\\begin{table}\n  \\centering\n  \\begin{center}\n    \\begin{tabular}{|l|l|l|}\n      \\hline\n      Classes & Vertex-partitions & References \\\\ \\hline\n      \\multirow{5}{*}{Planar graphs} & $({\\cal I},{\\cal I},{\\cal I},{\\cal I})$ & The Four\n                                                                                 Color Theorem \\cite{appel1,appel2}\\\\\n              & $({\\cal I},{\\cal F},{\\cal F})$& Borodin \\cite{Borodin} \\\\\n              & $({\\cal F}_2,{\\cal F}_2,{\\cal F}_2)$& Poh \\cite{Poh} \\\\\n              & $({\\cal F},{\\cal D}_2)$& Thomassen \\cite{thomassen1995decomposing} \\\\\n              & $({\\cal I},{\\cal D}_3)$& Thomassen \\cite{thomassen2001decomposing} \\\\ \\hline\n      \\multirow{4}{*}{Planar graphs with girth 4} & $({\\cal I},{\\cal I},{\\cal I})$& Gr\u00c3\u00b6tzsch\n                                                                                    \\cite{grotzsch} \\\\\n              & $({\\cal F},{\\cal F})$ & Folklore \\\\\n              & $({\\cal F}_5,{\\cal F})$ & Present paper (Theorem~\\ref{main}) \\\\ \n              & $({\\cal I},{\\cal F})$ & Open question (Question~\\ref{q1})\\\\ \\hline \n      \\multirow{1}{*}{Planar graphs with girth 5} & $({\\cal I},{\\cal F})$& Borodin and\n                                                                           Glebov \\cite{borodin2001partition} \\\\ \\hline\n    \\end{tabular}\n  \\end{center}\n\n  \\caption{Known results.}\n  \\label{tab:results}\n\\end{table}\n\\medskip\n\nTheorem~\\ref{main} will be proved in Section~\\ref{proofmain}.\nSection~\\ref{complexity} is devoted to complexity results.\n\n\\subsection*{Notation} \\label{not}\nLet $G=(V,E)$ be a plane graph (i.e. planar graph together with its\nembedding).\n\nFor a set $S \\subset V$, let $G - S$ be the graph constructed from $G$ by removing the vertices of $S$ and all the edges incident to some vertex of $S$. If $x \\in V$, then we denote $G - \\{x\\}$ by $G - x$. For a set $S$ of vertices such that $S \\cap V = \\emptyset$, let $G + S$ be the graph constructed from $G$ by adding the vertices of $S$. If $x \\notin V$, then we denote $G + \\{x\\}$ by $G + x$. For a set $E'$ of pairs of vertices of $G$ such that $E' \\cap E = \\emptyset$, let $G + E'$ be the graph constructed from $G$ by adding the edges of $E'$. If $e$ is a pair of vertices of $G$ and $e \\notin E$, then we denote $G + \\{e\\}$ by $G + e$. For a set $W \\subset V$, we denote by $G[W]$ the subgraph of $G$ induced by $W$.\n\nWe call a vertex of degree $k$, at least $k$ and at most $k$, a\n\\emph{$k$-vertex}, a \\emph{$k^+$-vertex} and a \\emph{$k^-$-vertex}\nrespectively, and by extension, for any fixed vertex $v$, we call a\nneighbour of $v$ of degree $k$, at least $k$ and at most $k$, a\n\\emph{$k$-neighbour}, a \\emph{$k^+$-neighbour}, and a\n\\emph{$k^-$-neighbour} of $v$ respectively. When there is some\nambiguity on the graph, we call a neighbour of $v$ in $G$ a\n\\emph{$G$-neighbour} of $v$. We call a cycle of length $\\ell$, at least\n$\\ell$ and at most $\\ell$ a \\emph{$\\ell$-cycle}, a \\emph{$\\ell^+$-cycle}, and a\n\\emph{$\\ell^-$-cycle} respectively, and by extension a face of length\n$\\ell$, at least $\\ell$ and at most $\\ell$ a \\emph{$\\ell$-face}, a\n\\emph{$\\ell^+$-face}, and a \\emph{$\\ell^-$-face} respectively. We say that a\nvertex of $G$ is \\emph{big} if it is a $8^+$-vertex, and \\emph{small}\notherwise. By extension, a big neighbour of a vertex $v$ is a\n$8^+$-neighbour of $v$, and a small neighbour of $v$ is a\n$7^-$-neighbour of $v$.\n\nTwo neighbours $u$ and $w$ of a vertex $v$ are \\emph{consecutive} if $uvw$ forms a path on the boundary of a face.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\\section{Proof of Theorem \\ref{main}} \\label{proofmain}\n\nWe prove Theorem~\\ref{main} by contradiction. Let $G = (V,E)$ be a counter-example to Theorem~\\ref{main} of minimum order.\n\nGraph $G$ is connected, otherwise at least one of its connected components would be a counter-example to Theorem~\\ref{main}, contradicting the minimality of $G$.\n\nLet us consider any plane embedding of $G$.\nLet us prove a series of lemmas on the structure of $G$, that correspond to forbidden configurations in $G$.\n\n\\begin{lemm} \\label{degge3}\n  There are no $2^-$-vertices in $G$.\n\\end{lemm}\n\n\\begin{proof}\n  Suppose there is a $2^-$-vertex $v$ in $G$. By minimality of $G$, $G-v$ admits an $({\\cal F},{\\cal F}_5)$-partition $(F,D)$. If $v$ is a $1^-$-vertex, then $G[F \\cup\\{v\\}] \\in {\\cal F}$. Suppose $v$ is a $2$-vertex. If both of its neighbours are in $F$, then $G[D \\cup \\{v\\}] \\in {\\cal F}_5$. Otherwise, $G[F \\cup\\{v\\}] \\in {\\cal F}$. In all cases, one can obtain an $({\\cal F},{\\cal F}_5)$-partition of $G$, a contradiction.\n\\end{proof}\n\n\\begin{lemm} \\label{3-b}\n  Every $3$-vertex in $G$ has at least one big neighbour.\n\\end{lemm}\n\n\\begin{proof}\n  Suppose there is a $3$-vertex $v$ in $G$ that has three small neighbours. By minimality of $G$, $G - v$ admits an $({\\cal F},{\\cal F}_5)$-partition $(F,D)$. If at least two neighbours of $v$ are in $D$, then $G[F \\cup\\{v\\}] \\in {\\cal F}$. If no neighbour of $v$ is in $D$, then $G[D \\cup \\{v\\}] \\in {\\cal F}_5$. Suppose exactly one neighbour $u$ of $v$ is in $D$. If at most one of the neighbours of $u$ is in $F$, then $G[F \\cup \\{u\\}] \\in {\\cal F}$, and $G[D \\backslash \\{u\\} \\cup \\{v\\}] \\in {\\cal F}_5$. Otherwise, since $u$ is small, at most four of the neighbours of $u$ are in $D$, thus $G[D \\cup \\{v\\}] \\in {\\cal F}_5$. In all cases, one can obtain an $({\\cal F},{\\cal F}_5)$-partition of $G$, a contradiction.\n\\end{proof}\n\n\\begin{lemm} \\label{4-5star}\n  Every $4$-vertex or $5$-vertex in $G$ has at least one $4^+$-neighbour.\n\\end{lemm}\n\n\\begin{proof}\n  Suppose there is a $4$-vertex or $5$-vertex $v$ in $G$ that has no $4^+$-neighbour. Let the $u_i$ be the neighbours of $v$, for $i \\in \\{0,...,3\\}$ or $i \\in \\{0,...,4\\}$. Let $G' = G - v - \\bigcup_i \\{u_i\\}$. By minimality of $G$, $G'$ admits an $({\\cal F},{\\cal F}_5)$-partition $(F,D)$. Add $v$ to $D$, and for all $u_i$, add $u_i$ to $D$ if its two neighbours distinct from $v$ are in $F$, and add $u_i$ to $F$ otherwise. Vertex $v$ has at most five neighbours in $D$, and each of the $u_i$ that is in $D$ has one neighbour in $D$. Each of the $u_i$ that is in $F$ has at most one neighbour in $F$. We have an $({\\cal F},{\\cal F}_5)$-partition of $G$, a contradiction.\n\\end{proof}\n\n\\begin{figure}[h]\n  \\begin{center}\n    \\begin{tikzpicture}\n      \\coordinate (v0) at (0,0) ;\n      \\coordinate (v1) at (1,1) ;\n      \\coordinate (b0) at (1,-1) ;\n      \\coordinate (b1) at (0,2) ;\n      \\coordinate (s0) at (-1,1) ;\n      \\coordinate (s1) at (2,0) ;\n\n      \\draw (v0) node [below left] {$v_0$} ; \n      \\draw (v1) node [above right] {$v_1$} ;\n      \\draw (b0) node [below left] {$b_0$} ;\n      \\draw (b1) node [above right] {$b_1$} ;\n      \\draw (s0) node [below left] {$s_0$} ;\n      \\draw (s1) node [above right] {$s_1$} ;\n\n      \\draw (v0) -- (v1);\n      \\draw (v0) -- (s0);\n      \\draw (v0) -- (b0);\n      \\draw (v1) -- (s1);\n      \\draw (v1) -- (b1);\n      \\draw (b0) -- (s1);\n\n      \\draw [fill=black] (v0) circle (1.5pt) ; \n      \\draw [fill=black] (v1) circle (1.5pt) ;\n      \\draw [fill=white] (b0) circle (4pt) ;\n      \\draw [fill=white] (b1) circle (4pt) ;\n      \\draw [fill=white] (s0) circle (1.5pt) ;\n      \\draw [fill=white] (s1) circle (1.5pt) ;\n\n    \\end{tikzpicture}\n  \\end{center}\n  \\caption{The forbidden configuration of Lemma~\\ref{config1}. The big vertices are represented with big circles, and the small vertices with small circles. The filled circles represent vertices whose incident edges are all represented.}\\label{figconfig1}\n\\end{figure}\n\nWe will need the following observation in the next two lemmas.\n\\begin{obs} \\label{dist3}\n  Let $v_0v_1v_2v_3$ be a face of $G$, $u_0$ a neighbour of $v_0$ and $u_1$ a neighbour of $v_1$. Either $u_0$ and $v_2$ are at distance at least $3$, or $u_1$ and $v_3$ are at distance at least $3$.\n\\end{obs}\nBy contradiction, suppose that $u_0$ and $v_2$ are at distance at most two, and that $u_1$ and $v_3$ are at distance at most two. Since $G$ is triangle-free, a shortest path from $u_0$ to $v_2$ (resp. from $u_1$ to $v_3$) does not contain any of the $u_i$ and $v_i$ except for its extremities. Then by planarity there exists a vertex $w$ adjacent to $u_0$, $v_2$, $u_1$ and $v_3$. In particular $v_2v_3w$ is a triangle, a contradiction.\n\n\n\\begin{lemm} \\label{config1}\n  The following configuration does not occur in $G$: two adjacent $3$-vertices $v_0$ and $v_1$ such that for $i \\in \\{0,1\\}$, $v_i$ has a big neighbour $b_i$ and a small neighbour $s_i$, and such that $v_0v_1s_1b_0$ bounds a face of $G$.\n\\end{lemm}\n\n\\begin{proof}\n  Suppose such a configuration exists in $G$. See Figure~\\ref{figconfig1} for an illustration of this configuration. Observe that all the vertices defined in the statement are distinct (since $G$ is triangle-free). By Observation~\\ref{dist3}, either $b_0$ and $b_1$ are at distance at least $3$, or $s_0$ and $s_1$ are at distance at least $3$. For the remaining of the proof, we no longer need the fact that $b_0s_1 \\in E(G)$. We forget this assumption, and only remember that either $b_0$ and $b_1$ are at distance at least $3$, or $s_0$ and $s_1$ are at distance at least $3$. This provides some symmetry in the graph.\n\n  Let $G_0 = G - \\{v_0,v_1\\} + b_0b_1$ and $G_1 = G - \\{v_0,v_1\\} + s_0s_1$. By what precedes, either $G_0$ or $G_1$ is triangle-free, thus there exists a $j$ such that $G_j$ is a triangle-free planar graph. By minimality of $G$, $G_j$ admits an $({\\cal F},{\\cal F}_5)$-partition $(F,D)$. \n\n  Let us first prove that if we do not have $b_0$ and $b_1$ in $D$, and $s_0$ and $s_1$ in $F$, then the conditions $G[F] \\in {\\cal F}$ and $G[D] \\in {\\cal F}_5$ lead to a contradiction. We will see that we can always extend the $({\\cal F},{\\cal F}_5)$-partition of $G_j$ to $G$.\n\n  \\begin{itemize}\n  \\item\n    If at least three of the $b_i$ and $s_i$ are in $D$, then $G[F \\cup \\{v_0,v_1\\}] \\in {\\cal F}$. \n\n  \\item If all of the $b_i$ and $s_i$ are in $F$, then $G[D \\cup \\{v_0,v_1\\}] \\in {\\cal F}_5$.\n\n  \\item\n    Suppose now that exactly three of the $b_i$ and $s_i$ are in $F$. W.l.o.g., $b_0 \\in D$ or $s_0 \\in D$. We have $G[F \\cup \\{v_0\\}] \\in {\\cal F}$ and $G[D \\cup \\{v_1\\}] \\in {\\cal F}_5$.\n\n  \\item\n    Suppose now that exactly two of the $b_i$ and $s_i$ are in $F$. If $b_0$ and $s_0$ are in $F$ (resp. $b_1$ and $s_1$ are in $F$), then $G[D \\cup \\{v_0\\}] \\in {\\cal F}_5$ and $G[F \\cup \\{v_1\\}] \\in {\\cal F}$ (resp. $G[F \\cup \\{v_0\\}] \\in {\\cal F}$ and $G[D \\cup \\{v_1\\}] \\in {\\cal F}_5$).\n\n    Now w.l.o.g. $b_0 \\in F$ and $s_0 \\in D$. If $s_0$ has at most one $G$-neighbour in $F$, then  $G[F \\cup \\{s_0\\}] \\in {\\cal F}$, we can replace $F$ by $F \\cup \\{s_0\\}$ and $D$ by $D \\backslash \\{s_0\\}$, and we fall into a previous case. We can thus assume that $s_0$ has at least two of its $G$-neighbours in $F$, and thus it has at most four of its $G$-neighbours in $D$. Therefore $G[D \\cup \\{v_0\\}] \\in {\\cal F}_5$, and $G[F \\cup \\{v_1\\}] \\in {\\cal F}$.\n  \\end{itemize}\n  In all cases, $G$ has an $({\\cal F},{\\cal F}_5)$-partition, a contradiction.\n  \\medskip\n\n  Remains the case where $b_0$ and $b_1$ are in $D$, and $s_0$ and $s_1$ are in $F$. In the case where we added the edge $b_0b_1$ (i.e. the case $j = 0$), we have $G[D \\cup \\{v_0,v_1\\}] \\in {\\cal F}_5$, since $G[D \\cup \\{v_0,v_1\\}]$ is equal to $G_0[D]$ where an edge is subdivided twice. Similarily, in the case where we added the edge $s_0s_1$ (i.e. the case $j = 1$), we have $G[F \\cup \\{v_0,v_1\\}] \\in {\\cal F}$, since $G[F \\cup \\{v_0,v_1\\}]$ is equal to $G_0[F]$ where an edge is subdivided twice. Again, $G$ has an $({\\cal F},{\\cal F}_5)$-partition, a contradiction.\n\\end{proof}\n\n\\begin{figure}[h]\n  \\begin{center}\n    \\begin{tikzpicture}\n      \\coordinate (v0) at (0,0);\n      \\coordinate (v1) at (1,1);\n      \\coordinate (s1) at (2,0);\n      \\coordinate (b0) at (1,-1);\n      \\coordinate (s0) at (-1,1);\n      \\coordinate (w0) at (0,2);\n      \\coordinate (w1) at (2,2);\n\n\n      \\draw (v0) node [below left] {$v_0$} ;\n      \\draw (1.1,1) node [right] {$v_1$} ;\n      \\draw (s1) node [below right] {$s_1$} ;\n      \\draw (1,-1.1) node [below] {$b$} ;\n      \\draw (s0) node [left] {$s_0$} ;\n      \\draw (w0) node [above left] {$w_0$} ;\n      \\draw (w1) node [above right] {$w_1$} ;\n\n      \\draw (v0) -- (v1);\n      \\draw (v0) -- (b0);\n      \\draw (v0) -- (s0);\n      \\draw (v1) -- (s1);\n      \\draw (v1) -- (w0);\n      \\draw (v1) -- (w1);\n      \\draw (s1) -- (b0);\n      \\draw (s1) -- ++(0.5,0.5);\n\n      \\draw [fill=black](v0) circle (1.5pt) ;\n      \\draw [fill=black](v1) circle (1.5pt) ;\n      \\draw [fill=black](s1) circle (1.5pt) ;\n      \\draw [fill=white](b0) circle (4pt) ;\n      \\draw [fill=white](s0) circle (1.5pt) ;\n      \\draw [fill=white](w0) circle (1.5pt) ;\n      \\draw [fill=white](w1) circle (1.5pt) ;\n\n    \\end{tikzpicture}\n  \\end{center}\n  \\caption{The forbidden configuration of Lemma~\\ref{config2}.}\\label{figconfig2}\n\\end{figure}\n\n\n\\begin{lemm} \\label{config2}\n  The following configuration does not occur in $G$: a $3$-vertex $v_0$ adjacent to a $4$-vertex $v_1$ such that $v_0$ has a big neighbour $b$ and a small neighbour $s_0$, and $v_1$ has three other small neighbours $s_1$, $w_0$, and $w_1$ such that $v_0v_1s_1b$ bounds a face of $G$ and $s_1$ has degree $3$.\n\\end{lemm}\n\n\\begin{proof}\n  Suppose such a configuration exists in $G$. See Figure~\\ref{figconfig2} for an illustration of this configuration. Observe that all the vertices defined in the statement are distinct (since $G$ is triangle-free). By Observation~\\ref{dist3}, either $b$ and $w_0$ are at distance at least $3$, or $s_0$ and $s_1$ are at distance at least $3$. Let $G_0 = G - \\{v_0,v_1\\} + bw_0$ and $G_1 = G - \\{v_0,v_1\\} + s_0s_1$. By what precedes, either $G_0$ or $G_1$ is triangle-free, thus there exists a $j$ such that $G_j$ is a triangle-free planar graph. By minimality of $G$, $G_j$ has an $({\\cal F},{\\cal F}_5)$-partition $(F,D)$.\n\n  Let us first prove that except in the case where $\\{b,w_0,w_1\\} \\subset D$ and $\\{s_0,s_1\\} \\subset F$, the conditions $G[F] \\in {\\cal F}$ and $G[D] \\in {\\cal F}_5$ lead to a contradiction. We will see that we can always extend the $({\\cal F},{\\cal F}_5)$-partition of $G_j$ to $G$.\n\n  If at least four among the $w_i$, the $s_i$ and $b$ are in $D$, then $G[F \\cup \\{v_0,v_1\\}] \\in {\\cal F}$. \n\n\n\n  Suppose now that at most three among the $w_i$, the $s_i$ and $b$ are in $D$.\n  Suppose $x \\in \\{b,s_0,s_1,w_0,w_1\\}$ is in $D$. If $x$ has at most one $G$-neighbour in $F$, then $G[F \\cup \\{x\\}] \\in {\\cal F}$, and we could consider $F \\cup \\{x\\}$ instead of $F$ and $D \\backslash \\{x\\}$ instead of $D$. Note that this cannot lead to the case we excluded ($\\{b,w_0,w_1\\} \\subset D$ and $\\{s_0,s_1\\} \\subset F$) unless at least four among the $w_i$, the $s_i$ and $b$ are in $D$. Thus we can assume that for any $x$ among the $w_i$ and $s_i$ such that $x \\in D$, $x$ has at most four $G$-neighbours in $D$, and thus adding one neighbour of $x$ in $D$ cannot cause $x$ to have at least six neighbours in $D$. We consider two cases according to $b$:\n\n  \\begin{itemize}\n\n  \\item Suppose $b \\in F$. If at least three of the $w_i$ and $s_i$ are in $F$, then $G[D \\cup \\{v_0,v_1\\}] \\in {\\cal F}_5$. \n\n    If at least two among the $w_i$ and $s_1$ are in $D$, then $G[F \\cup \\{v_1\\}] \\in {\\cal F}$ and $G[D \\cup \\{v_0\\}] \\in {\\cal F}_5$. Else, at least two among the $w_i$ and $s_1$ are in $F$, and we may assume that $s_0$ is in $D$ (otherwise we fall into a previous case), so $G[D \\cup \\{v_1\\}] \\in {\\cal F}_5$ and $G[F \\cup \\{v_0\\}] \\in {\\cal F}$.\n\n  \\item Suppose now that $b \\in D$. As $s_1$ has degree $3$, it has at most one $G$-neighbour in $F$, and thus as previously we could consider $F \\cup \\{s_1\\}$ instead of $F$ and $D \\backslash \\{s_1\\}$ instead of $D$. Again, this cannot lead to the case we excluded ($\\{b,w_0,w_1\\} \\subset D$ and $\\{s_0,s_1\\} \\subset F$) unless at least four among the $w_i$, the $s_i$ and $b$ are in $D$. Therefore we can assume that $s_1 \\in F$. The $w_i$ are not both in $D$ (otherwise we fall into the case we excluded). We have $G[D \\cup \\{v_1\\}] \\in {\\cal F}_5$ and $G[F \\cup \\{v_0\\}] \\in {\\cal F}$.\n  \\end{itemize}\n\n  In all cases, $G$ has an $({\\cal F},{\\cal F}_5)$-partition, a contradiction.\n\n  Remains the case $\\{b,w_0,w_1\\} \\subset D$ and $\\{s_0,s_1\\} \\subset F$. In the case where we added the edge $bw_0$ (i.e. the case $j = 0$), $b$ has at most five $G_0$-neighbours in $D$, and thus at most four $G$-neighbours in $D$, so $G[D \\cup \\{v_0\\}] \\in {\\cal F}_5$, and $G[F \\cup \\{v_1\\}] \\in {\\cal F}$. In the case where we added the edge $s_0s_1$ (i.e. the case $j = 1$), we have $G[F \\cup \\{v_0,v_1\\}] \\in {\\cal F}$, since $G[F \\cup \\{v_0,v_1\\}]$ is equal to $G_0[F]$ where an edge is subdivided twice. Again, $G$ has an $({\\cal F},{\\cal F}_5)$-partition, a contradiction.\n\\end{proof}\n\n\n\n\n\\begin{figure}[h]\n  \\begin{center}\n    \\begin{tikzpicture}\n      \\coordinate (b0) at (0,0);\n      \\coordinate (w0) at (1,-1);\n      \\coordinate (v0) at (1,1);\n      \\coordinate (v1) at (2,0);\n      \\coordinate (v2) at (3,1);\n      \\coordinate (v3) at (2,2);\n      \\coordinate (b1) at (3,-1);\n\n      \\draw (-0.1,0) node [left] {$b_0$} ;\n      \\draw (w0) node [left] {$w_0$} ;\n      \\draw (v0) node [left] {$v_0$} ;\n      \\draw (v1) node [right] {$v_1$} ;\n      \\draw (v2) node [right] {$v_2$} ;\n      \\draw (v3) node [above] {$v_3$} ;\n      \\draw (3.1,-1) node [right] {$b_1$} ;\n\n      \\draw (b0) -- (w0);\n      \\draw (v1) -- (w0);\n      \\draw (b0) -- (v0);\n      \\draw (b1) -- (v1);\n      \\draw (v0) -- (v1);\n      \\draw (v1) -- (v2);\n      \\draw (v2) -- (v3);\n      \\draw (v0) -- (v3);\n      \\draw (w0) -- ++ (0.5, -0.5);\n\n      \\draw [fill=white](b0) circle (4pt) ;\n      \\draw [fill=black](w0) circle (1.5pt) ;\n      \\draw [fill=black](v0) circle (1.5pt) ;\n      \\draw [fill=black](v1) circle (1.5pt) ;\n      \\draw [fill=white](v2) circle (1.5pt) ;\n      \\draw [fill=white](v3) circle (1.5pt) ;\n      \\draw [fill=white](b1) circle (4pt) ;\n\n    \\end{tikzpicture}\n  \\end{center}\n  \\caption{Configuration~\\ref{config3}.\\label{figconfig3}}\n\\end{figure}\n\n\nWe define a specific configuration:\n\n\\begin{config} \\label{config3}\n  Two $4$-faces $b_0v_0v_1w_0$ and $v_0v_1v_2v_3$, such that $b_0$ is a big vertex, $v_0$ and $w_0$ are $3$-vertices, $v_1$ is a $4$-vertex, $v_2$ and $v_3$ are small vertices, and the fourth neighbour of $v_1$, say $b_1$, is a big vertex.\n  See Figure~\\ref{figconfig3} for an illustration of this configuration.\n\\end{config}\n\n\\begin{figure}[h]\n  \\begin{center}\n    \\begin{tikzpicture}\n      \\coordinate (b0) at (0,0);\n      \\coordinate (w0) at (1,-1);\n      \\coordinate (w0') at (2,-2);\n      \\coordinate (v0) at (1,1);\n      \\coordinate (v1) at (2,0);\n      \\coordinate (v2) at (3,1);\n      \\coordinate (v2') at (4,2);\n      \\coordinate (v3) at (2,2);\n      \\coordinate (b1) at (3,-1);\n      \\coordinate (w1) at (4,0);\n      \\coordinate (w1') at (5,1);\n\n      \\draw (-0.1,0) node [left] {$b_0$} ;\n      \\draw (w0) node [left] {$w_0$} ;\n      \\draw (v0) node [left] {$v_0$} ;\n      \\draw (v1) node [right] {$v_1$} ;\n      \\draw (v2) node [right] {$v_2$} ;\n      \\draw (v3) node [above] {$v_3$} ;\n      \\draw (3.1,-1) node [right] {$b_1$} ;\n      \\draw (w1) node [right] {$w_1$} ;\n\n      \\draw (b0) -- (w0);\n      \\draw (v1) -- (w0);\n      \\draw (b0) -- (v0);\n      \\draw (b1) -- (v1);\n      \\draw (b1) -- (w1);\n      \\draw (v0) -- (v1);\n      \\draw (v1) -- (v2);\n      \\draw (v2) -- (v3);\n      \\draw (v0) -- (v3);\n      \\draw (w0) -- (w0');\n      \\draw (v2) -- (v2');\n      \\draw (v2) -- (w1);\n      \\draw (w1) -- (w1');\n\n      \\draw [fill=white](b0) circle (4pt) ;\n      \\draw [fill=black](w0) circle (1.5pt) ;\n      \\draw [fill=white](w0') circle (1.5pt) ;\n      \\draw [fill=black](v0) circle (1.5pt) ;\n      \\draw [fill=black](v1) circle (1.5pt) ;\n      \\draw [fill=black](v2) circle (1.5pt) ;\n      \\draw [fill=white](v2') circle (1.5pt) ;\n      \\draw [fill=white](v3) circle (1.5pt) ;\n      \\draw [fill=white](b1) circle (4pt) ;\n      \\draw [fill=black](w1) circle (1.5pt) ;\n      \\draw [fill=white](w1') circle (1.5pt) ;\n\n    \\end{tikzpicture}\n  \\end{center}\n  \\caption{The forbidden configuration of Lemma~\\ref{config4}.\\label{figconfig4}}\n\\end{figure}\n\n\\begin{lemm} \\label{config4}\n  The following configuration is forbidden: Configuration~\\ref{config3} with the added condition that there is a $4$-face $b_1v_1v_2w_1$ with $w_1$ a $3$-vertex, $v_2$ a $4$-vertex, and the fourth neighbour of $v_2$, the third neighbour of $w_1$, and the third neighbour of $w_0$ are small vertices.\n\\end{lemm}\n\n\n\\begin{proof}\n  Suppose such a configuration exists in $G$. See Figure~\\ref{figconfig4} for an illustration of this configuration. Observe that all the vertices named in the statement are distinct since $G$ is triangle-free and $w_1$ is a small vertex whereas $b_0$ is a big one.\n\n  Let us prove that either $b_0$ and $b_1$ are at distance at least $3$, or $w_0$ and $w_1$, and $w_0$ and $v_3$ are at distance at least $3$. By contradiction, suppose that $b_0$ and $b_1$ are at distance at most two, and that either $w_0$ and $w_1$ are at distance at most two, or $w_0$ and $v_3$ are at distance at most $2$. Since $G$ is triangle-free, a shortest path from $b_0$ to $b_1$, from $w_0$ to $w_1$ or from $w_0$ to $v_3$ does not go through any of the vertices defined in the statement. Then by planarity there exists a vertex $w$ adjacent to $b_0$, $b_1$, $w_0$ and either $w_1$ or $v_3$. In particular $b_0w_0w$ is a triangle, a contradiction.\n\n  Let $G_0 = G - \\{v_0,v_1\\} + b_0b_1$ and $G_1 = G - \\{v_0,v_1\\} + w_0w_1 + w_0v_3$. By what precedes, either $G_0$ or $G_1$ is triangle-free, thus there exists a $j$ such that $G_j$ is a triangle-free planar graph. By minimality of $G$, $G_j$ has an $({\\cal F},{\\cal F}_5)$-partition $(F,D)$.\n\n  Let $s_0$ be the third neighbour of $w_0$, $s_1$ be the third neighbour of $w_1$ and $s_2$ be the fourth neighbour of $v_2$. They are all small vertices, but there may be some that are equal between themselves, or equal to some vertices we defined previously. However, if one of the $s_i$ is in $\\{v_0,v_1,v_2,w_0,w_1\\}$, then this $s_i$ is a $4^-$-vertex in $G$ (and in particular it has at most $4$ neighbours in $D$).\n\n  Suppose first that $b_0$ and $b_1$ are both in $D$.\n  \\begin{enumerate}\n  \\item \\label{1stpoint} Suppose $w_0$ is in $D$. Here we only consider $(F,D)$ as an $({\\cal F},{\\cal F}_5)$-partition of $G - \\{v_0,v_1\\}$.\n\n    If $v_3$ is also in $D$, then adding $v_0$ and $v_1$ to $F$ leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$. Suppose $v_3$ is in $F$. We show now that we can assume that $v_2$ is in $D$. By contradiction, suppose $v_2$ is in $F$. We remove $v_2$ from $F$.\n    \n    Observe that we can assume that $v_2$ has no $G$-neighbour in $D$ with five $G$-neighbours in $D$. Indeed, suppose $v_2$ has a $G$-neighbour in $D$ with five $G$-neighbours in $D$. This $G$-neighbour is a $5^+$-vertex, so it is $s_2$. Moreover, $s_2$ is not equal to $v_3$ (because $v_3$ is in $F$), and is not equal to any of the other vertices named in the statement (because of the degree conditions). As $s_2$ is a small $D$-vertex, has at least five $G$-neighbours in $D$ and is adjacent to $v_2$ that is neither in $F$ nor in $D$, $s_2$ has at most one neighbour in $F$. Therefore we can put $s_2$ in $F$.\n\n    Observe that we can assume that $v_2$ has at most one $G$-neighbour in $D$. Suppose $v_2$ has two $G$-neighbours in $D$. These $G$-neighbours are $s_2$ and $w_1$. Vertex $w_1$ has at most one neighbour in $F$, that is $s_1$, so we can put $w_1$ in $F$.\n\n    Now $v_2$ has at most one $G$-neighbour in $D$, and no $G$-neighbour of $v_2$ in $D$ has five $G$-neighbours in $D$, so we can put $v_2$ in $D$. Therefore we can always assume that $v_2$ is in $D$. Note that we do not need to change where $s_2$ is in the partition if it is equal to one of the vertices named in the statement. Adding $v_0$ and $v_1$ to $F$ leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$. \n\n  \\item Suppose $w_0$ is in $F$, $v_3$ is in $D$ and $w_1$ is in $D$. If $s_2$ is in $D$, then putting $v_0$, $v_1$ and $v_2$ in $F$ leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$. Suppose $s_2$ is in $F$. We put $v_0$, $v_1$ and $w_1$ in $F$, and $v_2$ in $D$. If this increases the number of $G$-neighbours of $v_3$ in $D$ above five, then since $v_3$ is small, $v_3$ has at most one neighbour in $F$, which is $v_0$, and we put $v_3$ in $F$. This leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$. \n\n  \\item Suppose $w_0$ is in $F$, $v_3$ is in $D$ and $w_1$ is in $F$. Suppose $s_2$ is in $F$. We put $v_0$ and $v_1$ in $F$, and $v_2$ in $D$. If this increases the number of $G$-neighbours of $v_3$ in $D$ above five, then since $v_3$ is small, $v_3$ has at most one neighbour in $F$, which is $v_0$, and we put $v_3$ in $F$. This leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$. Suppose $s_2$ is in $D$. If $v_2$ is not in $F$, we may put it in $F$, since it has only one $G_j$-neighbour in $F$, that is $w_1$. Therefore we can assume that $v_2$ is in $F$. If $j = 0$, then $b_1$ has at most $4$ $G$-neighbours in $D$ (since it has at most $5$ such $G_0$-neighbours), so adding $v_0$ to $F$ and $v_1$ to $D$ leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$. If $j = 1$, then adding $v_0$ and $v_1$ to $F$ leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$.\n\n  \\item Suppose $w_0$ is in $F$ and $v_3$ is in $F$. Suppose $j = 0$. The vertex $b_0$ has at most $4$ $G$-neighbours in $D$ (since it has at most $5$ such $G_0$-neighbours), so we can add $v_0$ to $D$. If $v_2$ is in $D$, then adding $v_1$ to $F$ leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$. If $v_2$ is in $F$, then adding $v_1$ to $D$ makes $G[D]$ equal to $G_0[D]$ with an edge subdivided twice, and this leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$. Suppose $j = 1$. Here we only consider $(F,D)$ as an $({\\cal F},{\\cal F}_5)$-partition of $G - \\{v_0,v_1\\} + w_0v_3$. As in \\ref{1stpoint}, we can suppose, up to changing where $s_2$ and $w_1$ are in the partition, that $v_2$ is in $D$. Note that if $s_2$ is equal to one of the vertices named in the statement, we do not need to move $s_2$ in the partition. Adding $v_0$ and $v_1$ to $F$ leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$.\n  \\end{enumerate}\n\n  Now we may assume that at least one of $b_0$ and $b_1$ is in $F$. From now on we only consider $(F,D)$ as an $({\\cal F},{\\cal F}_5)$-partition of $G - \\{v_0,v_1\\}$.\n\n  \\begin{itemize}\n  \\item Suppose $b_0$ is in $F$ and $b_1$ is in $D$. In that case we put $v_0$ and $w_0$ in $D$, and $v_1$ in $F$. Adding $v_0$ in $D$ (resp. $w_0$ in $D$) may violate the degree condition of $G[D]$ ; however, if it happens, one can put $v_3$ (resp. $s_0$) in $F$. In any case, we obtain an $({\\cal F},{\\cal F}_5)$-partition of $G$.\n\n  \\item Suppose $b_0$ is in $D$ and $b_1$ is in $F$. If at least one of $w_0$ and $v_2$ is in $F$, then adding $v_0$ in $F$ and $v_1$ in $D$ leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$. Assume $w_0$ and $v_2$ are both in $D$. If $v_3$ is in $D$, then adding $v_0$ and $v_1$ in $F$ leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$. Assume $v_3$ is in $F$. We consider three cases:\n\n    \\begin{itemize}\n    \\item Suppose $s_2$ and $w_1$ are in $F$. Adding $v_0$ in $F$ and $v_1$ in $D$ leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$.\n\n    \\item Suppose $s_2$ is in $F$ and $w_1$ is in $D$. If $s_1$ is in $D$, then we can put $w_1$ in $F$ and we fall into the previous case. If $s_1$ is in $F$, then adding $v_0$ in $F$ and $v_1$ in $D$ leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$.\n\n    \\item Suppose $s_2$ is in $D$. If $s_1$ is in $D$ and has five $G$-neighbours in $D$ distinct from $w_1$, then as $s_1$ is small, it is distinct from all the vertices named in the statement, and we can put it in $F$. Therefore we can put $w_1$ in $D$ and $v_2$ in $F$. We fall into a previous case (at least one of $w_0$ and $v_2$ is in $F$).\n    \\end{itemize}\n\n  \\item Suppose $b_0$ and $b_1$ are in $F$. If $s_0$ is in $D$ and has five $G$-neighbours in $D$ distinct from $w_0$, then as $s_0$ is small, it is distinct from all the vertices named in the statement aside from $v_3$, and we can put it in $F$. Therefore we can put $w_0$ in $D$. We consider the following cases:\n\n    \\begin{itemize}\n    \\item If $v_2$ and $v_3$ are in $F$, then adding $v_0$ and $v_1$ to $D$ leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$.\n\n    \\item If $v_2$ is in $F$ and $v_3$ is in $D$, then adding $v_0$ to $F$ and $v_1$ to $D$ leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$.\n\n    \\item If $v_2$ is in $D$ and $v_3$ is in $F$, then adding $v_0$ to $D$ and $v_1$ to $F$ leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$.\n\n    \\item If $v_2$ and $v_3$ are in $D$, then adding $v_0$ to $D$ and $v_1$ to $F$ leads to an $({\\cal F},{\\cal F}_5)$-partition of $G$. Adding $v_0$ to $D$ may violate the degree condition of $G[D]$, but in that case we can put $v_3$ in $F$.\n    \\end{itemize}\n  \\end{itemize}\n\n\\end{proof}\n\n\n\nWe now apply a discharging procedure: first, for all $j$, every $j$-vertex $v$ has a charge equal to $c_0(v) = j - 4$, and every $j$-face $f$ has a charge equal to $c_0(f) = j - 4$. By Euler's formula, the total charge is negative (equal to $-8$). Observe that, since $G$ is triangle-free, every face has a non-negative initial charge, and by Lemma~\\ref{degge3}, the vertices that have negative initial charges are exactly the $3$-vertices of $G$, and they have an initial charge of $-1$. Here is our discharging procedure:\n\\medskip\n\n\n\n\n\n\\textbf{Discharging procedure:} \n\n\\begin{itemize}\n\\item\n  \\emph{Step 1}: Every big vertex gives $\\frac{1}{2}$ to each of its small neighbours. Furthermore, for every $4$-face $uvwx$ where $u$ and $v$ are big, and $w$ and $x$ are small, $v$ gives $\\frac{1}{4}$ to $x$ (and $u$ gives $\\frac{1}{4}$ to $w$).\n\n\\item\n  \\emph{Step 2}: Consider a $4$-vertex $v$ that does not correspond to $v_1$ in Configuration~\\ref{config3}. Vertex $v$ gives $\\frac{1}{4}$ to each of its small neighbours that are consecutive (as neighbours of $v$) to exactly one big vertex, and $\\frac{1}{2}$ to each of its small neighbours that are consecutive (as neighbours of $v$) to two big vertices. \n\n  Consider the case where $v$ corresponds to $v_1$ in Configuration~\\ref{config3}. We use the notations of Configuration~\\ref{config3}. If $w_0$ has two big neighbours, then $v_1$ gives $\\frac{1}{4}$ to $v_0$ and $\\frac{1}{4}$ to $v_2$. Otherwise, it gives $\\frac{1}{4}$ to $w_0$ and $\\frac{1}{4}$ to $v_0$.\n\n  Every small $5^+$-vertex that has a big neighbour gives $\\frac{1}{4}$ to each of its small neighbours, and an additional $\\frac{1}{4}$ for each that is consecutive (as neighbours of $v$) to at least one big vertex. Every small $5^+$-vertex that has no big neighbour gives $\\frac{1}{4}$ to each of its $3$-neighbours.\n\n\\item\n  \\emph{Step 3}: For every $4$-face $uvwx$, with $u$ a big vertex, $v$ a $3$-vertex, $w$ a $4$-vertex, and $x$ a small vertex such that $x$ gave charge to $w$ in Step $2$, $w$ gives $\\frac{1}{4}$ to $v$.\n\n\\item\n  \\emph{Step 4}: Every $5^+$-face that has a big vertex in its boundary gives $\\frac{1}{4}$ to each of the small vertices in its boundary. Every $5^+$-face that has no big vertex in its boundary gives $\\frac{1}{5}$ to each of the vertices in its boundary.\n\n\\item\n  \\emph{Step 5}: For every $4$-face $uvwx$, with $u$ a big vertex, $v$ a $3$-vertex, $w$ a $4$-vertex and $x$ a $3$-vertex such that the other face that has $vw$ in its boundary is a $5^+$-face, $w$ gives $\\frac{1}{5}$ to $v$.\n\\end{itemize}\n\n\n\nFor every vertex or face $x$ of $G$, for every $i \\in \\{1,2,3,4,5\\}$, let $c_i(x)$ be the charge of $x$ at the end of Step $i$. Observe that during the procedure, no charges are created and no charges disappear; hence the total charge is kept fixed.\n\nWe now prove that every vertex and every face has a non-negative charge at the end of the procedure.\nThat leads to the following contradiction:\n\n", "index": 1, "text": "$$0 \\le \\sum_{x \\in V(G) \\cup F(G)}c_5(x) = \\sum_{x \\in V(G) \\cup F(G)}c_0(x) = -8$$\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex1.m1\" class=\"ltx_Math\" alttext=\"0\\leq\\sum_{x\\in V(G)\\cup F(G)}c_{5}(x)=\\sum_{x\\in V(G)\\cup F(G)}c_{0}(x)=-8\" display=\"block\"><mrow><mn>0</mn><mo>\u2264</mo><mrow><munder><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>x</mi><mo>\u2208</mo><mrow><mrow><mi>V</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>G</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u222a</mo><mrow><mi>F</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>G</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mrow></munder><mrow><msub><mi>c</mi><mn>5</mn></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>=</mo><mrow><munder><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>x</mi><mo>\u2208</mo><mrow><mrow><mi>V</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>G</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u222a</mo><mrow><mi>F</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>G</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mrow></munder><mrow><msub><mi>c</mi><mn>0</mn></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>=</mo><mrow><mo>-</mo><mn>8</mn></mrow></mrow></math>", "type": "latex"}]