[{"file": "1601.06404.tex", "nexttext": "\nfor a very small $c>0$.\nThis statement was later generalized to ${\\mathbb R}$, and the constant has over the years been improved to $4/3+c'$ for a small $c'>0$ \\cite{So09, KS15}.\n\nThe intuition behind this statement is that a set cannot have many ``coincidences'' for both addition and multiplication.\nA statement like \\eqref{eq:sumprod} is not the only way to capture this intuition.\nElekes \\cite{E98} suggested that, since polynomials combine addition and multiplication, for most polynomials $f\\in {\\mathbb R}[x,y]$ we should have\n\n", "itemtype": "equation", "pos": 1906, "prevtext": "\n\\title{A survey of Elekes-R\\'onyai-type problems}\n\\author{Frank de Zeeuw\n\n}\n\\date{}\n\\maketitle\n\n\n \n \n \n \n \n\n\n\\begin{abstract}\nWe give an overview of recent progress around a problem introduced by Elekes and R\\'onyai.\nThe prototype problem is to show that a polynomial $f\\in {\\mathbb R}[x,y]$ has a large image on a Cartesian product $A\\times B\\subset {\\mathbb R}^2$, unless $f$ has a group-related special form.\nWe discuss a number of variants and generalizations. \nThis includes the Elekes-Szab\\'o problem, which generalizes the Elekes-R\\'onyai problem to a question about an upper bound on the intersection of an algebraic surface with a Cartesian product, \nand curve variants, where we ask the same questions for Cartesian products of finite subsets of algebraic curves.\n\nThese problems lie at the crossroads of combinatorics, algebra, and geometry:\nThey ask combinatorial questions about algebraic objects, whose answers turn out to have applications to geometric questions involving basic objects like distances, lines, and circles, as well as to sum-product-type questions from additive combinatorics.\nAs part of a recent surge of algebraic techniques in combinatorial geometry, a number of quantitative and qualitative steps have been made within this framework.\nNevertheless, many tantalizing open questions remain.\n\\end{abstract}\n\n\n\\tableofcontents\n\n\\section{The Elekes-R\\'onyai problem}\n\n\\subsection{Sums, products, and expanding polynomials}\n\\label{subsec:exppoly}\n\nErd\\H os and Szemer\\'edi \\cite{ES83} introduced the following problem in 1983.\nGiven a finite set $A$ in some ring, is it true that the \\emph{sumset} $A+A$ or the \\emph{productset} $A\\cdot A$ must be large?\nThe rationale is that for an arithmetic progression the sumset is small, but the productset is large, while for a geometric progession, the reverse is true.\nErd\\H os and Szemer\\'edi proved for $A\\subset {\\mathbb Z}$ that\n\n", "index": 1, "text": "\\begin{align}\\label{eq:sumprod}\n\\max\\{|A+A|,|A\\cdot A|\\} =\\Omega\\left(|A|^{1+c}\\right) \n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E1.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle\\max\\{|A+A|,|A\\cdot A|\\}=\\Omega\\left(|A|^{1+c}\\right)\" display=\"inline\"><mrow><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mo stretchy=\"false\">|</mo><mrow><mi>A</mi><mo>+</mo><mi>A</mi></mrow><mo stretchy=\"false\">|</mo></mrow><mo>,</mo><mrow><mo stretchy=\"false\">|</mo><mrow><mi>A</mi><mo>\u22c5</mo><mi>A</mi></mrow><mo stretchy=\"false\">|</mo></mrow><mo stretchy=\"false\">}</mo></mrow></mrow><mo>=</mo><mrow><mi mathvariant=\"normal\">\u03a9</mi><mo>\u2062</mo><mrow><mo>(</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>A</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>1</mn><mo>+</mo><mi>c</mi></mrow></msup><mo>)</mo></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nfor any finite $A\\subset {\\mathbb R}$, with a constant $c>0$ that may depend on $f$.\nMore generally, we should have \n\n", "itemtype": "equation", "pos": 2540, "prevtext": "\nfor a very small $c>0$.\nThis statement was later generalized to ${\\mathbb R}$, and the constant has over the years been improved to $4/3+c'$ for a small $c'>0$ \\cite{So09, KS15}.\n\nThe intuition behind this statement is that a set cannot have many ``coincidences'' for both addition and multiplication.\nA statement like \\eqref{eq:sumprod} is not the only way to capture this intuition.\nElekes \\cite{E98} suggested that, since polynomials combine addition and multiplication, for most polynomials $f\\in {\\mathbb R}[x,y]$ we should have\n\n", "index": 3, "text": "\\begin{align}\\label{eq:exppoly1} \n|f(A\\times A)| =\\Omega\\left(|A|^{1+c}\\right),\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E2.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle|f(A\\times A)|=\\Omega\\left(|A|^{1+c}\\right),\" display=\"inline\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>A</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><mi mathvariant=\"normal\">\u03a9</mi><mo>\u2062</mo><mrow><mo>(</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>A</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>1</mn><mo>+</mo><mi>c</mi></mrow></msup><mo>)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nfor $A,B\\subset {\\mathbb R}$ with $|A|=|B|=n$, and a similar bound when $A$ and $B$ have different sizes.\n\nOf course, \\eqref{eq:exppoly2} cannot hold for all polynomials, as it fails when $f(x,y)=x+y$ and $A$ and $B$ are arithmetic progressions with the same difference, or when $f(x,y)=xy$ and $A$ and $B$ are geometric progressions with the same ratio. \nMore generally, if $f$ has the additive form \n\n", "itemtype": "equation", "pos": 2749, "prevtext": "\nfor any finite $A\\subset {\\mathbb R}$, with a constant $c>0$ that may depend on $f$.\nMore generally, we should have \n\n", "index": 5, "text": "\\begin{align}\\label{eq:exppoly2} \n|f(A\\times B)| =\\Omega\\left(n^{1+c}\\right),\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E3.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle|f(A\\times B)|=\\Omega\\left(n^{1+c}\\right),\" display=\"inline\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><mi mathvariant=\"normal\">\u03a9</mi><mo>\u2062</mo><mrow><mo>(</mo><msup><mi>n</mi><mrow><mn>1</mn><mo>+</mo><mi>c</mi></mrow></msup><mo>)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nwith univariate polynomials $g,h,k$, then one has $|f(A\\times B)|=O(n)$ if one chooses $A$ and $B$ in such a way that $h(A)$ and $k(B)$ are arithmetic progressions.\nSimilarly, if $f$ has the multiplicative form\n\n", "itemtype": "equation", "pos": 3241, "prevtext": "\nfor $A,B\\subset {\\mathbb R}$ with $|A|=|B|=n$, and a similar bound when $A$ and $B$ have different sizes.\n\nOf course, \\eqref{eq:exppoly2} cannot hold for all polynomials, as it fails when $f(x,y)=x+y$ and $A$ and $B$ are arithmetic progressions with the same difference, or when $f(x,y)=xy$ and $A$ and $B$ are geometric progressions with the same ratio. \nMore generally, if $f$ has the additive form \n\n", "index": 7, "text": "\\begin{align}\\label{eq:additive}\nf(x,y) = g(h(x)+k(y))\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E4.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f(x,y)=g(h(x)+k(y))\" display=\"inline\"><mrow><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>g</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><mi>h</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><mrow><mi>k</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nthen $|f(A\\times B)|=O(n)$ if $h(A)$ and $k(B)$ are geometric progressions.\nWe will call a polynomial \\emph{additive} if it has the form in \\eqref{eq:additive}, and \\emph{multiplicative} if it has the form in \\eqref{eq:multiplicative}.\n\nElekes \\cite{E98} conjectured that the additive form \\eqref{eq:additive} and the multiplicative form  \\eqref{eq:multiplicative} are the only exceptions to the bound \\eqref{eq:exppoly2}.\nElekes proved a weaker form of this statement in \\cite{E98}, and he collaborated with R\\'onyai \\cite{ER00} to prove this conjecture in full.\nWe state an improved version of the result due to Raz, Sharir, and Solymosi \\cite{RSS15a}.\n\n\n\\begin{theorem}[Elekes-R\\'onyai, Raz-Sharir-Solymosi]\\label{thm:ERRSS}\nLet $f\\in {\\mathbb R}[x,y]$ be a polynomial of degree $d$ that is not additive or multiplicative.\nThen for all $A,B\\subset {\\mathbb R}$ with $|A|=|B|=n$ we have\n", "itemtype": "equation", "pos": 3519, "prevtext": "\nwith univariate polynomials $g,h,k$, then one has $|f(A\\times B)|=O(n)$ if one chooses $A$ and $B$ in such a way that $h(A)$ and $k(B)$ are arithmetic progressions.\nSimilarly, if $f$ has the multiplicative form\n\n", "index": 9, "text": "\\begin{align}\\label{eq:multiplicative}\nf(x,y)=g(h(x)\\cdot k(y)),\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E5.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f(x,y)=g(h(x)\\cdot k(y)),\" display=\"inline\"><mrow><mrow><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>g</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><mrow><mi>h</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u22c5</mo><mi>k</mi></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\n\\end{theorem}\n\nTo be precise, the bound stated in \\cite{ER00} was $|f(A\\times B)|=\\omega(n)$, but inspection of the proof leads to a bound of the form $|f(A\\times B)|=\\Omega(n^{1+c_d})$ with a constant $c_d>0$ depending on the degree of $f$.\nRaz, Sharir, and Solymosi \\cite{RSS15a} showed that this dependence on the degree of $f$ is not necessary, and moreover improved the constant significantly.\nTheir proof used a setup inspired by Sharir, Sheffer, and Solymosi \\cite{SSS13}, which gave a similar improvement on a special case (see Theorem \\ref{thm:ERSSS}).\nThe same bound $|f(A\\times B)| = \\Omega(n^{4/3})$ was obtained by Hegyv\\'ari and Hennecart \\cite[Proposition 8.3]{HH13} for the polynomial $f(x,y) = xy(x+y)$.\\footnote{The result in \\cite[Proposition 8.3]{HH13} has the same proof setup as \\cite{SSS13}, but it appears to be somewhat isolated; it makes no reference to \\cite{ER00}, and in turn is not referred to in \\cite{SSS13} and \\cite{RSS15a}. \nThis may be because \\cite{HH13} primarily concerns expansion bounds over finite fields.\nThe arXiv publication date of \\cite{SSS13} is half a year before that of \\cite{HH13}.}\n\nThe exceptional role played by the additive and multiplicative forms suggests that groups play a special role in this type of theorem.\nWe will touch on this in Section \\ref{sec:ES}, but see Elekes and Szab\\'o \\cite[Subsection 1.2]{ES12} for further discussion.\n\nOther (older) expositions of Theorem \\ref{thm:ERRSS} can be found in Elekes's magnificent survey \\cite{E02}, and in Matou\\v sek's book \\cite[notes to Section 4.1]{M02}.\n\n\n\n\n\n\\subsection{Extensions}\n\\label{subsec:ERextensions}\n\nIt was observed in \\cite{SSZ13} that a bound like \\eqref{eq:exppoly2} should also hold when $A$ and $B$ have different sizes, and this was proved in a weak sense.\nIn \\cite{RSS15a} such an ``unbalanced'' form of Theorem \\ref{thm:ERRSS} was proved:\nIf $f$ is not additive or multiplicative, and $A,B\\subset{\\mathbb R}$, then \n\n", "itemtype": "equation", "pos": 4484, "prevtext": "\nthen $|f(A\\times B)|=O(n)$ if $h(A)$ and $k(B)$ are geometric progressions.\nWe will call a polynomial \\emph{additive} if it has the form in \\eqref{eq:additive}, and \\emph{multiplicative} if it has the form in \\eqref{eq:multiplicative}.\n\nElekes \\cite{E98} conjectured that the additive form \\eqref{eq:additive} and the multiplicative form  \\eqref{eq:multiplicative} are the only exceptions to the bound \\eqref{eq:exppoly2}.\nElekes proved a weaker form of this statement in \\cite{E98}, and he collaborated with R\\'onyai \\cite{ER00} to prove this conjecture in full.\nWe state an improved version of the result due to Raz, Sharir, and Solymosi \\cite{RSS15a}.\n\n\n\\begin{theorem}[Elekes-R\\'onyai, Raz-Sharir-Solymosi]\\label{thm:ERRSS}\nLet $f\\in {\\mathbb R}[x,y]$ be a polynomial of degree $d$ that is not additive or multiplicative.\nThen for all $A,B\\subset {\\mathbb R}$ with $|A|=|B|=n$ we have\n", "index": 11, "text": "\n\\[|f(A\\times B)| =\\Omega_d\\left(n^{4/3}\\right).\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex1.m1\" class=\"ltx_Math\" alttext=\"|f(A\\times B)|=\\Omega_{d}\\left(n^{4/3}\\right).\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant=\"normal\">\u03a9</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo>(</mo><msup><mi>n</mi><mrow><mn>4</mn><mo>/</mo><mn>3</mn></mrow></msup><mo>)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\n\nAnother way in which Theorem \\ref{thm:ERRSS} can be extended is by replacing polynomials by \\emph{rational functions}.\nThis was indeed done in \\cite{ER00}, but not in \\cite{RSS15a}.\nHere the exceptions include the same forms \\eqref{eq:additive} and \\eqref{eq:multiplicative} with $g,h,k$ rational functions, but surprisingly, a third special form shows up here, namely\n\n", "itemtype": "equation", "pos": 6484, "prevtext": "\n\\end{theorem}\n\nTo be precise, the bound stated in \\cite{ER00} was $|f(A\\times B)|=\\omega(n)$, but inspection of the proof leads to a bound of the form $|f(A\\times B)|=\\Omega(n^{1+c_d})$ with a constant $c_d>0$ depending on the degree of $f$.\nRaz, Sharir, and Solymosi \\cite{RSS15a} showed that this dependence on the degree of $f$ is not necessary, and moreover improved the constant significantly.\nTheir proof used a setup inspired by Sharir, Sheffer, and Solymosi \\cite{SSS13}, which gave a similar improvement on a special case (see Theorem \\ref{thm:ERSSS}).\nThe same bound $|f(A\\times B)| = \\Omega(n^{4/3})$ was obtained by Hegyv\\'ari and Hennecart \\cite[Proposition 8.3]{HH13} for the polynomial $f(x,y) = xy(x+y)$.\\footnote{The result in \\cite[Proposition 8.3]{HH13} has the same proof setup as \\cite{SSS13}, but it appears to be somewhat isolated; it makes no reference to \\cite{ER00}, and in turn is not referred to in \\cite{SSS13} and \\cite{RSS15a}. \nThis may be because \\cite{HH13} primarily concerns expansion bounds over finite fields.\nThe arXiv publication date of \\cite{SSS13} is half a year before that of \\cite{HH13}.}\n\nThe exceptional role played by the additive and multiplicative forms suggests that groups play a special role in this type of theorem.\nWe will touch on this in Section \\ref{sec:ES}, but see Elekes and Szab\\'o \\cite[Subsection 1.2]{ES12} for further discussion.\n\nOther (older) expositions of Theorem \\ref{thm:ERRSS} can be found in Elekes's magnificent survey \\cite{E02}, and in Matou\\v sek's book \\cite[notes to Section 4.1]{M02}.\n\n\n\n\n\n\\subsection{Extensions}\n\\label{subsec:ERextensions}\n\nIt was observed in \\cite{SSZ13} that a bound like \\eqref{eq:exppoly2} should also hold when $A$ and $B$ have different sizes, and this was proved in a weak sense.\nIn \\cite{RSS15a} such an ``unbalanced'' form of Theorem \\ref{thm:ERRSS} was proved:\nIf $f$ is not additive or multiplicative, and $A,B\\subset{\\mathbb R}$, then \n\n", "index": 13, "text": "\\begin{align}\\label{eq:unbalanced}\n|f(A\\times B)| = \\Omega_d\\left(\\min\\left\\{|A|^{2/3}|B|^{2/3}, |A|^2, |B|^2\\right\\}\\right).\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E6.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle|f(A\\times B)|=\\Omega_{d}\\left(\\min\\left\\{|A|^{2/3}|B|^{2/3},|A|^%&#10;{2},|B|^{2}\\right\\}\\right).\" display=\"inline\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant=\"normal\">\u03a9</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo>(</mo><mrow><mi>min</mi><mo>\u2061</mo><mrow><mo>{</mo><mrow><msup><mrow><mo stretchy=\"false\">|</mo><mi>A</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>2</mn><mo>/</mo><mn>3</mn></mrow></msup><mo>\u2062</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>B</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>2</mn><mo>/</mo><mn>3</mn></mrow></msup></mrow><mo>,</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>A</mi><mo stretchy=\"false\">|</mo></mrow><mn>2</mn></msup><mo>,</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>B</mi><mo stretchy=\"false\">|</mo></mrow><mn>2</mn></msup><mo>}</mo></mrow></mrow><mo>)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nwith rational functions $g,k,l$.\nIt was pointed out in \\cite{BT12} that over ${\\mathbb C}$ this can be seen as a multiplicative form, \nbecause $g((k(x)+l(y))/(1-k(x)l(y))) = G(K(x)L(y))$ if we set $G(z)=(z-1)/(i(z+1))$, $K(x) = (1+ik(x))/(1-ik(x))$, and $L(y) = (1+il(y))/(1-il(y))$ (and if we do some tedious computation).\n\nIt remains an open problem to improve the bound $|f(A\\times B)|=\\omega(n)$ of \\cite{ER00} for rational functions $f$.\nFor one special case, the rational function $f(x,y)=(x-y)^2/(1+y^2)$, the bound $|f(A\\times A)|=\\Omega(|A|^{4/3})$ was proved in \\cite{SSVZ15}.\nThis was done in the context of the distinct distance problem for distances between points and lines; \n$f$ gives the distance between the point $(x,0)$ and the line spanned by the points $(y,0)$ and $(0,1)$.\n\n\n\\begin{problem}\nProve Theorem \\ref{thm:ERRSS} for rational functions $f\\in {\\mathbb R}[x,y]$ that are not additive, multiplicative, or of the form \\eqref{ratspec}.\n\\end{problem} \n\n\nYet another way to extend Theorem \\ref{thm:ERRSS} is from ${\\mathbb R}$ to ${\\mathbb C}$.\nMost of the proof in \\cite{RSS15a} extends easily to ${\\mathbb C}$, with the exception of the incidence bound used (see Subsection \\ref{subsec:ERproof}), which can be replaced by the bound over ${\\mathbb C}$ proved in \\cite{SdZ15} (see Theorem \\ref{thm:SZ}); the details are written down in \\cite{Ze15}.\nThus Theorem \\ref{thm:ERRSS} holds also over ${\\mathbb C}$.\n\nThe exponent $4/3$ in Theorem \\ref{thm:ERRSS} is most likely not optimal.\nElekes \\cite{E99} in fact conjectured that the bound in Theorem \\ref{thm:ERRSS} can be improved as far as $\\Omega(n^{2-{\\varepsilon}})$,\nbut no exponent better than $4/3$ has been established for any polynomial.\nElekes \\cite{E99} noted that for $f(x,y) = x^2+xy+y^2$ (and many other polynomials) and $A=B=\\{1,\\ldots,n\\}$ we have  $|f(A\\times B)| = \\Theta(n^2/\\sqrt{\\log n})$ (see \\cite[Chapter 6]{S15} for details), so perhaps the bound in Theorem \\ref{thm:ERRSS} can even be improved to $\\Omega(n^2/\\sqrt{\\log n})$.\n\n\nLet us combine the above extensions to conjecture the ultimate Elekes-R\\'onyai-type theorem (although see Section \\ref{sec:variants} for further variants).\n\n\n\\begin{conjecture}\nLet $f\\in {\\mathbb C}(x,y)$ be a rational function of degree\\footnote{The maximum of the degrees of the numerator and denominator, assuming that these do not have a common factor.} $d$ that is not additive or multiplicative.\nThen for all $A,B\\subset {\\mathbb C}$ with $|A|=|B|=n$ we have\n", "itemtype": "equation", "pos": 6992, "prevtext": "\n\nAnother way in which Theorem \\ref{thm:ERRSS} can be extended is by replacing polynomials by \\emph{rational functions}.\nThis was indeed done in \\cite{ER00}, but not in \\cite{RSS15a}.\nHere the exceptions include the same forms \\eqref{eq:additive} and \\eqref{eq:multiplicative} with $g,h,k$ rational functions, but surprisingly, a third special form shows up here, namely\n\n", "index": 15, "text": "\\begin{align}\\label{ratspec}\nf(x,y) = g\\left(\\frac{k(x)+l(y)}{1-k(x)l(y)}\\right)\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E7.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f(x,y)=g\\left(\\frac{k(x)+l(y)}{1-k(x)l(y)}\\right)\" display=\"inline\"><mrow><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>g</mi><mo>\u2062</mo><mrow><mo>(</mo><mstyle displaystyle=\"true\"><mfrac><mrow><mrow><mi>k</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><mrow><mi>l</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mrow><mn>1</mn><mo>-</mo><mrow><mi>k</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mi>l</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mfrac></mstyle><mo>)</mo></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\n\\end{conjecture}\n\n\n\n\n\\subsection{Applications}\n\\label{subsec:ERapps}\n\n\\paragraph{Sum-product bounds.}\nAs a first consequence of Theorem \\ref{thm:ERRSS}, we return to the sum-product problem mentioned at the start of Subsection \\ref{subsec:exppoly}.\nThe following generalization of the bound \\eqref{eq:sumprod} was proved by Shen \\cite{S12}: If $A\\subset {\\mathbb R}$ and $f\\in {\\mathbb R}[x,y]$ is a polynomial that is not of the form $g(\\ell(x,y))$, with $g$ a univariate polynomial and $\\ell$ a linear bivariate polynomial, \nthen \n\n", "itemtype": "equation", "pos": 9575, "prevtext": "\nwith rational functions $g,k,l$.\nIt was pointed out in \\cite{BT12} that over ${\\mathbb C}$ this can be seen as a multiplicative form, \nbecause $g((k(x)+l(y))/(1-k(x)l(y))) = G(K(x)L(y))$ if we set $G(z)=(z-1)/(i(z+1))$, $K(x) = (1+ik(x))/(1-ik(x))$, and $L(y) = (1+il(y))/(1-il(y))$ (and if we do some tedious computation).\n\nIt remains an open problem to improve the bound $|f(A\\times B)|=\\omega(n)$ of \\cite{ER00} for rational functions $f$.\nFor one special case, the rational function $f(x,y)=(x-y)^2/(1+y^2)$, the bound $|f(A\\times A)|=\\Omega(|A|^{4/3})$ was proved in \\cite{SSVZ15}.\nThis was done in the context of the distinct distance problem for distances between points and lines; \n$f$ gives the distance between the point $(x,0)$ and the line spanned by the points $(y,0)$ and $(0,1)$.\n\n\n\\begin{problem}\nProve Theorem \\ref{thm:ERRSS} for rational functions $f\\in {\\mathbb R}[x,y]$ that are not additive, multiplicative, or of the form \\eqref{ratspec}.\n\\end{problem} \n\n\nYet another way to extend Theorem \\ref{thm:ERRSS} is from ${\\mathbb R}$ to ${\\mathbb C}$.\nMost of the proof in \\cite{RSS15a} extends easily to ${\\mathbb C}$, with the exception of the incidence bound used (see Subsection \\ref{subsec:ERproof}), which can be replaced by the bound over ${\\mathbb C}$ proved in \\cite{SdZ15} (see Theorem \\ref{thm:SZ}); the details are written down in \\cite{Ze15}.\nThus Theorem \\ref{thm:ERRSS} holds also over ${\\mathbb C}$.\n\nThe exponent $4/3$ in Theorem \\ref{thm:ERRSS} is most likely not optimal.\nElekes \\cite{E99} in fact conjectured that the bound in Theorem \\ref{thm:ERRSS} can be improved as far as $\\Omega(n^{2-{\\varepsilon}})$,\nbut no exponent better than $4/3$ has been established for any polynomial.\nElekes \\cite{E99} noted that for $f(x,y) = x^2+xy+y^2$ (and many other polynomials) and $A=B=\\{1,\\ldots,n\\}$ we have  $|f(A\\times B)| = \\Theta(n^2/\\sqrt{\\log n})$ (see \\cite[Chapter 6]{S15} for details), so perhaps the bound in Theorem \\ref{thm:ERRSS} can even be improved to $\\Omega(n^2/\\sqrt{\\log n})$.\n\n\nLet us combine the above extensions to conjecture the ultimate Elekes-R\\'onyai-type theorem (although see Section \\ref{sec:variants} for further variants).\n\n\n\\begin{conjecture}\nLet $f\\in {\\mathbb C}(x,y)$ be a rational function of degree\\footnote{The maximum of the degrees of the numerator and denominator, assuming that these do not have a common factor.} $d$ that is not additive or multiplicative.\nThen for all $A,B\\subset {\\mathbb C}$ with $|A|=|B|=n$ we have\n", "index": 17, "text": "\n\\[|f(A\\times B)| = \\Omega_{d,{\\varepsilon}}\\left(n^{2-{\\varepsilon}}\\right).  \\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex2.m1\" class=\"ltx_Math\" alttext=\"|f(A\\times B)|=\\Omega_{d,{\\varepsilon}}\\left(n^{2-{\\varepsilon}}\\right).\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant=\"normal\">\u03a9</mi><mrow><mi>d</mi><mo>,</mo><mi>\u03b5</mi></mrow></msub><mo>\u2062</mo><mrow><mo>(</mo><msup><mi>n</mi><mrow><mn>2</mn><mo>-</mo><mi>\u03b5</mi></mrow></msup><mo>)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nFor many polynomials, Theorem \\ref{thm:ERRSS} improves this bound, and it also shows that one does not need to consider $|A+A|$ to conclude that $|f(A\\times A)|$ is large. \n\nOn the other hand, there are many polynomials that have the special form of Theorem \\ref{thm:ERRSS}, but that do not have the special form of Shen.\nEven in those cases, it may be possible to obtain a bound on $|f(A\\times A)|$ independent of $|A+A|$; for instance, Elekes, Nathanson, and Ruzsa \\cite{ENR99} prove $|f(A\\times A)| = \\Omega_d(|A|^{5/4})$ for $f(x,y) = x+y^2$ (and many similar functions).\nNote that for this bound it is crucial that the Cartesian product is of the form $A\\times A$ rather than $A\\times B$.\nIt may be that such a bound holds for any $f$ that is not of the form $g(h(x)+h(y))$ or $g(h(x)\\cdot h(y))$; this question does not seem to have been studied.\n\n\n\\paragraph{Distances between lines.}\nAs a corollary of their result, Elekes and R\\'onyai \\cite{ER00} made progress on the following problem of Purdy (see \\cite[Section 5.5]{BMP05}):\nGiven two lines with $n$ points each, what is the minimum number of distances occurring between the two point sets?\nThis problem is a simpler variant of the distinct distances problem of Erd\\H os \\cite{E46}, which asks for the minimum number of distinct distances determined by a point set in the plane.\nErd\\H os's problem was almost completely solved by Guth and Katz \\cite{GK15} using new algebraic methods.\n\n\nIn Purdy's problem there are two exceptional situations, when the two lines are parallel or orthogonal.\nIndeed, if on two parallel lines one places two arithmetic progressions of size $n$ with the same common difference, then the number of distinct distances is linear in $n$.\nOn two orthogonal lines, say the $x$-axis and the $y$-axis, one can take the sets $\\{(\\sqrt{i},0):1\\leq i\\leq n\\}$ and $\\{(0,\\sqrt{j}):1\\leq j\\leq n\\}$ to get a linear number of distances.\nThe following theorem states that for all other pairs of lines there are considerably more distances.\nGiven $P_1,P_2\\subset {\\mathbb R}^2$, we write $D(P_1,P_2)$ for the set of Euclidean distances between the points of $P_1$ and the points of $P_2$.\n\n\\begin{theorem}[Elekes-R\\'onyai, Sharir-Sheffer-Solymosi]\\label{thm:ERSSS}\nLet $L_1,L_2$ be two lines in ${\\mathbb R}^2$ that are not parallel or orthogonal,\nand let $P_1\\subset L_1,P_2\\subset L_2$ be finite sets of size $n$.\nThen the number of distinct distances between $P_1$ and $P_2$ satisfies\n", "itemtype": "equation", "pos": 10190, "prevtext": "\n\\end{conjecture}\n\n\n\n\n\\subsection{Applications}\n\\label{subsec:ERapps}\n\n\\paragraph{Sum-product bounds.}\nAs a first consequence of Theorem \\ref{thm:ERRSS}, we return to the sum-product problem mentioned at the start of Subsection \\ref{subsec:exppoly}.\nThe following generalization of the bound \\eqref{eq:sumprod} was proved by Shen \\cite{S12}: If $A\\subset {\\mathbb R}$ and $f\\in {\\mathbb R}[x,y]$ is a polynomial that is not of the form $g(\\ell(x,y))$, with $g$ a univariate polynomial and $\\ell$ a linear bivariate polynomial, \nthen \n\n", "index": 19, "text": "\\begin{align}\\label{eq:shen}\n\\max\\{|A+A|,|f(A\\times A)|\\} =\\Omega\\left(|A|^{5/4}\\right). \n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E8.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle\\max\\{|A+A|,|f(A\\times A)|\\}=\\Omega\\left(|A|^{5/4}\\right).\" display=\"inline\"><mrow><mrow><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mo stretchy=\"false\">|</mo><mrow><mi>A</mi><mo>+</mo><mi>A</mi></mrow><mo stretchy=\"false\">|</mo></mrow><mo>,</mo><mrow><mo stretchy=\"false\">|</mo><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>A</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo stretchy=\"false\">}</mo></mrow></mrow><mo>=</mo><mrow><mi mathvariant=\"normal\">\u03a9</mi><mo>\u2062</mo><mrow><mo>(</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>A</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>5</mn><mo>/</mo><mn>4</mn></mrow></msup><mo>)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\n\n\n\\end{theorem}\n\\begin{proof}[Proof sketch.]\nWe can assume that the lines are $y=0$ and $y=mx$, with $m\\neq 0$.\nThe squared distance between $(s,0)$ and $(t,mt)$ is\n", "itemtype": "equation", "pos": 12755, "prevtext": "\nFor many polynomials, Theorem \\ref{thm:ERRSS} improves this bound, and it also shows that one does not need to consider $|A+A|$ to conclude that $|f(A\\times A)|$ is large. \n\nOn the other hand, there are many polynomials that have the special form of Theorem \\ref{thm:ERRSS}, but that do not have the special form of Shen.\nEven in those cases, it may be possible to obtain a bound on $|f(A\\times A)|$ independent of $|A+A|$; for instance, Elekes, Nathanson, and Ruzsa \\cite{ENR99} prove $|f(A\\times A)| = \\Omega_d(|A|^{5/4})$ for $f(x,y) = x+y^2$ (and many similar functions).\nNote that for this bound it is crucial that the Cartesian product is of the form $A\\times A$ rather than $A\\times B$.\nIt may be that such a bound holds for any $f$ that is not of the form $g(h(x)+h(y))$ or $g(h(x)\\cdot h(y))$; this question does not seem to have been studied.\n\n\n\\paragraph{Distances between lines.}\nAs a corollary of their result, Elekes and R\\'onyai \\cite{ER00} made progress on the following problem of Purdy (see \\cite[Section 5.5]{BMP05}):\nGiven two lines with $n$ points each, what is the minimum number of distances occurring between the two point sets?\nThis problem is a simpler variant of the distinct distances problem of Erd\\H os \\cite{E46}, which asks for the minimum number of distinct distances determined by a point set in the plane.\nErd\\H os's problem was almost completely solved by Guth and Katz \\cite{GK15} using new algebraic methods.\n\n\nIn Purdy's problem there are two exceptional situations, when the two lines are parallel or orthogonal.\nIndeed, if on two parallel lines one places two arithmetic progressions of size $n$ with the same common difference, then the number of distinct distances is linear in $n$.\nOn two orthogonal lines, say the $x$-axis and the $y$-axis, one can take the sets $\\{(\\sqrt{i},0):1\\leq i\\leq n\\}$ and $\\{(0,\\sqrt{j}):1\\leq j\\leq n\\}$ to get a linear number of distances.\nThe following theorem states that for all other pairs of lines there are considerably more distances.\nGiven $P_1,P_2\\subset {\\mathbb R}^2$, we write $D(P_1,P_2)$ for the set of Euclidean distances between the points of $P_1$ and the points of $P_2$.\n\n\\begin{theorem}[Elekes-R\\'onyai, Sharir-Sheffer-Solymosi]\\label{thm:ERSSS}\nLet $L_1,L_2$ be two lines in ${\\mathbb R}^2$ that are not parallel or orthogonal,\nand let $P_1\\subset L_1,P_2\\subset L_2$ be finite sets of size $n$.\nThen the number of distinct distances between $P_1$ and $P_2$ satisfies\n", "index": 21, "text": "\n\\[|D(P_1,P_2)| = \\Omega\\left(n^{4/3}\\right).\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex3.m1\" class=\"ltx_Math\" alttext=\"|D(P_{1},P_{2})|=\\Omega\\left(n^{4/3}\\right).\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi>D</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>P</mi><mn>1</mn></msub><mo>,</mo><msub><mi>P</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><mi mathvariant=\"normal\">\u03a9</mi><mo>\u2062</mo><mrow><mo>(</mo><msup><mi>n</mi><mrow><mn>4</mn><mo>/</mo><mn>3</mn></mrow></msup><mo>)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nIt is easy to verify that the polynomial $f(s,t)$ is not additive or multiplicative, \nso Theorem \\ref{thm:ERRSS} implies the stated bound.\n\\end{proof}\n\n\nElekes and R\\'onyai first proved a superlinear bound in the case $|P_1| = |P_2|$ as a consequence of their result in \\cite{ER00}, thus solving Purdy's problem, in the qualitative sense of distinguishing the special pairs of lines.\nElekes \\cite{E99} then\\footnote{The chronology is somewhat confusing here. The paper \\cite{ER00} was published in 2000, and \\cite{E99} in 1999. However, \\cite{E99} refers back to \\cite{ER00} and makes it clear that \\cite{E99} is an improvement on a special case of \\cite{ER00}.} quantified the proof from \\cite{ER00} in this special case to obtain a short proof of the explicit bound $\\Omega(n^{5/4})$, noting \\cite{E02} that Brass and Matou\\v sek asked for such a ``gap theorem''.\nAn unbalanced form was proved in \\cite{SSZ13}.\nThe bound in Theorem \\ref{thm:ERSSS} was obtained by Sharir, Sheffer, and Solymosi \\cite{SSS13}, using a proof inspired by that of Guth and Katz \\cite{GK15}\\footnote{A preprint version of \\cite{GK15} became available in 2010.}. \n\nAn earlier version of \\cite{SSS13} used the Elekes-Sharir transformation from \\cite{ES11} that was crucial in \\cite{GK15} to connect distances with incidences; it was then observed that in Purdy's problem a considerably easier incidence problem can be obtained, and also that the Elekes-Sharir transformation can be bypassed. \nThe result was a proof that is even simpler than that of \\cite{E99}, and its simplicity allowed for many generalizations, including Theorem \\ref{thm:ERRSS} and many other results in this survey.\n\n\n\\paragraph{Directions on curves.}\nThe distinct directions problem asks for the minimum number of distinct directions determined by a point set in the plane.\nIt is superficially similar to the distinct distances problem, in the sense that it asks for the minimum number of distinct values determined by a function of pairs of points in the plane.\nHowever, it was solved exactly by Ungar \\cite{U82} in 1982: Any non-collinear set $P$ in ${\\mathbb R}^2$ determines at least $|P|-1$ distinct directions.\n\nThis leaves the more difficult \\emph{structural} question: What is the structure of sets that determine few distinct directions?\nLet us write $S(P)$ for the set of directions (or slopes) determined by $P\\subset {\\mathbb R}^2$.\nElekes \\cite{E99b} conjectured that if $|S(P)| = O(|P|)$, then $P$ must have many points on a conic; even in the weakest form, where ``many'' is six, this is unknown.\nElekes \\cite{E99b} showed that a (very) restricted version of this conjecture follows from Theorem \\ref{thm:ERRSS}: If $P$ lies on the graph of a polynomial of degree at most $d$ and has $|S(P)| = O_d(|P|)$, then the polynomial must be linear or quadratic.\nSee \\cite[Subsection 3.3]{E02} for a detailed discussion.\nWe state here the improvement of this result from \\cite{RSS15a}, obtained as a consequence of Theorem \\ref{thm:ERRSS}.\nIn Subsection \\ref{subsec:collineartriples} we will discuss the same question for arbitrary algebraic curves.\n\n\\begin{corollary}\\label{cor:directionsongraphs}\nLet $P$ be a finite point set that is contained in the graph $y=g(x)$ of a polynomial $g\\in {\\mathbb R}[x]$ of degree $d\\geq 3$.\nThen the number of distinct directions determined by $P$ satisfies\n", "itemtype": "equation", "pos": 12967, "prevtext": "\n\n\n\\end{theorem}\n\\begin{proof}[Proof sketch.]\nWe can assume that the lines are $y=0$ and $y=mx$, with $m\\neq 0$.\nThe squared distance between $(s,0)$ and $(t,mt)$ is\n", "index": 23, "text": "\n\\[f(s,t) = (s-t)^2+m^2t^2.\n\n \\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex4.m1\" class=\"ltx_Math\" alttext=\"f(s,t)=(s-t)^{2}+m^{2}t^{2}.\\par&#10;\" display=\"block\"><mrow><mrow><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>s</mi><mo>,</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><msup><mrow><mo stretchy=\"false\">(</mo><mrow><mi>s</mi><mo>-</mo><mi>t</mi></mrow><mo stretchy=\"false\">)</mo></mrow><mn>2</mn></msup><mo>+</mo><mrow><msup><mi>m</mi><mn>2</mn></msup><mo>\u2062</mo><msup><mi>t</mi><mn>2</mn></msup></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\n\\end{corollary}\n\\begin{proof}[Proof sketch.]\nThe direction determined by the points $(s,g(s)), (t,g(t))$ is given by the polynomial\n", "itemtype": "equation", "pos": 16350, "prevtext": "\nIt is easy to verify that the polynomial $f(s,t)$ is not additive or multiplicative, \nso Theorem \\ref{thm:ERRSS} implies the stated bound.\n\\end{proof}\n\n\nElekes and R\\'onyai first proved a superlinear bound in the case $|P_1| = |P_2|$ as a consequence of their result in \\cite{ER00}, thus solving Purdy's problem, in the qualitative sense of distinguishing the special pairs of lines.\nElekes \\cite{E99} then\\footnote{The chronology is somewhat confusing here. The paper \\cite{ER00} was published in 2000, and \\cite{E99} in 1999. However, \\cite{E99} refers back to \\cite{ER00} and makes it clear that \\cite{E99} is an improvement on a special case of \\cite{ER00}.} quantified the proof from \\cite{ER00} in this special case to obtain a short proof of the explicit bound $\\Omega(n^{5/4})$, noting \\cite{E02} that Brass and Matou\\v sek asked for such a ``gap theorem''.\nAn unbalanced form was proved in \\cite{SSZ13}.\nThe bound in Theorem \\ref{thm:ERSSS} was obtained by Sharir, Sheffer, and Solymosi \\cite{SSS13}, using a proof inspired by that of Guth and Katz \\cite{GK15}\\footnote{A preprint version of \\cite{GK15} became available in 2010.}. \n\nAn earlier version of \\cite{SSS13} used the Elekes-Sharir transformation from \\cite{ES11} that was crucial in \\cite{GK15} to connect distances with incidences; it was then observed that in Purdy's problem a considerably easier incidence problem can be obtained, and also that the Elekes-Sharir transformation can be bypassed. \nThe result was a proof that is even simpler than that of \\cite{E99}, and its simplicity allowed for many generalizations, including Theorem \\ref{thm:ERRSS} and many other results in this survey.\n\n\n\\paragraph{Directions on curves.}\nThe distinct directions problem asks for the minimum number of distinct directions determined by a point set in the plane.\nIt is superficially similar to the distinct distances problem, in the sense that it asks for the minimum number of distinct values determined by a function of pairs of points in the plane.\nHowever, it was solved exactly by Ungar \\cite{U82} in 1982: Any non-collinear set $P$ in ${\\mathbb R}^2$ determines at least $|P|-1$ distinct directions.\n\nThis leaves the more difficult \\emph{structural} question: What is the structure of sets that determine few distinct directions?\nLet us write $S(P)$ for the set of directions (or slopes) determined by $P\\subset {\\mathbb R}^2$.\nElekes \\cite{E99b} conjectured that if $|S(P)| = O(|P|)$, then $P$ must have many points on a conic; even in the weakest form, where ``many'' is six, this is unknown.\nElekes \\cite{E99b} showed that a (very) restricted version of this conjecture follows from Theorem \\ref{thm:ERRSS}: If $P$ lies on the graph of a polynomial of degree at most $d$ and has $|S(P)| = O_d(|P|)$, then the polynomial must be linear or quadratic.\nSee \\cite[Subsection 3.3]{E02} for a detailed discussion.\nWe state here the improvement of this result from \\cite{RSS15a}, obtained as a consequence of Theorem \\ref{thm:ERRSS}.\nIn Subsection \\ref{subsec:collineartriples} we will discuss the same question for arbitrary algebraic curves.\n\n\\begin{corollary}\\label{cor:directionsongraphs}\nLet $P$ be a finite point set that is contained in the graph $y=g(x)$ of a polynomial $g\\in {\\mathbb R}[x]$ of degree $d\\geq 3$.\nThen the number of distinct directions determined by $P$ satisfies\n", "index": 25, "text": "\n\\[|S(P)| = \\Omega_d\\left(|P|^{4/3}\\right). \\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex5.m1\" class=\"ltx_Math\" alttext=\"|S(P)|=\\Omega_{d}\\left(|P|^{4/3}\\right).\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi>S</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>P</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant=\"normal\">\u03a9</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo>(</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>P</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>4</mn><mo>/</mo><mn>3</mn></mrow></msup><mo>)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nIt is not hard to verify that this polynomial is not additive or multiplicative (except when $g$ is linear or quadratic), so Theorem \\ref{thm:ERRSS} gives the stated bound.\n\\end{proof}\n\nWhen $g$ has degree less than three, the number of directions can be linear.\nTake for instance the parabola $y=x^2$ and the point set \n$\\{(i,i^2): 1\\leq i\\leq n\\}$.\nThen the determined directions are $(i^2-j^2)/(i-j)=i+j$, so there are $O(n)$ distinct directions.\nIt is not hard to see that a similar example can be constructed for any other quadratic $g$.\n\n\n\n\n\n \\subsection{About the proof of Theorem \\ref{thm:ERRSS}}\\label{subsec:ERproof}\n\nWe now discuss the proof of Theorem \\ref{thm:ERRSS}. \nWe certainly do not give a full account of the proof in \\cite{RSS15a}, but we introduce the setup without too much technical detail.\nThe proof of the weaker bound in \\cite{ER00} used related techniques but was inherently different.\nThe proof setup in \\cite{RSS15a} originated in  \\cite{SSS13}, and seems to have been discovered independently (and somewhat later) in \\cite[Proposition 8.3]{HH13}; a glimpse of this setup can also be seen in the (earlier) proof of \\cite[Theorem 27]{ES12}.\nWe use the word ``setup'' to refer to the overall counting scheme of \\cite{RSS15a}, which is only the surface layer of the proof.\nThe real achievement in \\cite{RSS15a} was the treatment of high-multiplicity curves, which we discuss only briefly at the end of this subsection.\n\nThe main tool for obtaining the bound in Theorem \\ref{thm:ERRSS} is incidence theory, specifically an incidence bound for points and curves of Pach and Sharir \\cite{PS98}\\footnote{The proof in \\cite{RSS15a} did not directly use the bound from \\cite{PS98}, but rather adapted the proof from \\cite{PS98} to the incidence situation in \\cite{RSS15a}.}. This incidence bound is a generalization of the classical theorem of Szemer\\'edi and Trotter \\cite{ST} that bounds incidences between points and lines.\nThe following version is particularly convenient for the applications in this survey. \nIt assumes that the point set is a Cartesian product, \nwhich allows for a significantly simpler proof over ${\\mathbb R}$, and makes it easier to prove an analogue over ${\\mathbb C}$ (where the corresponding bound has not yet been established without extra assumptions; see \\cite{SZ15}).\nThis theorem was proved by Solymosi and De Zeeuw \\cite{SdZ15}, although the real case was probably folklore.\nWe write $|I({\\mathcal P},{\\mathcal C})|$ for the set of incidences between the points ${\\mathcal P}$ and the curves ${\\mathcal C}$, i.e., the set of pairs $(p,C)\\in {\\mathcal P}\\times {\\mathcal C}$ such that $p\\in C$.\nWe give a quick sketch of the proof, to show that proving this tool does not require any heavy machinery (at least over ${\\mathbb R}$).\n\n\\begin{theorem}\\label{thm:SZ}\nLet ${\\mathcal P}=A\\times B$ be a Cartesian product in ${\\mathbb R}^2$ or ${\\mathbb C}^2$, and let ${\\mathcal C}$ be a set of algebraic curves of degree at most $d$ in the same plane.\nAssume that any two points of ${\\mathcal P}$ are contained in at most $M$ curves of ${\\mathcal C}$.\nThen\n", "itemtype": "equation", "pos": 16528, "prevtext": "\n\\end{corollary}\n\\begin{proof}[Proof sketch.]\nThe direction determined by the points $(s,g(s)), (t,g(t))$ is given by the polynomial\n", "index": 27, "text": "\n\\[f(s,t) = \\frac{g(s)-g(t)}{s-t}. \\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex6.m1\" class=\"ltx_Math\" alttext=\"f(s,t)=\\frac{g(s)-g(t)}{s-t}.\" display=\"block\"><mrow><mrow><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>s</mi><mo>,</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mfrac><mrow><mrow><mi>g</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>s</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>-</mo><mrow><mi>g</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mrow><mi>s</mi><mo>-</mo><mi>t</mi></mrow></mfrac></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\n\\end{theorem}\n\\begin{proof}[Proof sketch in ${\\mathbb R}^2$.]\nLet us assume that $|A|=|B|=n$ and ${\\mathcal C} = n^2$ (which roughly holds in most of the statements in this survey).\nWe can partition ${\\mathbb R}^2$ using $O(r)$ horizontal and vertical lines, in such a way that each of the $O(r^2)$ resulting rectangles contains roughly $O(n^2/r^2)$ points of $A\\times B$.\nMoreover, we can ensure that the partitioning lines do not contain any points of $A\\times B$, and are not contained in any of the curves in ${\\mathcal C}$.\nWe observe that an algebraic curve of degree at most $d$ intersects $O_d(r)$ rectangles, since it can intersect a partitioning line in at most $d$ points.\n\nWe split the incidences as follows: $I_1$ is the set of incidences $(p,C)$ such that $p$ is the only incidence on $C$ in the rectangle that $p$ lies in, and $I_2$ is the remaining set of incidences.\nSince each curve hits $O_d(r)$ rectangles, we have $|I_1| = O_d(rn^2)$.\nOn the other hand, if a curve has an incidence from $I_2$ in a certain rectangle, then it has another one. \nBy the assumption of the theorem, any two points in a rectangle are together contained in at most $M$ curves. \nThus the $O(n^2/r^2)$ points in a rectangle are involved in at most $O_M(n^4/r^4)$ incidences from $I_2$, which altogether gives $|I_2| = O_{M}(n^4/r^2)$.\nChoosing $r =n^{2/3} $ optimizes \n", "itemtype": "equation", "pos": 19671, "prevtext": "\nIt is not hard to verify that this polynomial is not additive or multiplicative (except when $g$ is linear or quadratic), so Theorem \\ref{thm:ERRSS} gives the stated bound.\n\\end{proof}\n\nWhen $g$ has degree less than three, the number of directions can be linear.\nTake for instance the parabola $y=x^2$ and the point set \n$\\{(i,i^2): 1\\leq i\\leq n\\}$.\nThen the determined directions are $(i^2-j^2)/(i-j)=i+j$, so there are $O(n)$ distinct directions.\nIt is not hard to see that a similar example can be constructed for any other quadratic $g$.\n\n\n\n\n\n \\subsection{About the proof of Theorem \\ref{thm:ERRSS}}\\label{subsec:ERproof}\n\nWe now discuss the proof of Theorem \\ref{thm:ERRSS}. \nWe certainly do not give a full account of the proof in \\cite{RSS15a}, but we introduce the setup without too much technical detail.\nThe proof of the weaker bound in \\cite{ER00} used related techniques but was inherently different.\nThe proof setup in \\cite{RSS15a} originated in  \\cite{SSS13}, and seems to have been discovered independently (and somewhat later) in \\cite[Proposition 8.3]{HH13}; a glimpse of this setup can also be seen in the (earlier) proof of \\cite[Theorem 27]{ES12}.\nWe use the word ``setup'' to refer to the overall counting scheme of \\cite{RSS15a}, which is only the surface layer of the proof.\nThe real achievement in \\cite{RSS15a} was the treatment of high-multiplicity curves, which we discuss only briefly at the end of this subsection.\n\nThe main tool for obtaining the bound in Theorem \\ref{thm:ERRSS} is incidence theory, specifically an incidence bound for points and curves of Pach and Sharir \\cite{PS98}\\footnote{The proof in \\cite{RSS15a} did not directly use the bound from \\cite{PS98}, but rather adapted the proof from \\cite{PS98} to the incidence situation in \\cite{RSS15a}.}. This incidence bound is a generalization of the classical theorem of Szemer\\'edi and Trotter \\cite{ST} that bounds incidences between points and lines.\nThe following version is particularly convenient for the applications in this survey. \nIt assumes that the point set is a Cartesian product, \nwhich allows for a significantly simpler proof over ${\\mathbb R}$, and makes it easier to prove an analogue over ${\\mathbb C}$ (where the corresponding bound has not yet been established without extra assumptions; see \\cite{SZ15}).\nThis theorem was proved by Solymosi and De Zeeuw \\cite{SdZ15}, although the real case was probably folklore.\nWe write $|I({\\mathcal P},{\\mathcal C})|$ for the set of incidences between the points ${\\mathcal P}$ and the curves ${\\mathcal C}$, i.e., the set of pairs $(p,C)\\in {\\mathcal P}\\times {\\mathcal C}$ such that $p\\in C$.\nWe give a quick sketch of the proof, to show that proving this tool does not require any heavy machinery (at least over ${\\mathbb R}$).\n\n\\begin{theorem}\\label{thm:SZ}\nLet ${\\mathcal P}=A\\times B$ be a Cartesian product in ${\\mathbb R}^2$ or ${\\mathbb C}^2$, and let ${\\mathcal C}$ be a set of algebraic curves of degree at most $d$ in the same plane.\nAssume that any two points of ${\\mathcal P}$ are contained in at most $M$ curves of ${\\mathcal C}$.\nThen\n", "index": 29, "text": "\n\\[|I({\\mathcal P},{\\mathcal C})| = O_{d,M}\\left(|{\\mathcal P}|^{2/3}|{\\mathcal C}|^{2/3} +|{\\mathcal P}|+|{\\mathcal C}|\\right). \\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex7.m1\" class=\"ltx_Math\" alttext=\"|I({\\mathcal{P}},{\\mathcal{C}})|=O_{d,M}\\left(|{\\mathcal{P}}|^{2/3}|{\\mathcal{%&#10;C}}|^{2/3}+|{\\mathcal{P}}|+|{\\mathcal{C}}|\\right).\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi>I</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udcab</mi><mo>,</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udc9e</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi>O</mi><mrow><mi>d</mi><mo>,</mo><mi>M</mi></mrow></msub><mo>\u2062</mo><mrow><mo>(</mo><mrow><mrow><msup><mrow><mo stretchy=\"false\">|</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udcab</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>2</mn><mo>/</mo><mn>3</mn></mrow></msup><mo>\u2062</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udc9e</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>2</mn><mo>/</mo><mn>3</mn></mrow></msup></mrow><mo>+</mo><mrow><mo stretchy=\"false\">|</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udcab</mi><mo stretchy=\"false\">|</mo></mrow><mo>+</mo><mrow><mo stretchy=\"false\">|</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udc9e</mi><mo stretchy=\"false\">|</mo></mrow></mrow><mo>)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nwhich is the stated bound when $|{\\mathcal P}| = |{\\mathcal C}| = n^2$.\n\\end{proof}\n\n\n\nThe proof of Theorem \\ref{thm:ERRSS} is based on an upper bound for the size of the following set of quadruples:\n", "itemtype": "equation", "pos": 21166, "prevtext": "\n\\end{theorem}\n\\begin{proof}[Proof sketch in ${\\mathbb R}^2$.]\nLet us assume that $|A|=|B|=n$ and ${\\mathcal C} = n^2$ (which roughly holds in most of the statements in this survey).\nWe can partition ${\\mathbb R}^2$ using $O(r)$ horizontal and vertical lines, in such a way that each of the $O(r^2)$ resulting rectangles contains roughly $O(n^2/r^2)$ points of $A\\times B$.\nMoreover, we can ensure that the partitioning lines do not contain any points of $A\\times B$, and are not contained in any of the curves in ${\\mathcal C}$.\nWe observe that an algebraic curve of degree at most $d$ intersects $O_d(r)$ rectangles, since it can intersect a partitioning line in at most $d$ points.\n\nWe split the incidences as follows: $I_1$ is the set of incidences $(p,C)$ such that $p$ is the only incidence on $C$ in the rectangle that $p$ lies in, and $I_2$ is the remaining set of incidences.\nSince each curve hits $O_d(r)$ rectangles, we have $|I_1| = O_d(rn^2)$.\nOn the other hand, if a curve has an incidence from $I_2$ in a certain rectangle, then it has another one. \nBy the assumption of the theorem, any two points in a rectangle are together contained in at most $M$ curves. \nThus the $O(n^2/r^2)$ points in a rectangle are involved in at most $O_M(n^4/r^4)$ incidences from $I_2$, which altogether gives $|I_2| = O_{M}(n^4/r^2)$.\nChoosing $r =n^{2/3} $ optimizes \n", "index": 31, "text": "\n\\[|I({\\mathcal P},{\\mathcal C})| = |I_1|+|I_2| = O_{d,M}\\left(rn^2 + n^4/r^2\\right) \n= O\\left(n^{8/3}\\right),\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex8.m1\" class=\"ltx_Math\" alttext=\"|I({\\mathcal{P}},{\\mathcal{C}})|=|I_{1}|+|I_{2}|=O_{d,M}\\left(rn^{2}+n^{4}/r^{%&#10;2}\\right)=O\\left(n^{8/3}\\right),\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi>I</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udcab</mi><mo>,</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udc9e</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><mrow><mo stretchy=\"false\">|</mo><msub><mi>I</mi><mn>1</mn></msub><mo stretchy=\"false\">|</mo></mrow><mo>+</mo><mrow><mo stretchy=\"false\">|</mo><msub><mi>I</mi><mn>2</mn></msub><mo stretchy=\"false\">|</mo></mrow></mrow><mo>=</mo><mrow><msub><mi>O</mi><mrow><mi>d</mi><mo>,</mo><mi>M</mi></mrow></msub><mo>\u2062</mo><mrow><mo>(</mo><mrow><mrow><mi>r</mi><mo>\u2062</mo><msup><mi>n</mi><mn>2</mn></msup></mrow><mo>+</mo><mrow><msup><mi>n</mi><mn>4</mn></msup><mo>/</mo><msup><mi>r</mi><mn>2</mn></msup></mrow></mrow><mo>)</mo></mrow></mrow><mo>=</mo><mrow><mi>O</mi><mo>\u2062</mo><mrow><mo>(</mo><msup><mi>n</mi><mrow><mn>8</mn><mo>/</mo><mn>3</mn></mrow></msup><mo>)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nGiven such an upper bound, the Cauchy-Schwarz inequality gives a lower bound on the size of the image set $f(A\\times B)$, using the following calculation:\n\n", "itemtype": "equation", "pos": 21478, "prevtext": "\nwhich is the stated bound when $|{\\mathcal P}| = |{\\mathcal C}| = n^2$.\n\\end{proof}\n\n\n\nThe proof of Theorem \\ref{thm:ERRSS} is based on an upper bound for the size of the following set of quadruples:\n", "index": 33, "text": "\n\\[Q=\\{(a,b,a',b')\\in A\\times B\\times A\\times B: f(a,b) = f(a',b')\\}.\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex9.m1\" class=\"ltx_Math\" alttext=\"Q=\\{(a,b,a^{\\prime},b^{\\prime})\\in A\\times B\\times A\\times B:f(a,b)=f(a^{%&#10;\\prime},b^{\\prime})\\}.\" display=\"block\"><mrow><mrow><mi>Q</mi><mo>=</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo>,</mo><msup><mi>a</mi><mo>\u2032</mo></msup><mo>,</mo><msup><mi>b</mi><mo>\u2032</mo></msup><mo stretchy=\"false\">)</mo></mrow><mo>\u2208</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi><mo>\u00d7</mo><mi>A</mi><mo>\u00d7</mo><mi>B</mi></mrow></mrow><mo>:</mo><mrow><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mi>a</mi><mo>\u2032</mo></msup><mo>,</mo><msup><mi>b</mi><mo>\u2032</mo></msup><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo stretchy=\"false\">}</mo></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nSpecifically, when $f$ is not additive or multiplicative we obtain the upper bound $|Q|=O_d(n^{8/3})$, and then \\eqref{eq:quads} implies $|f(A\\times B)| =\\Omega_d(n^{4/3})$.\nA similar application of Cauchy-Schwarz played a central role in \\cite{GK15}.\n\n\nTo obtain an upper bound on $|Q|$, we define a set of curves and a set of points based on the given polynomial $f$ and the given sets $A,B$, to which we apply Theorem \\ref{thm:SZ}.\nFor each $(a,a')\\in A\\times A$, define\n", "itemtype": "equation", "pos": 21705, "prevtext": "\nGiven such an upper bound, the Cauchy-Schwarz inequality gives a lower bound on the size of the image set $f(A\\times B)$, using the following calculation:\n\n", "index": 35, "text": "\\begin{align}\\label{eq:quads}\n|Q| = \\sum_{c\\in f(A\\times B)}|f^{-1}(c)|^2\n\\geq \\frac{1}{|f(A\\times B)|} \\left(\\sum_{c\\in f(A\\times B)} |f^{-1}(c)|\\right)^2\n= \\frac{n^4}{|f(A\\times B)|}.\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E9.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle|Q|=\\sum_{c\\in f(A\\times B)}|f^{-1}(c)|^{2}\\geq\\frac{1}{|f(A%&#10;\\times B)|}\\left(\\sum_{c\\in f(A\\times B)}|f^{-1}(c)|\\right)^{2}=\\frac{n^{4}}{|%&#10;f(A\\times B)|}.\" display=\"inline\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mi>Q</mi><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><mstyle displaystyle=\"true\"><munder><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>c</mi><mo>\u2208</mo><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></munder></mstyle><msup><mrow><mo stretchy=\"false\">|</mo><mrow><msup><mi>f</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mn>2</mn></msup></mrow><mo>\u2265</mo><mrow><mstyle displaystyle=\"true\"><mfrac><mn>1</mn><mrow><mo stretchy=\"false\">|</mo><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow></mfrac></mstyle><mo>\u2062</mo><msup><mrow><mo>(</mo><mrow><mstyle displaystyle=\"true\"><munder><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>c</mi><mo>\u2208</mo><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></munder></mstyle><mrow><mo stretchy=\"false\">|</mo><mrow><msup><mi>f</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow></mrow><mo>)</mo></mrow><mn>2</mn></msup></mrow><mo>=</mo><mstyle displaystyle=\"true\"><mfrac><msup><mi>n</mi><mn>4</mn></msup><mrow><mo stretchy=\"false\">|</mo><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow></mfrac></mstyle></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nThis is an algebraic curve of degree at most $d$ (the degree of $f$).\nNote that for $(b,b')\\in B\\times B$, we have $(b,b')\\in C_{aa'}$ if and only if $(a,b,a',b')\\in Q$.\nThus, if we set \n", "itemtype": "equation", "pos": 22376, "prevtext": "\nSpecifically, when $f$ is not additive or multiplicative we obtain the upper bound $|Q|=O_d(n^{8/3})$, and then \\eqref{eq:quads} implies $|f(A\\times B)| =\\Omega_d(n^{4/3})$.\nA similar application of Cauchy-Schwarz played a central role in \\cite{GK15}.\n\n\nTo obtain an upper bound on $|Q|$, we define a set of curves and a set of points based on the given polynomial $f$ and the given sets $A,B$, to which we apply Theorem \\ref{thm:SZ}.\nFor each $(a,a')\\in A\\times A$, define\n", "index": 37, "text": "\n\\[C_{aa'} = \\{(x,y)\\in {\\mathbb R}^2: f(a,x) = f(a',y)\\}. \\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex10.m1\" class=\"ltx_Math\" alttext=\"C_{aa^{\\prime}}=\\{(x,y)\\in{\\mathbb{R}}^{2}:f(a,x)=f(a^{\\prime},y)\\}.\" display=\"block\"><mrow><mrow><msub><mi>C</mi><mrow><mi>a</mi><mo>\u2062</mo><msup><mi>a</mi><mo>\u2032</mo></msup></mrow></msub><mo>=</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow><mo>\u2208</mo><msup><mi>\u211d</mi><mn>2</mn></msup></mrow><mo>:</mo><mrow><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>,</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mi>a</mi><mo>\u2032</mo></msup><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo stretchy=\"false\">}</mo></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nthen $|I({\\mathcal P},{\\mathcal C})| = |Q|$.\n\nIf we could apply Theorem \\ref{thm:SZ} to ${\\mathcal P}$ and ${\\mathcal C}$, then we would immediately get the desired bound $|Q| = O_d(n^{8/3})$.\nHowever, ${\\mathcal P}$ and ${\\mathcal C}$ need not satisfy the degrees-of-freedom condition of Theorem \\ref{thm:SZ} that two points are contained in a bounded number of curves.\nThis is to be expected, since the bound should fail when $f$ is additive or multiplicative.\nIn fact, even when $f$ is not additive or multiplicative, the degrees-of-freedom condition may be violated.\nHowever, it was shown in \\cite{RSS15a} that when $f$ is not additive or multiplicative, the condition is only violated in a weak sense.\nSpecifically, one can remove negligible subsets of the points and curves so that the remainder does satisfy the condition.\n\nA key insight in the proof is that the curves $C_{aa'}$ satisfy a kind of \\emph{duality}.\nIndeed, we can define ``dual curves'' of the form $C^*_{bb'} = \\{(s,t)\\in {\\mathbb R}^2: f(s,b) = f(t,b')\\}$, so that the point $(a,a')$ lies on the dual curve $C^*_{bb'}$ if and only if the point $(b,b')$ lies on the curve $C_{aa'}$.\nThus, to check the degrees-of-freedom condition of Theorem \\ref{thm:SZ} that two points $(b_1,b_1'),(b_2,b_2')$ lie on a bounded number of curves $C_{aa'}$, we can instead look at the number of points $(a,a')$ in the intersection of the curves $C^*_{b_1b_1'},C^*_{b_2b_2'}$.\nSuch an intersection is easily bounded by B\\'ezout's inequality, unless the curves $C^*_{b_1b_1'}$ and $C^*_{b_2b_2'}$ have a common component.\nThus the degrees-of-freedom condition comes down to showing that when many of the curves $C^*_{bb'}$ have many common components, with high multiplicity, then $f$ must be additive or multiplicative.\nBy symmetry, we may as well consider this question for the original curves $C_{aa'}$.\n\nLet us see what happens when $f$ is additive or multiplicative.\nFirst consider the case where $f(x,y) = h(x) + k(y)$.\nThen $C_{aa'}$ is defined by $k(x) - k(y) = h(a') - h(a)$.\nThus $C_{a_1a_1'}$ and $C_{a_2a_2'}$ are the same curve whenever $h(a_1') -h(a_1) = h(a_2') - h(a_2)$; this means that as many as $\\Theta(|A|)$ pairs $(a,a')$ may define the same curve $C_{aa'}$.\nSimilarly, when $f(x,y) = h(x)k(y)$, then $C_{aa'}$ is defined by $k(x) = k(y)\\cdot (h(a')/h(a))$, and we can have high multiplicity.\nFinally, when $f(x,y) = g(h(x)+k(y))$, then $f(a,x) - f(a',y)$ has the factor  $h(a) + k(x) -h(a')-h(y) $, which corresponds to a component that can have high multiplicity\n(and the same happens for $f(x,y) = g(h(x)\\cdot k(y))$).\n\nThe key challenge in the proof of Theorem \\ref{thm:ERRSS} is to obtain the converse, i.e., to show that when many curves have high multiplicity, then there must be polynomials $g,h,k$ that explain the multiplicity in one of the ways above.\nIn \\cite{RSS15a} this is done by algebraically prying out $g,h,k$ from specific coefficients of the polynomial $f$.\nFor instance, roughly speaking, when the curves $C_{aa'}$ have many common components and the coefficient of the leading term of $f(a,x)-f(a',y)$ is not constant as a polynomial in $a$, then this polynomial turns out to be the $h$ in the multiplicative form $f(x,y) = g(h(x)k(y))$. \nOn the other hand, if only the constant term of $f(a,x)-f(a',y)$ depends on $a$ and $a'$, then this leads to the polynomial $h$ in the additive form $f(x,y) = g(h(x)+k(y))$.\n\n\n\n\\section{The Elekes-Szab\\'o problem}\n\\label{sec:ES}\n\n\\subsection{Intersecting varieties with Cartesian products}\nTo introduce a generalization of the Elekes-R\\'onyai problem due to Elekes and Szab\\'o, we take a step back and approach from a different direction; after a while we will see what the connection between the problems is.\nIn this section we work primarily over ${\\mathbb C}$, which is the most natural setting for the Elekes-Szab\\'o problem and the relevant proofs.\n\n\nLet us consider the Schwartz-Zippel lemma (see \\cite{L09} for the curious history of this lemma).\nThe simplest non-trivial case is the following bound on the intersection of a curve with a Cartesian product\\footnote{The word ``grid'' is often used in this context, but may lead to confusion with integer grids.}. \nIf $F\\in {\\mathbb C}[x,y]$ is a polynomial of degree $d$ and $A,B\\subset {\\mathbb C}$ are finite sets of size $n$,\nthen\\footnote{We write $Z(F)$ for the \\emph{zero set} of a polynomial $F$, i.e., the set of points at which $F$ vanishes.}\n\n", "itemtype": "equation", "pos": 22624, "prevtext": "\nThis is an algebraic curve of degree at most $d$ (the degree of $f$).\nNote that for $(b,b')\\in B\\times B$, we have $(b,b')\\in C_{aa'}$ if and only if $(a,b,a',b')\\in Q$.\nThus, if we set \n", "index": 39, "text": "\n\\[{\\mathcal P} = B\\times B~~~\\text{and}~~~{\\mathcal C} =\\{C_{aa'}: (a,a')\\in A\\times A\\},\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex11.m1\" class=\"ltx_Math\" alttext=\"{\\mathcal{P}}=B\\times B~{}~{}~{}\\text{and}~{}~{}~{}{\\mathcal{C}}=\\{C_{aa^{%&#10;\\prime}}:(a,a^{\\prime})\\in A\\times A\\},\" display=\"block\"><mrow><mrow><mi class=\"ltx_font_mathcaligraphic\">\ud835\udcab</mi><mo>=</mo><mrow><mrow><mi>B</mi><mo>\u00d7</mo><mpadded width=\"+9.9pt\"><mi>B</mi></mpadded></mrow><mo>\u2062</mo><mpadded width=\"+9.9pt\"><mtext>and</mtext></mpadded><mo>\u2062</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udc9e</mi></mrow><mo>=</mo><mrow><mo stretchy=\"false\">{</mo><msub><mi>C</mi><mrow><mi>a</mi><mo>\u2062</mo><msup><mi>a</mi><mo>\u2032</mo></msup></mrow></msub><mo>:</mo><mrow><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>,</mo><msup><mi>a</mi><mo>\u2032</mo></msup><mo stretchy=\"false\">)</mo></mrow><mo>\u2208</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>A</mi></mrow></mrow><mo stretchy=\"false\">}</mo></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nThis statement is ``tight'' in the sense that, for any fixed polynomial, there are sets $A,B$ for which the bound is best possible.\nIndeed, we can arbitrarily choose $n$ points on $Z(F)$, let $A$ be the projection of this set to the $x$-axis, and let $B$ be the projection to the $y$-axis; then $A\\times B$ shares at least $n$ points with $Z(F)$.\n\nNow let us consider the tightness for the next case of the Schwartz-Zippel lemma (see Subsection \\ref{subsec:longer} for the general statement), which says that for $F\\in {\\mathbb C}[x,y,z]$ and $A,B,C\\subset {\\mathbb C}$ of size $n$ we have\n\n", "itemtype": "equation", "pos": 27162, "prevtext": "\nthen $|I({\\mathcal P},{\\mathcal C})| = |Q|$.\n\nIf we could apply Theorem \\ref{thm:SZ} to ${\\mathcal P}$ and ${\\mathcal C}$, then we would immediately get the desired bound $|Q| = O_d(n^{8/3})$.\nHowever, ${\\mathcal P}$ and ${\\mathcal C}$ need not satisfy the degrees-of-freedom condition of Theorem \\ref{thm:SZ} that two points are contained in a bounded number of curves.\nThis is to be expected, since the bound should fail when $f$ is additive or multiplicative.\nIn fact, even when $f$ is not additive or multiplicative, the degrees-of-freedom condition may be violated.\nHowever, it was shown in \\cite{RSS15a} that when $f$ is not additive or multiplicative, the condition is only violated in a weak sense.\nSpecifically, one can remove negligible subsets of the points and curves so that the remainder does satisfy the condition.\n\nA key insight in the proof is that the curves $C_{aa'}$ satisfy a kind of \\emph{duality}.\nIndeed, we can define ``dual curves'' of the form $C^*_{bb'} = \\{(s,t)\\in {\\mathbb R}^2: f(s,b) = f(t,b')\\}$, so that the point $(a,a')$ lies on the dual curve $C^*_{bb'}$ if and only if the point $(b,b')$ lies on the curve $C_{aa'}$.\nThus, to check the degrees-of-freedom condition of Theorem \\ref{thm:SZ} that two points $(b_1,b_1'),(b_2,b_2')$ lie on a bounded number of curves $C_{aa'}$, we can instead look at the number of points $(a,a')$ in the intersection of the curves $C^*_{b_1b_1'},C^*_{b_2b_2'}$.\nSuch an intersection is easily bounded by B\\'ezout's inequality, unless the curves $C^*_{b_1b_1'}$ and $C^*_{b_2b_2'}$ have a common component.\nThus the degrees-of-freedom condition comes down to showing that when many of the curves $C^*_{bb'}$ have many common components, with high multiplicity, then $f$ must be additive or multiplicative.\nBy symmetry, we may as well consider this question for the original curves $C_{aa'}$.\n\nLet us see what happens when $f$ is additive or multiplicative.\nFirst consider the case where $f(x,y) = h(x) + k(y)$.\nThen $C_{aa'}$ is defined by $k(x) - k(y) = h(a') - h(a)$.\nThus $C_{a_1a_1'}$ and $C_{a_2a_2'}$ are the same curve whenever $h(a_1') -h(a_1) = h(a_2') - h(a_2)$; this means that as many as $\\Theta(|A|)$ pairs $(a,a')$ may define the same curve $C_{aa'}$.\nSimilarly, when $f(x,y) = h(x)k(y)$, then $C_{aa'}$ is defined by $k(x) = k(y)\\cdot (h(a')/h(a))$, and we can have high multiplicity.\nFinally, when $f(x,y) = g(h(x)+k(y))$, then $f(a,x) - f(a',y)$ has the factor  $h(a) + k(x) -h(a')-h(y) $, which corresponds to a component that can have high multiplicity\n(and the same happens for $f(x,y) = g(h(x)\\cdot k(y))$).\n\nThe key challenge in the proof of Theorem \\ref{thm:ERRSS} is to obtain the converse, i.e., to show that when many curves have high multiplicity, then there must be polynomials $g,h,k$ that explain the multiplicity in one of the ways above.\nIn \\cite{RSS15a} this is done by algebraically prying out $g,h,k$ from specific coefficients of the polynomial $f$.\nFor instance, roughly speaking, when the curves $C_{aa'}$ have many common components and the coefficient of the leading term of $f(a,x)-f(a',y)$ is not constant as a polynomial in $a$, then this polynomial turns out to be the $h$ in the multiplicative form $f(x,y) = g(h(x)k(y))$. \nOn the other hand, if only the constant term of $f(a,x)-f(a',y)$ depends on $a$ and $a'$, then this leads to the polynomial $h$ in the additive form $f(x,y) = g(h(x)+k(y))$.\n\n\n\n\\section{The Elekes-Szab\\'o problem}\n\\label{sec:ES}\n\n\\subsection{Intersecting varieties with Cartesian products}\nTo introduce a generalization of the Elekes-R\\'onyai problem due to Elekes and Szab\\'o, we take a step back and approach from a different direction; after a while we will see what the connection between the problems is.\nIn this section we work primarily over ${\\mathbb C}$, which is the most natural setting for the Elekes-Szab\\'o problem and the relevant proofs.\n\n\nLet us consider the Schwartz-Zippel lemma (see \\cite{L09} for the curious history of this lemma).\nThe simplest non-trivial case is the following bound on the intersection of a curve with a Cartesian product\\footnote{The word ``grid'' is often used in this context, but may lead to confusion with integer grids.}. \nIf $F\\in {\\mathbb C}[x,y]$ is a polynomial of degree $d$ and $A,B\\subset {\\mathbb C}$ are finite sets of size $n$,\nthen\\footnote{We write $Z(F)$ for the \\emph{zero set} of a polynomial $F$, i.e., the set of points at which $F$ vanishes.}\n\n", "index": 41, "text": "\\begin{align}\\label{eq:SZC2}\n|Z(F)\\cap (A\\times B)| = O_d\\left(n\\right). \n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E10.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle|Z(F)\\cap(A\\times B)|=O_{d}\\left(n\\right).\" display=\"inline\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>F</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2229</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi>O</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo>(</mo><mi>n</mi><mo>)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nIt is not so clear if this bound is tight, \nsince the trick used above to show that \\eqref{eq:SZC2} is tight does not work here. \nThe best we could try is to choose $A, B$ of size $n$, take $n^2$ points on $Z(F)$ above $A\\times B$, and then project to the $z$-axis to get $C$; but the resulting $C$ is likely to have many more than $n$ points.\n\nNevertheless, for certain special polynomials the bound in \\eqref{eq:SZ3D} is tight.\nTake for instance $F = x+y-z$ and $A=B=C=\\{1,\\ldots,n\\}$;\nthen $|Z(F)\\cap (A\\times B\\times C)| = \\Theta(n^2)$. \nOf course, one can construct similar examples for any polynomial of the form $F=f(g(x)+h(y)+k(z))$ with $f,g,h,k$ univariate polynomials.\nIn analogy with Theorem \\ref{thm:ERRSS}, one might guess that these are the only special polynomials, but this is not quite true.\nIt turns out that the right class of special polynomials consists of those of the form $F=f(g(x)+h(y)+k(z))$ with $f,g,h,k$ \\emph{analytic} functions that are defined in a \\emph{local} way.\n\n\\begin{theorem}[Elekes-Szab\\'o, Raz-Sharir-De Zeeuw]\\label{thm:ESRSZ}\nLet $F\\in {\\mathbb C}[x,y,z]$ be an irreducible polynomial of degree $d$ with $F_xF_yF_z\\not\\equiv 0$. Then one of the following holds.\\\\\n$(i)$ For all $A,B,C\\subset {\\mathbb C}$ with $|A|=|B|=|C|=n$ we have\n\n", "itemtype": "equation", "pos": 27838, "prevtext": "\nThis statement is ``tight'' in the sense that, for any fixed polynomial, there are sets $A,B$ for which the bound is best possible.\nIndeed, we can arbitrarily choose $n$ points on $Z(F)$, let $A$ be the projection of this set to the $x$-axis, and let $B$ be the projection to the $y$-axis; then $A\\times B$ shares at least $n$ points with $Z(F)$.\n\nNow let us consider the tightness for the next case of the Schwartz-Zippel lemma (see Subsection \\ref{subsec:longer} for the general statement), which says that for $F\\in {\\mathbb C}[x,y,z]$ and $A,B,C\\subset {\\mathbb C}$ of size $n$ we have\n\n", "index": 43, "text": "\\begin{align}\\label{eq:SZ3D}\n|Z(F)\\cap (A\\times B\\times C)| = O_d\\left(n^2\\right).\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E11.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle|Z(F)\\cap(A\\times B\\times C)|=O_{d}\\left(n^{2}\\right).\" display=\"inline\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>F</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2229</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi><mo>\u00d7</mo><mi>C</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi>O</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo>(</mo><msup><mi>n</mi><mn>2</mn></msup><mo>)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\n$(ii)$ There exists a one-dimensional subvariety $Z_0\\subset Z(F)$, such that every $v\\in Z(F)\\backslash Z_0$ has an open neighborhood $D_1\\times D_2\\times D_3$ and analytic functions \n$\\varphi_i: D_i\\to {\\mathbb C}$,\nsuch that for every $(x,y,z)\\in D_1\\times D_2\\times D_3$ we have\n\n", "itemtype": "equation", "pos": 29212, "prevtext": "\nIt is not so clear if this bound is tight, \nsince the trick used above to show that \\eqref{eq:SZC2} is tight does not work here. \nThe best we could try is to choose $A, B$ of size $n$, take $n^2$ points on $Z(F)$ above $A\\times B$, and then project to the $z$-axis to get $C$; but the resulting $C$ is likely to have many more than $n$ points.\n\nNevertheless, for certain special polynomials the bound in \\eqref{eq:SZ3D} is tight.\nTake for instance $F = x+y-z$ and $A=B=C=\\{1,\\ldots,n\\}$;\nthen $|Z(F)\\cap (A\\times B\\times C)| = \\Theta(n^2)$. \nOf course, one can construct similar examples for any polynomial of the form $F=f(g(x)+h(y)+k(z))$ with $f,g,h,k$ univariate polynomials.\nIn analogy with Theorem \\ref{thm:ERRSS}, one might guess that these are the only special polynomials, but this is not quite true.\nIt turns out that the right class of special polynomials consists of those of the form $F=f(g(x)+h(y)+k(z))$ with $f,g,h,k$ \\emph{analytic} functions that are defined in a \\emph{local} way.\n\n\\begin{theorem}[Elekes-Szab\\'o, Raz-Sharir-De Zeeuw]\\label{thm:ESRSZ}\nLet $F\\in {\\mathbb C}[x,y,z]$ be an irreducible polynomial of degree $d$ with $F_xF_yF_z\\not\\equiv 0$. Then one of the following holds.\\\\\n$(i)$ For all $A,B,C\\subset {\\mathbb C}$ with $|A|=|B|=|C|=n$ we have\n\n", "index": 45, "text": "$$|Z(F) \\cap (A\\times B\\times C)|=O_d(n^{11/6}).$$\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex12.m1\" class=\"ltx_Math\" alttext=\"|Z(F)\\cap(A\\times B\\times C)|=O_{d}(n^{11/6}).\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>F</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2229</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi><mo>\u00d7</mo><mi>C</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi>O</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mrow><mn>11</mn><mo>/</mo><mn>6</mn></mrow></msup><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\n\\end{theorem}\n\n\nQualitatively, this result was proved by Elekes and Szab\\'o \\cite{ES12}\\footnote{The publication year of \\cite{ES12} is 2012, but an essentially complete version of the paper existed much earlier; Elekes \\cite{E02} referred to the result in 2002.}, \nwho proved that $|Z(F)\\cap(A\\times B\\times C)| = O(n^{2-\\eta_d})$ for a constant $\\eta_d$ depending only on the degree $d$ of $F$,\\footnote{Earlier versions of \\cite{ES12} claimed a bound of the form $O(n^{2-\\eta})$ for an absolute $\\eta>0$, and this was restated in \\cite{E02}. But the published version states the theorem with $\\eta_d$ depending on $d$.} \nunless $F$ has the special form described in Theorem \\ref{thm:ESRSZ}$(ii)$ below.\nUsing the new proof setup in \\cite{SSS13,RSS15a}, \nthis bound was improved to $O(n^{11/6})$ by Raz, Sharir, and De Zeeuw \\cite{RSZ15}.\nAn exposition of the algebraic geometry underlying the proof in \\cite{ES12} was written by Wang \\cite{W15}.\n\n\nThe statement also holds if ${\\mathbb C}$ is replaced by ${\\mathbb R}$ (and the analytic $\\varphi_i:D\\to {\\mathbb C}$ are replaced by real-analytic $\\varphi_i:D\\to {\\mathbb R}$).\nWe can also allow $A,B,C$ to have different sizes.\nThis does not affect the description in condition $(ii)$, and the bound in condition $(i)$ becomes\n\n", "itemtype": "equation", "pos": 29546, "prevtext": "\n$(ii)$ There exists a one-dimensional subvariety $Z_0\\subset Z(F)$, such that every $v\\in Z(F)\\backslash Z_0$ has an open neighborhood $D_1\\times D_2\\times D_3$ and analytic functions \n$\\varphi_i: D_i\\to {\\mathbb C}$,\nsuch that for every $(x,y,z)\\in D_1\\times D_2\\times D_3$ we have\n\n", "index": 47, "text": "$$(x,y,z)\\in Z(F)~~~\\text{if and only if}~~~\\varphi_1(x)+\\varphi_2(y)+\\varphi_3(z) = 0.$$\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex13.m1\" class=\"ltx_Math\" alttext=\"(x,y,z)\\in Z(F)~{}~{}~{}\\text{if and only if}~{}~{}~{}\\varphi_{1}(x)+\\varphi_{%&#10;2}(y)+\\varphi_{3}(z)=0.\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>,</mo><mi>z</mi><mo stretchy=\"false\">)</mo></mrow><mo>\u2208</mo><mrow><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>F</mi><mo rspace=\"12.4pt\" stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mpadded width=\"+9.9pt\"><mtext>if and only if</mtext></mpadded><mo>\u2062</mo><msub><mi>\u03c6</mi><mn>1</mn></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><mrow><msub><mi>\u03c6</mi><mn>2</mn></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><mrow><msub><mi>\u03c6</mi><mn>3</mn></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>z</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>=</mo><mn>0</mn></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nof course the same bound holds for any permutation of $A,B,C$.\nWe can again conjecture that the bound can be significantly improved, perhaps as far as $O_{\\varepsilon}(n^{1+{\\varepsilon}})$ (in the balanced case), or even $O(n\\sqrt{\\log n})$.\nNo better lower bound is known than $\\Omega(n\\sqrt{\\log n})$, for instance for $F =  x^2+xy+y^2 - z$ (which comes directly from the polynomial $f = x^2+xy+y^2$ that provides the best known upper bound for Theorem \\ref{thm:ERRSS}, as mentioned in Subsection \\ref{subsec:ERextensions}).\n\n\nIt is not likely that condition $(ii)$ can be replaced by a purely polynomial condition, i.e., without mentioning analytic functions.\nThis can be seen from the fact that the group law on an elliptic curve gives constructions for which the bound in $(i)$ does not hold, while on the other hand, it is well-known that parametrizing elliptic curves as in $(ii)$ requires analytic functions.\nWe will give more details on the connection with elliptic curves at the end of Subsection \\ref{subsec:ESoncurves}.\n\nIn \\cite{ES12}, condition $(ii)$ of Theorem \\ref{thm:ESRSZ} is formulated in a somewhat stronger ``global'' form, although for all applications in this survey, the formulation in Theorem \\ref{thm:ESRSZ} seems to be more convenient.\nSpecifically, the local functions $\\varphi_i$ can be replaced by \\emph{analytic multi-functions} from ${\\mathbb C}$ to a \\emph{one-dimensional connected algebraic group} $\\mathcal{G}$, so that $Z(F)$ is the image of the variety $\\{(x,y,z)\\in \\mathcal{G}^3: x\\oplus y\\oplus z = e\\}$; we refer to \\cite{ES12, W15} for definitions.\n\n\n\n\n\\subsection{A derivative test for special \\texorpdfstring{$F$}{F}}\n\nIn applications, it may not be easy to determine whether a given polynomial $F$ satisfies condition $(ii)$.\nFor relatively simple polynomials, we have the following derivative condition.\nIt is mentioned in \\cite[Subsection 1.1]{ER00} and stated in \\cite[Lemma 33]{ES12}; in \\cite{ER00} the sufficiency of the condition is ascribed to Jarai, although no proof is provided in \\cite{ER00} or \\cite{ES12}.\nWe give a short sketch of the proof; a detailed proof can be found in \\cite{RS15a}.\n\n\\begin{lemma}\\label{lem:derivative}\nLet $f:{\\mathbb R}^2\\to{\\mathbb R}$ be a twice-differentiable function with $f_y\\not\\equiv 0$.\nThere exist (differentiable) functions $\\psi,\\varphi_1,\\varphi_2:{\\mathbb R}\\to{\\mathbb R}$ such that \n\n", "itemtype": "equation", "pos": 30916, "prevtext": "\n\\end{theorem}\n\n\nQualitatively, this result was proved by Elekes and Szab\\'o \\cite{ES12}\\footnote{The publication year of \\cite{ES12} is 2012, but an essentially complete version of the paper existed much earlier; Elekes \\cite{E02} referred to the result in 2002.}, \nwho proved that $|Z(F)\\cap(A\\times B\\times C)| = O(n^{2-\\eta_d})$ for a constant $\\eta_d$ depending only on the degree $d$ of $F$,\\footnote{Earlier versions of \\cite{ES12} claimed a bound of the form $O(n^{2-\\eta})$ for an absolute $\\eta>0$, and this was restated in \\cite{E02}. But the published version states the theorem with $\\eta_d$ depending on $d$.} \nunless $F$ has the special form described in Theorem \\ref{thm:ESRSZ}$(ii)$ below.\nUsing the new proof setup in \\cite{SSS13,RSS15a}, \nthis bound was improved to $O(n^{11/6})$ by Raz, Sharir, and De Zeeuw \\cite{RSZ15}.\nAn exposition of the algebraic geometry underlying the proof in \\cite{ES12} was written by Wang \\cite{W15}.\n\n\nThe statement also holds if ${\\mathbb C}$ is replaced by ${\\mathbb R}$ (and the analytic $\\varphi_i:D\\to {\\mathbb C}$ are replaced by real-analytic $\\varphi_i:D\\to {\\mathbb R}$).\nWe can also allow $A,B,C$ to have different sizes.\nThis does not affect the description in condition $(ii)$, and the bound in condition $(i)$ becomes\n\n", "index": 49, "text": "\\begin{align}\\label{eq:ESunbalanced}\n|Z(F) \\cap (A\\times B\\times C)|=O_d\\left( |A|^{2/3}|B|^{2/3}|C|^{1/2}+|A||C|^{1/2}+|B||C|^{1/2}+|C|\\right);\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E12.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle|Z(F)\\cap(A\\times B\\times C)|=O_{d}\\left(|A|^{2/3}|B|^{2/3}|C|^{1%&#10;/2}+|A||C|^{1/2}+|B||C|^{1/2}+|C|\\right);\" display=\"inline\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>F</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2229</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi><mo>\u00d7</mo><mi>C</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi>O</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo>(</mo><mrow><mrow><msup><mrow><mo stretchy=\"false\">|</mo><mi>A</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>2</mn><mo>/</mo><mn>3</mn></mrow></msup><mo>\u2062</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>B</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>2</mn><mo>/</mo><mn>3</mn></mrow></msup><mo>\u2062</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>C</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>1</mn><mo>/</mo><mn>2</mn></mrow></msup></mrow><mo>+</mo><mrow><mrow><mo stretchy=\"false\">|</mo><mi>A</mi><mo stretchy=\"false\">|</mo></mrow><mo>\u2062</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>C</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>1</mn><mo>/</mo><mn>2</mn></mrow></msup></mrow><mo>+</mo><mrow><mrow><mo stretchy=\"false\">|</mo><mi>B</mi><mo stretchy=\"false\">|</mo></mrow><mo>\u2062</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>C</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>1</mn><mo>/</mo><mn>2</mn></mrow></msup></mrow><mo>+</mo><mrow><mo stretchy=\"false\">|</mo><mi>C</mi><mo stretchy=\"false\">|</mo></mrow></mrow><mo>)</mo></mrow></mrow></mrow><mo>;</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nif and only if\n\n", "itemtype": "equation", "pos": 33461, "prevtext": "\nof course the same bound holds for any permutation of $A,B,C$.\nWe can again conjecture that the bound can be significantly improved, perhaps as far as $O_{\\varepsilon}(n^{1+{\\varepsilon}})$ (in the balanced case), or even $O(n\\sqrt{\\log n})$.\nNo better lower bound is known than $\\Omega(n\\sqrt{\\log n})$, for instance for $F =  x^2+xy+y^2 - z$ (which comes directly from the polynomial $f = x^2+xy+y^2$ that provides the best known upper bound for Theorem \\ref{thm:ERRSS}, as mentioned in Subsection \\ref{subsec:ERextensions}).\n\n\nIt is not likely that condition $(ii)$ can be replaced by a purely polynomial condition, i.e., without mentioning analytic functions.\nThis can be seen from the fact that the group law on an elliptic curve gives constructions for which the bound in $(i)$ does not hold, while on the other hand, it is well-known that parametrizing elliptic curves as in $(ii)$ requires analytic functions.\nWe will give more details on the connection with elliptic curves at the end of Subsection \\ref{subsec:ESoncurves}.\n\nIn \\cite{ES12}, condition $(ii)$ of Theorem \\ref{thm:ESRSZ} is formulated in a somewhat stronger ``global'' form, although for all applications in this survey, the formulation in Theorem \\ref{thm:ESRSZ} seems to be more convenient.\nSpecifically, the local functions $\\varphi_i$ can be replaced by \\emph{analytic multi-functions} from ${\\mathbb C}$ to a \\emph{one-dimensional connected algebraic group} $\\mathcal{G}$, so that $Z(F)$ is the image of the variety $\\{(x,y,z)\\in \\mathcal{G}^3: x\\oplus y\\oplus z = e\\}$; we refer to \\cite{ES12, W15} for definitions.\n\n\n\n\n\\subsection{A derivative test for special \\texorpdfstring{$F$}{F}}\n\nIn applications, it may not be easy to determine whether a given polynomial $F$ satisfies condition $(ii)$.\nFor relatively simple polynomials, we have the following derivative condition.\nIt is mentioned in \\cite[Subsection 1.1]{ER00} and stated in \\cite[Lemma 33]{ES12}; in \\cite{ER00} the sufficiency of the condition is ascribed to Jarai, although no proof is provided in \\cite{ER00} or \\cite{ES12}.\nWe give a short sketch of the proof; a detailed proof can be found in \\cite{RS15a}.\n\n\\begin{lemma}\\label{lem:derivative}\nLet $f:{\\mathbb R}^2\\to{\\mathbb R}$ be a twice-differentiable function with $f_y\\not\\equiv 0$.\nThere exist (differentiable) functions $\\psi,\\varphi_1,\\varphi_2:{\\mathbb R}\\to{\\mathbb R}$ such that \n\n", "index": 51, "text": "\\begin{equation}\\label{eq:testform}\nf(x,y)= \\psi(\\varphi_1(x)+\\varphi_2(y))\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E13.m1\" class=\"ltx_Math\" alttext=\"f(x,y)=\\psi(\\varphi_{1}(x)+\\varphi_{2}(y))\" display=\"block\"><mrow><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>\u03c8</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><msub><mi>\u03c6</mi><mn>1</mn></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><mrow><msub><mi>\u03c6</mi><mn>2</mn></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nThe same holds for analytic $f:{\\mathbb C}^2\\to {\\mathbb C}$ with $\\psi,\\varphi_1,\\varphi_2:{\\mathbb C}\\to {\\mathbb C}$ analytic.\n\\end{lemma}\n\\begin{proof}[Proof sketch.]\nIf $f(x,y)= \\psi(\\varphi_1(x)+\\varphi_2(y))$, then $f_x/f_y = \\varphi_1'(x)/\\varphi_2'(y)$, \nwhich gives $\\log|f_x/f_y| = \\log|\\varphi_1'(x)| - \\log|\\varphi_2'(y)|$.\nDifferentiating with respect to $x$ and $y$ gives $0$.\n\nConversely, if $\\partial^2(\\log|f_x/f_y|)/\\partial x\\partial y\\equiv 0$,\nintegrating gives $\\log|f_x/f_y| = g_1(x) - g_2(y)$.\nThen, setting $\\varphi_1(x) = \\int e^{g_1(x)}dx$ and \n$\\varphi_2(y) = \\int e^{g_2(y)}dy$,\nwe have $f_x/f_y = \\varphi_1'(x)/\\varphi_2'(y)$.\nWe express $f$ in terms of the new variables $u = \\varphi_1(x)+\\varphi_2(y)$ and $v = \\varphi_1(x) - \\varphi_2(y)$,\nso that the chain rule gives $f_x = \\varphi_1'(x)(f_u+f_v)$ and $f_y = \\varphi_2'(y)(f_u-f_v)$.\nCombining these equations gives $0 = \\frac{f_x}{\\varphi_1'(x)} - \\frac{f_y}{\\varphi_2'(y)} = 2f_v$.\nThus $f$ depends only on the variable $u$, which means that we can write it as $f(x,y) = \\psi(\\varphi_1(x)+\\varphi_2(y))$.\n\\end{proof}\n\n\nTo apply this lemma to a polynomial $F(x,y,z)$, we need to locally write the implicit surface $Z(F)$ as an explicit surface $z = f(x,y)$, for an analytic function $f$. \nThen the expression $\\varphi_1(x)+\\varphi_2(y) + \\varphi(z)=0$ in condition $(ii)$ of Theorem \\ref{thm:ESRSZ} is equivalent to $f(x,y)= \\varphi_3^{-1}(\\varphi_1(x)+\\varphi_2(y))$.\nIn theory, such an $f$ exists by the implicit function theorem, but in practice we can only calculate $f$ when $F$ has low degree (in one of the variables).\n\n\n\n\n\\subsection{Applications}\n\n\\paragraph{Expanding polynomials.}\nGiven $f\\in {\\mathbb C}[x,y]$, we can set $F(x,y,z) = f(x,y) - z$ and apply Theorem \\ref{thm:ESRSZ} with $|A|=|B|=n$ and $C = f(A\\times B)$.\nIf condition $(i)$ applies, we get from the unbalanced bound \\eqref{eq:ESunbalanced} that\n", "itemtype": "equation", "pos": 33567, "prevtext": "\nif and only if\n\n", "index": 53, "text": "\\begin{equation}\n\\frac{\\partial^2(\\log|f_x/f_y|)}{\\partial x\\partial y}\\equiv 0.\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E14.m1\" class=\"ltx_Math\" alttext=\"\\frac{\\partial^{2}(\\log|f_{x}/f_{y}|)}{\\partial x\\partial y}\\equiv 0.\" display=\"block\"><mrow><mrow><mfrac><mrow><msup><mo>\u2202</mo><mn>2</mn></msup><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>log</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">|</mo><mrow><msub><mi>f</mi><mi>x</mi></msub><mo>/</mo><msub><mi>f</mi><mi>y</mi></msub></mrow><mo stretchy=\"false\">|</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mrow><mrow><mo>\u2202</mo><mo>\u2061</mo><mi>x</mi></mrow><mo>\u2062</mo><mrow><mo>\u2202</mo><mo>\u2061</mo><mi>y</mi></mrow></mrow></mfrac><mo>\u2261</mo><mn>0</mn></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nso $|f(A\\times B)| = |C| = \\Omega(n^{4/3})$.\nOtherwise, condition $(ii)$ tells us that locally we have\n\n", "itemtype": "equation", "pos": 35572, "prevtext": "\nThe same holds for analytic $f:{\\mathbb C}^2\\to {\\mathbb C}$ with $\\psi,\\varphi_1,\\varphi_2:{\\mathbb C}\\to {\\mathbb C}$ analytic.\n\\end{lemma}\n\\begin{proof}[Proof sketch.]\nIf $f(x,y)= \\psi(\\varphi_1(x)+\\varphi_2(y))$, then $f_x/f_y = \\varphi_1'(x)/\\varphi_2'(y)$, \nwhich gives $\\log|f_x/f_y| = \\log|\\varphi_1'(x)| - \\log|\\varphi_2'(y)|$.\nDifferentiating with respect to $x$ and $y$ gives $0$.\n\nConversely, if $\\partial^2(\\log|f_x/f_y|)/\\partial x\\partial y\\equiv 0$,\nintegrating gives $\\log|f_x/f_y| = g_1(x) - g_2(y)$.\nThen, setting $\\varphi_1(x) = \\int e^{g_1(x)}dx$ and \n$\\varphi_2(y) = \\int e^{g_2(y)}dy$,\nwe have $f_x/f_y = \\varphi_1'(x)/\\varphi_2'(y)$.\nWe express $f$ in terms of the new variables $u = \\varphi_1(x)+\\varphi_2(y)$ and $v = \\varphi_1(x) - \\varphi_2(y)$,\nso that the chain rule gives $f_x = \\varphi_1'(x)(f_u+f_v)$ and $f_y = \\varphi_2'(y)(f_u-f_v)$.\nCombining these equations gives $0 = \\frac{f_x}{\\varphi_1'(x)} - \\frac{f_y}{\\varphi_2'(y)} = 2f_v$.\nThus $f$ depends only on the variable $u$, which means that we can write it as $f(x,y) = \\psi(\\varphi_1(x)+\\varphi_2(y))$.\n\\end{proof}\n\n\nTo apply this lemma to a polynomial $F(x,y,z)$, we need to locally write the implicit surface $Z(F)$ as an explicit surface $z = f(x,y)$, for an analytic function $f$. \nThen the expression $\\varphi_1(x)+\\varphi_2(y) + \\varphi(z)=0$ in condition $(ii)$ of Theorem \\ref{thm:ESRSZ} is equivalent to $f(x,y)= \\varphi_3^{-1}(\\varphi_1(x)+\\varphi_2(y))$.\nIn theory, such an $f$ exists by the implicit function theorem, but in practice we can only calculate $f$ when $F$ has low degree (in one of the variables).\n\n\n\n\n\\subsection{Applications}\n\n\\paragraph{Expanding polynomials.}\nGiven $f\\in {\\mathbb C}[x,y]$, we can set $F(x,y,z) = f(x,y) - z$ and apply Theorem \\ref{thm:ESRSZ} with $|A|=|B|=n$ and $C = f(A\\times B)$.\nIf condition $(i)$ applies, we get from the unbalanced bound \\eqref{eq:ESunbalanced} that\n", "index": 55, "text": "\n\\[n^2=|Z(f(x,y)-z)\\cap (A\\times B\\times C)|=O_d(n^{4/3}|C|^{1/2}),\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex14.m1\" class=\"ltx_Math\" alttext=\"n^{2}=|Z(f(x,y)-z)\\cap(A\\times B\\times C)|=O_{d}(n^{4/3}|C|^{1/2}),\" display=\"block\"><mrow><mrow><msup><mi>n</mi><mn>2</mn></msup><mo>=</mo><mrow><mo stretchy=\"false\">|</mo><mrow><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>-</mo><mi>z</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2229</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi><mo>\u00d7</mo><mi>C</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi>O</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><msup><mi>n</mi><mrow><mn>4</mn><mo>/</mo><mn>3</mn></mrow></msup><mo>\u2062</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>C</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>1</mn><mo>/</mo><mn>2</mn></mrow></msup></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nwith $\\psi, \\varphi_1,\\varphi_2$ analytic functions.\n\nNote that the multiplicative form of $f$ also falls under \\eqref{eq:analyticspecial}, since we can (locally) write \n", "itemtype": "equation", "pos": 35745, "prevtext": "\nso $|f(A\\times B)| = |C| = \\Omega(n^{4/3})$.\nOtherwise, condition $(ii)$ tells us that locally we have\n\n", "index": 57, "text": "\\begin{align}\\label{eq:analyticspecial}\nf(x,y) = \\psi(\\varphi_1(x)+\\varphi_2(y)),\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E15.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle f(x,y)=\\psi(\\varphi_{1}(x)+\\varphi_{2}(y)),\" display=\"inline\"><mrow><mrow><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>\u03c8</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><msub><mi>\u03c6</mi><mn>1</mn></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><mrow><msub><mi>\u03c6</mi><mn>2</mn></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nwith all functions analytic.\nWe thus have almost deduced Theorem \\ref{thm:ERRSS}, except that the special form of $f$ is local, and we do not know that $\\varphi_1,\\varphi_2,\\psi$ are polynomials.\nIt would be interesting to find a way to deduce the full Theorem \\ref{thm:ERRSS} from this local analytic form.\nSomething close to that is done by Tao in \\cite[Theorem 41]{T15} using arguments from complex analysis.\n\n\n\\paragraph{Distances from three points.}\nThe following result follows from Theorem \\ref{thm:ESRSZ}.\n\n\\begin{theorem}[Elekes-Szab\\'o, Sharir-Solymosi]\\label{thm:ESSS}\nGiven three non-collinear points $p_1,p_2,p_3$ and a point set $P$ in ${\\mathbb R}^2$,\nthere are $\\Omega(|P|^{6/11})$ distinct distances from $p_1,p_2,p_3$ to $P$.\n\\end{theorem}\n\\begin{proof}[Proof sketch]\nLet $D$ denote the set of squared distances between $p_1, p_2,p_3$ and the points in $P$.\nA point $q\\in P$ determines three squared distances to $p_1, p_2,p_3$, given by\n\n", "itemtype": "equation", "pos": 36008, "prevtext": "\nwith $\\psi, \\varphi_1,\\varphi_2$ analytic functions.\n\nNote that the multiplicative form of $f$ also falls under \\eqref{eq:analyticspecial}, since we can (locally) write \n", "index": 59, "text": "\n\\[g(h(x)\\cdot k(y)) = (g\\circ \\log^{-1})(\\log |h(x)| + \\log |k(y)| )\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex15.m1\" class=\"ltx_Math\" alttext=\"g(h(x)\\cdot k(y))=(g\\circ\\log^{-1})(\\log|h(x)|+\\log|k(y)|)\" display=\"block\"><mrow><mrow><mi>g</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><mrow><mi>h</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u22c5</mo><mi>k</mi></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>g</mi><mo>\u2218</mo><msup><mi>log</mi><mrow><mo>-</mo><mn>1</mn></mrow></msup></mrow><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><mi>log</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">|</mo><mrow><mi>h</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow></mrow><mo>+</mo><mrow><mi>log</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">|</mo><mrow><mi>k</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nThe variables $x_q$ and $y_q$ can be eliminated from these equations to yield a quadratic equation $F(a,b,c)=0$\nwith coefficients depending on $p_1, p_2,p_3$ (in \\cite{ES12} $F$ can be seen written out).\nBy construction, for each point $q\\in P$, the corresponding squared distances $a,b,c$ belong to $D$. \nThe resulting triples $(a,b,c)$ are all distinct, so $F$ vanishes at $|P|$ triples of $D\\times D\\times D$. \n\nThe polynomial $F(x,y,z)$ turns out to be quadratic in $z$, so we can locally express it as $z = f(x,y)$.\nThen we can apply Lemma \\ref{lem:derivative} to $f$ to see that, if $p_1,p_2,p_3$ are not collinear, then $f$ does not have the form in \\eqref{eq:testform}, \nwhich implies that $F$ does not satisfy property $(ii)$ of Theorem \\ref{thm:ESRSZ}. \nThen property $(i)$ gives $|P| = O(|D|^{11/6})$, or $|D| = \\Omega(|P|^{6/11})$.\nWhen $p_1,p_2,p_3$ are collinear, $F$ becomes\na linear polynomial, so it does satisfy property $(ii)$.\n\\end{proof}\n\n\nThis problem was introduced by Elekes \\cite{E95}, who showed that if $p_1,p_2,p_3$ are collinear (and equidistant), then one can place $P$ so that there are only $O(|P|^{1/2})$ distances from $p_1, p_2,p_3$ to $P$.\nElekes and Szab\\'o \\cite{ES12} proved Theorem \\ref{thm:ESSS} with the weaker bound $\\Omega(|P|^{1/2+\\eta})$ for some small absolute constant $\\eta>0$, as a consequence of their version of Theorem \\ref{thm:ESRSZ} (although they formulated the result in terms of triple points of circles; see the next application).\nSharir and Solymosi \\cite{SS15} used the setup of \\cite{SSS13} and ad hoc arguments to improve this $\\eta$ to $1/22$; their work preceded \\cite{RSZ15} and was the first extension of \\cite{SSS13} that does not follow from \\cite{RSS15a}.\n\nTheorem \\ref{thm:ESRSS} provides curious new information on Erd\\H os's distinct distances problem (see \\cite{BMP05}), which asks for the minimum number of distinct distances determined by a point set in ${\\mathbb R}^2$.\nErd\\H os conjectured that this minimum is $\\Theta(n/\\sqrt{\\log n})$, and this was almost matched by Guth and Katz \\cite{GK15}\\footnote{The new algebraic methods introduced in \\cite{GK15} indirectly led to the improvement of \\cite{SSS13} in Theorem \\ref{thm:ERSSS}, and thus to many of the recent results in this survey.}, who established $\\Omega(n/\\log n)$.\nTheorem \\ref{thm:ESSS} suggests that something stronger is true: There are many distances that occur just from three fixed non-collinear points.\nIf, as conjectured, the bound in Theorem \\ref{thm:ESRSZ} can be improved from $O(n^{11/6})$ to $O(n^{1+{\\varepsilon}})$, or even $O(n\\sqrt{\\log n})$, \nthen Erd\\H os's conjectured bound would already hold if one only considers distances from three non-collinear points in the point set (note that if the entire point set is collinear, there are $\\Omega(n)$ distances from any given point).\n\n\n\nWhile waiting for improvements in the bound of Theorem \\ref{thm:ESSS}, we could instead consider distances from more than three points.\nGiven $k$ points in a suitable non-degenerate configuration and a point set $P$ in ${\\mathbb R}^2$, \nthe number of distances from the $k$ points to $P$ should be $\\Omega(|P|^{1/2+\\alpha_k})$, where we would expect $\\alpha_k$ to grow with $k$.\nLet us pose the first unknown step as a problem.\n\n\\begin{problem}\nLet $P\\subset {\\mathbb R}^2$, and consider four points in ${\\mathbb R}^2$ such that no three are collinear (or such that some stronger condition holds).\nThen the number of distinct distances from the four points to $P$ is $\\Omega(|P|^{1/2 + \\alpha})$, with $\\alpha > 1/22$.\n\\end{problem}\n\n\n\n\n\n\n\\paragraph{Triple points of circle families.}\nElekes and Szab\\'o \\cite{ES12} formulated the problem of Theorem \\ref{thm:ESSS} in a different way.\nThey considered three points $p_1,p_2,p_3$ in ${\\mathbb R}^2$ and  three families of $n$ concentric circles centered at the three points,\nand they looked for an upper bound on the number of \\emph{triple points} of these families, i.e., points covered by one circle from each family.\nTheorem \\ref{thm:ESSS} states that if $p_1,p_2,p_3$ are not collinear, then the number of triple points is $O(n^{11/6})$; a construction in \\cite{E95} shows that if $p_1,p_2,p_3$ are collinear, there can be as many as $\\Omega(n^2)$ triple points.\n\nOne can ask the same question for any three one-dimensional families of circles, or even more general curves.\nSuch statements were studied by Elekes, Simonovits, and Szab\\'o \\cite{ESS09},\nwith a special interest in the case of concurrent unit circles, i.e., unit circles passing through a fixed point.\nThis case was improved by Raz, Sharir, and Solymosi \\cite{RSS15b}, again using the setup of \\cite{SSS13}, and ad hoc analytic arguments.\nBy the arguments from \\cite{ESS09}, the improvement also follows from Theorem \\ref{thm:ESRSZ}.\n\n\\begin{theorem}[Elekes-Simonovits-Szab\\'o, Raz-Sharir-Solymosi]\n\\label{thm:ESRSS}\nThree families of $n$ concurrent unit circles (concurrent at three distinct points) determine $O(n^{11/6})$ triple points.\n\\end{theorem}\n\nThis result shows an interesting distinction between lines and unit circles,\nbecause for three families of concurrent lines it is possible to determine $\\Omega(n^2)$ triples points.\nWe can for instance take the horizontal and vertical lines of an $n\\times n$ integer grid, and $n$ lines at a $45^\\circ$ angle that cover $\\Omega(n^2)$ points of the grid.\n\n\nIt is natural to extend the question to ask for $k$-fold points of $k$ families of concurrent unit circles (or other curves).\nThis is largely unexplored when $k$ is small. \nFor large $k<\\sqrt{n}$ and an arbitrary set of $n$ unit circles, it follows from the incidence bound of Pach and Sharir \\cite{PS98} (the general case of Theorem \\ref{thm:SZ}) that there are at most $O(n^2/k^3)$ points where at least $k$ circles meet.\n\n\n\n\\subsection{About the proof of Theorem \\ref{thm:ESRSZ}}\n\\label{subsec:ESproof}\n\nLet us briefly discuss the proof of Theorem \\ref{thm:ESRSZ}, although again we will not go into too much detail.\nThe proof is based on that of Theorem \\ref{thm:ERRSS}, as described in Subsection \\ref{subsec:ERproof},\nbut now we have to deal with $F(x,y,z)=0$ instead of $f(x,y) = z$.\n\nThe first challenge is that we can no longer define the quadruples and curves using the equation $f(a,b) = f(a',b')$.\nInstead, we define the quadruples by\n", "itemtype": "equation", "pos": 37036, "prevtext": "\nwith all functions analytic.\nWe thus have almost deduced Theorem \\ref{thm:ERRSS}, except that the special form of $f$ is local, and we do not know that $\\varphi_1,\\varphi_2,\\psi$ are polynomials.\nIt would be interesting to find a way to deduce the full Theorem \\ref{thm:ERRSS} from this local analytic form.\nSomething close to that is done by Tao in \\cite[Theorem 41]{T15} using arguments from complex analysis.\n\n\n\\paragraph{Distances from three points.}\nThe following result follows from Theorem \\ref{thm:ESRSZ}.\n\n\\begin{theorem}[Elekes-Szab\\'o, Sharir-Solymosi]\\label{thm:ESSS}\nGiven three non-collinear points $p_1,p_2,p_3$ and a point set $P$ in ${\\mathbb R}^2$,\nthere are $\\Omega(|P|^{6/11})$ distinct distances from $p_1,p_2,p_3$ to $P$.\n\\end{theorem}\n\\begin{proof}[Proof sketch]\nLet $D$ denote the set of squared distances between $p_1, p_2,p_3$ and the points in $P$.\nA point $q\\in P$ determines three squared distances to $p_1, p_2,p_3$, given by\n\n", "index": 61, "text": "$$\na  = (x_q-x_{p_1})^2 + (y_q-y_{p_1})^2,~~\nb  = (x_q-x_{p_2})^2 + (y_q-y_{p_2})^2,~~\nc  = (x_q-x_{p_3})^2 + (y_q-y_{p_3})^2 .\n$$\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex16.m1\" class=\"ltx_Math\" alttext=\"a=(x_{q}-x_{p_{1}})^{2}+(y_{q}-y_{p_{1}})^{2},~{}~{}b=(x_{q}-x_{p_{2}})^{2}+(y%&#10;_{q}-y_{p_{2}})^{2},~{}~{}c=(x_{q}-x_{p_{3}})^{2}+(y_{q}-y_{p_{3}})^{2}.\" display=\"block\"><mrow><mrow><mrow><mi>a</mi><mo>=</mo><mrow><msup><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>x</mi><mi>q</mi></msub><mo>-</mo><msub><mi>x</mi><msub><mi>p</mi><mn>1</mn></msub></msub></mrow><mo stretchy=\"false\">)</mo></mrow><mn>2</mn></msup><mo>+</mo><msup><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>y</mi><mi>q</mi></msub><mo>-</mo><msub><mi>y</mi><msub><mi>p</mi><mn>1</mn></msub></msub></mrow><mo stretchy=\"false\">)</mo></mrow><mn>2</mn></msup></mrow></mrow><mo rspace=\"9.1pt\">,</mo><mrow><mrow><mi>b</mi><mo>=</mo><mrow><msup><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>x</mi><mi>q</mi></msub><mo>-</mo><msub><mi>x</mi><msub><mi>p</mi><mn>2</mn></msub></msub></mrow><mo stretchy=\"false\">)</mo></mrow><mn>2</mn></msup><mo>+</mo><msup><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>y</mi><mi>q</mi></msub><mo>-</mo><msub><mi>y</mi><msub><mi>p</mi><mn>2</mn></msub></msub></mrow><mo stretchy=\"false\">)</mo></mrow><mn>2</mn></msup></mrow></mrow><mo rspace=\"9.1pt\">,</mo><mrow><mi>c</mi><mo>=</mo><mrow><msup><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>x</mi><mi>q</mi></msub><mo>-</mo><msub><mi>x</mi><msub><mi>p</mi><mn>3</mn></msub></msub></mrow><mo stretchy=\"false\">)</mo></mrow><mn>2</mn></msup><mo>+</mo><msup><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>y</mi><mi>q</mi></msub><mo>-</mo><msub><mi>y</mi><msub><mi>p</mi><mn>3</mn></msub></msub></mrow><mo stretchy=\"false\">)</mo></mrow><mn>2</mn></msup></mrow></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nUsing the Cauchy-Schwarz inequality we get\n\n", "itemtype": "equation", "pos": 43482, "prevtext": "\nThe variables $x_q$ and $y_q$ can be eliminated from these equations to yield a quadratic equation $F(a,b,c)=0$\nwith coefficients depending on $p_1, p_2,p_3$ (in \\cite{ES12} $F$ can be seen written out).\nBy construction, for each point $q\\in P$, the corresponding squared distances $a,b,c$ belong to $D$. \nThe resulting triples $(a,b,c)$ are all distinct, so $F$ vanishes at $|P|$ triples of $D\\times D\\times D$. \n\nThe polynomial $F(x,y,z)$ turns out to be quadratic in $z$, so we can locally express it as $z = f(x,y)$.\nThen we can apply Lemma \\ref{lem:derivative} to $f$ to see that, if $p_1,p_2,p_3$ are not collinear, then $f$ does not have the form in \\eqref{eq:testform}, \nwhich implies that $F$ does not satisfy property $(ii)$ of Theorem \\ref{thm:ESRSZ}. \nThen property $(i)$ gives $|P| = O(|D|^{11/6})$, or $|D| = \\Omega(|P|^{6/11})$.\nWhen $p_1,p_2,p_3$ are collinear, $F$ becomes\na linear polynomial, so it does satisfy property $(ii)$.\n\\end{proof}\n\n\nThis problem was introduced by Elekes \\cite{E95}, who showed that if $p_1,p_2,p_3$ are collinear (and equidistant), then one can place $P$ so that there are only $O(|P|^{1/2})$ distances from $p_1, p_2,p_3$ to $P$.\nElekes and Szab\\'o \\cite{ES12} proved Theorem \\ref{thm:ESSS} with the weaker bound $\\Omega(|P|^{1/2+\\eta})$ for some small absolute constant $\\eta>0$, as a consequence of their version of Theorem \\ref{thm:ESRSZ} (although they formulated the result in terms of triple points of circles; see the next application).\nSharir and Solymosi \\cite{SS15} used the setup of \\cite{SSS13} and ad hoc arguments to improve this $\\eta$ to $1/22$; their work preceded \\cite{RSZ15} and was the first extension of \\cite{SSS13} that does not follow from \\cite{RSS15a}.\n\nTheorem \\ref{thm:ESRSS} provides curious new information on Erd\\H os's distinct distances problem (see \\cite{BMP05}), which asks for the minimum number of distinct distances determined by a point set in ${\\mathbb R}^2$.\nErd\\H os conjectured that this minimum is $\\Theta(n/\\sqrt{\\log n})$, and this was almost matched by Guth and Katz \\cite{GK15}\\footnote{The new algebraic methods introduced in \\cite{GK15} indirectly led to the improvement of \\cite{SSS13} in Theorem \\ref{thm:ERSSS}, and thus to many of the recent results in this survey.}, who established $\\Omega(n/\\log n)$.\nTheorem \\ref{thm:ESSS} suggests that something stronger is true: There are many distances that occur just from three fixed non-collinear points.\nIf, as conjectured, the bound in Theorem \\ref{thm:ESRSZ} can be improved from $O(n^{11/6})$ to $O(n^{1+{\\varepsilon}})$, or even $O(n\\sqrt{\\log n})$, \nthen Erd\\H os's conjectured bound would already hold if one only considers distances from three non-collinear points in the point set (note that if the entire point set is collinear, there are $\\Omega(n)$ distances from any given point).\n\n\n\nWhile waiting for improvements in the bound of Theorem \\ref{thm:ESSS}, we could instead consider distances from more than three points.\nGiven $k$ points in a suitable non-degenerate configuration and a point set $P$ in ${\\mathbb R}^2$, \nthe number of distances from the $k$ points to $P$ should be $\\Omega(|P|^{1/2+\\alpha_k})$, where we would expect $\\alpha_k$ to grow with $k$.\nLet us pose the first unknown step as a problem.\n\n\\begin{problem}\nLet $P\\subset {\\mathbb R}^2$, and consider four points in ${\\mathbb R}^2$ such that no three are collinear (or such that some stronger condition holds).\nThen the number of distinct distances from the four points to $P$ is $\\Omega(|P|^{1/2 + \\alpha})$, with $\\alpha > 1/22$.\n\\end{problem}\n\n\n\n\n\n\n\\paragraph{Triple points of circle families.}\nElekes and Szab\\'o \\cite{ES12} formulated the problem of Theorem \\ref{thm:ESSS} in a different way.\nThey considered three points $p_1,p_2,p_3$ in ${\\mathbb R}^2$ and  three families of $n$ concentric circles centered at the three points,\nand they looked for an upper bound on the number of \\emph{triple points} of these families, i.e., points covered by one circle from each family.\nTheorem \\ref{thm:ESSS} states that if $p_1,p_2,p_3$ are not collinear, then the number of triple points is $O(n^{11/6})$; a construction in \\cite{E95} shows that if $p_1,p_2,p_3$ are collinear, there can be as many as $\\Omega(n^2)$ triple points.\n\nOne can ask the same question for any three one-dimensional families of circles, or even more general curves.\nSuch statements were studied by Elekes, Simonovits, and Szab\\'o \\cite{ESS09},\nwith a special interest in the case of concurrent unit circles, i.e., unit circles passing through a fixed point.\nThis case was improved by Raz, Sharir, and Solymosi \\cite{RSS15b}, again using the setup of \\cite{SSS13}, and ad hoc analytic arguments.\nBy the arguments from \\cite{ESS09}, the improvement also follows from Theorem \\ref{thm:ESRSZ}.\n\n\\begin{theorem}[Elekes-Simonovits-Szab\\'o, Raz-Sharir-Solymosi]\n\\label{thm:ESRSS}\nThree families of $n$ concurrent unit circles (concurrent at three distinct points) determine $O(n^{11/6})$ triple points.\n\\end{theorem}\n\nThis result shows an interesting distinction between lines and unit circles,\nbecause for three families of concurrent lines it is possible to determine $\\Omega(n^2)$ triples points.\nWe can for instance take the horizontal and vertical lines of an $n\\times n$ integer grid, and $n$ lines at a $45^\\circ$ angle that cover $\\Omega(n^2)$ points of the grid.\n\n\nIt is natural to extend the question to ask for $k$-fold points of $k$ families of concurrent unit circles (or other curves).\nThis is largely unexplored when $k$ is small. \nFor large $k<\\sqrt{n}$ and an arbitrary set of $n$ unit circles, it follows from the incidence bound of Pach and Sharir \\cite{PS98} (the general case of Theorem \\ref{thm:SZ}) that there are at most $O(n^2/k^3)$ points where at least $k$ circles meet.\n\n\n\n\\subsection{About the proof of Theorem \\ref{thm:ESRSZ}}\n\\label{subsec:ESproof}\n\nLet us briefly discuss the proof of Theorem \\ref{thm:ESRSZ}, although again we will not go into too much detail.\nThe proof is based on that of Theorem \\ref{thm:ERRSS}, as described in Subsection \\ref{subsec:ERproof},\nbut now we have to deal with $F(x,y,z)=0$ instead of $f(x,y) = z$.\n\nThe first challenge is that we can no longer define the quadruples and curves using the equation $f(a,b) = f(a',b')$.\nInstead, we define the quadruples by\n", "index": 63, "text": "\n\\[ Q = \\{(a,b,a',b')\\in A\\times B\\times A\\times B:\n\\exists c\\in C ~\\text{such that}~ F(a,b,c) = F(a',b',c) =0\\}.\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex17.m1\" class=\"ltx_Math\" alttext=\"Q=\\{(a,b,a^{\\prime},b^{\\prime})\\in A\\times B\\times A\\times B:\\exists c\\in C~{}%&#10;\\text{such that}~{}F(a,b,c)=F(a^{\\prime},b^{\\prime},c)=0\\}.\" display=\"block\"><mrow><mrow><mi>Q</mi><mo>=</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo>,</mo><msup><mi>a</mi><mo>\u2032</mo></msup><mo>,</mo><msup><mi>b</mi><mo>\u2032</mo></msup><mo stretchy=\"false\">)</mo></mrow><mo>\u2208</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi><mo>\u00d7</mo><mi>A</mi><mo>\u00d7</mo><mi>B</mi></mrow></mrow><mo>:</mo><mrow><mrow><mo>\u2203</mo><mi>c</mi></mrow><mo>\u2208</mo><mrow><mpadded width=\"+3.3pt\"><mi>C</mi></mpadded><mo>\u2062</mo><mpadded width=\"+3.3pt\"><mtext>such that</mtext></mpadded><mo>\u2062</mo><mi>F</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo>,</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>F</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mi>a</mi><mo>\u2032</mo></msup><mo>,</mo><msup><mi>b</mi><mo>\u2032</mo></msup><mo>,</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mn>0</mn></mrow><mo stretchy=\"false\">}</mo></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\n In the last step we use the fact that for $(a,b)\\in A\\times B$, there are at most $d$ values of $c\\in {\\mathbb C}$ for which $F(a,b,c)=0$ (unless $F(x,y,z)$ contains a vertical line, but this happens at most $O_d(1)$ times).\n Again the goal is to obtain the upper bound $|Q| = O_d(n^{8/3})$ using an incidence bound, which will result in $|Z(F)\\cap (A\\times B\\times C)|  = O_d(n^{1/2}\\cdot (n^{8/3})^{1/2}) = O_d(n^{11/6})$.\n \n The set $Q$ can be viewed as the \\emph{projection} of a \\emph{fiber product}.\n A fiber product\\footnote{This is a special case of a more general object from category theory; what we call a fiber product here is sometimes called a \\emph{set-theoretic} fiber product, or also a \\emph{relative product}.} of a set with itself has the form $X\\times_\\varphi X = \\{(x,y)\\in X\\times X : \\varphi(x) = \\varphi(y)\\}$ for some function $\\varphi:X\\to Y$.\n This type of product is useful for counting because the Cauchy-Schwarz inequality gives \n \n $|X| \\leq |X\\times_\\varphi X|^{1/2} |Y|^{1/2}$.\n In the calculation above, we have $X = |Z(F)\\cap (A\\times B\\times C)|$, $Y = C$, and $\\varphi(a,b,c) = c$.\n Then $Q$ is the projection of $X\\times_\\varphi X$ to the coordinates $(a,b,a',b')$, and has essentially the same size as $X\\times_\\varphi X$.\nSee \\cite{BT12, T15} for similar uses of fiber products, as well as further discussion of the technique.\n \n The step in which we project from the fiber product to $Q$ is necessary to make the next step work; specifically, we need $Q$ to lie on a codimension one subvariety of ${\\mathbb C}^4$, in order to be able to define the algebraic curves that we apply the incidence bound to.\n Unfortunately, this projection brings in the problem of \\emph{quantifier elimination}.\nThe set $Q$ lies on the set \n", "itemtype": "equation", "pos": 43641, "prevtext": "\nUsing the Cauchy-Schwarz inequality we get\n\n", "index": 65, "text": "\\begin{align*}\n |Z(F)\\cap (A\\times B\\times C)| & = \\sum_{c\\in C}|\\{(a,b)\\in A\\times B : F(a,b,c)=0\\}|\\\\\n & \\leq |C|^{1/2}\\left( \\sum_{c\\in C} |\\{(a,b)\\in A\\times B : F(a,b,c)=0\\}|^2\\right)^{1/2}\\\\\n & =O_d\\left(|C|^{1/2}|Q|^{1/2}\\right).\n \\end{align*}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex18.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle|Z(F)\\cap(A\\times B\\times C)|\" display=\"inline\"><mrow><mo stretchy=\"false\">|</mo><mrow><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>F</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2229</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi><mo>\u00d7</mo><mi>C</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex18.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\sum_{c\\in C}|\\{(a,b)\\in A\\times B:F(a,b,c)=0\\}|\" display=\"inline\"><mrow><mi/><mo>=</mo><mrow><mstyle displaystyle=\"true\"><munder><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>c</mi><mo>\u2208</mo><mi>C</mi></mrow></munder></mstyle><mrow><mo stretchy=\"false\">|</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy=\"false\">)</mo></mrow><mo>\u2208</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi></mrow></mrow><mo>:</mo><mrow><mrow><mi>F</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo>,</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mn>0</mn></mrow><mo stretchy=\"false\">}</mo></mrow><mo stretchy=\"false\">|</mo></mrow></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex19.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle\\leq|C|^{1/2}\\left(\\sum_{c\\in C}|\\{(a,b)\\in A\\times B:F(a,b,c)=0%&#10;\\}|^{2}\\right)^{1/2}\" display=\"inline\"><mrow><mi/><mo>\u2264</mo><mrow><msup><mrow><mo stretchy=\"false\">|</mo><mi>C</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>1</mn><mo>/</mo><mn>2</mn></mrow></msup><mo>\u2062</mo><msup><mrow><mo>(</mo><mrow><mstyle displaystyle=\"true\"><munder><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>c</mi><mo>\u2208</mo><mi>C</mi></mrow></munder></mstyle><msup><mrow><mo stretchy=\"false\">|</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo stretchy=\"false\">)</mo></mrow><mo>\u2208</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi></mrow></mrow><mo>:</mo><mrow><mrow><mi>F</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>,</mo><mi>b</mi><mo>,</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mn>0</mn></mrow><mo stretchy=\"false\">}</mo></mrow><mo stretchy=\"false\">|</mo></mrow><mn>2</mn></msup></mrow><mo>)</mo></mrow><mrow><mn>1</mn><mo>/</mo><mn>2</mn></mrow></msup></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex20.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=O_{d}\\left(|C|^{1/2}|Q|^{1/2}\\right).\" display=\"inline\"><mrow><mrow><mi/><mo>=</mo><mrow><msub><mi>O</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo>(</mo><mrow><msup><mrow><mo stretchy=\"false\">|</mo><mi>C</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>1</mn><mo>/</mo><mn>2</mn></mrow></msup><mo>\u2062</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>Q</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>1</mn><mo>/</mo><mn>2</mn></mrow></msup></mrow><mo>)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nwhich is not quite a variety, but only a \\emph{constructible set} (see \\cite{RSZ15} for details and references). \nWe can eliminate the quantifier in the sense that there is a variety  $Z(G) \\subset {\\mathbb C}^4$ that contains the constructible set, and it differs only in a lower-dimensional set.\nHowever, we have little grip on $G$ other than that its degree is bounded in terms of that of $F$.\nNote that in the proof of Theorem \\ref{thm:ERRSS} in Subsection \\ref{subsec:ERproof} we had $F = f(x,y) - z$, so that we could easily eliminate $z$ to get $f(x,y ) = f(x',y')$.\n\n\n\nTo obtain $|Q| = O_d(n^{8/3})$, we define curves as in Subsection \\ref{subsec:ERproof}, but this becomes more complicated due to the quantifier elimination.\nWe set \n", "itemtype": "equation", "pos": 45654, "prevtext": "\n In the last step we use the fact that for $(a,b)\\in A\\times B$, there are at most $d$ values of $c\\in {\\mathbb C}$ for which $F(a,b,c)=0$ (unless $F(x,y,z)$ contains a vertical line, but this happens at most $O_d(1)$ times).\n Again the goal is to obtain the upper bound $|Q| = O_d(n^{8/3})$ using an incidence bound, which will result in $|Z(F)\\cap (A\\times B\\times C)|  = O_d(n^{1/2}\\cdot (n^{8/3})^{1/2}) = O_d(n^{11/6})$.\n \n The set $Q$ can be viewed as the \\emph{projection} of a \\emph{fiber product}.\n A fiber product\\footnote{This is a special case of a more general object from category theory; what we call a fiber product here is sometimes called a \\emph{set-theoretic} fiber product, or also a \\emph{relative product}.} of a set with itself has the form $X\\times_\\varphi X = \\{(x,y)\\in X\\times X : \\varphi(x) = \\varphi(y)\\}$ for some function $\\varphi:X\\to Y$.\n This type of product is useful for counting because the Cauchy-Schwarz inequality gives \n \n $|X| \\leq |X\\times_\\varphi X|^{1/2} |Y|^{1/2}$.\n In the calculation above, we have $X = |Z(F)\\cap (A\\times B\\times C)|$, $Y = C$, and $\\varphi(a,b,c) = c$.\n Then $Q$ is the projection of $X\\times_\\varphi X$ to the coordinates $(a,b,a',b')$, and has essentially the same size as $X\\times_\\varphi X$.\nSee \\cite{BT12, T15} for similar uses of fiber products, as well as further discussion of the technique.\n \n The step in which we project from the fiber product to $Q$ is necessary to make the next step work; specifically, we need $Q$ to lie on a codimension one subvariety of ${\\mathbb C}^4$, in order to be able to define the algebraic curves that we apply the incidence bound to.\n Unfortunately, this projection brings in the problem of \\emph{quantifier elimination}.\nThe set $Q$ lies on the set \n", "index": 67, "text": "\n\\[\\{(x,y,x',y')\\in {\\mathbb C}^4: \\exists z\\in {\\mathbb C} ~\\text{such that}~ F(x,y,z) = F(x',y',z)=0\\},\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex21.m1\" class=\"ltx_Math\" alttext=\"\\{(x,y,x^{\\prime},y^{\\prime})\\in{\\mathbb{C}}^{4}:\\exists z\\in{\\mathbb{C}}~{}%&#10;\\text{such that}~{}F(x,y,z)=F(x^{\\prime},y^{\\prime},z)=0\\},\" display=\"block\"><mrow><mrow><mo stretchy=\"false\">{</mo><mrow><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>,</mo><msup><mi>x</mi><mo>\u2032</mo></msup><mo>,</mo><msup><mi>y</mi><mo>\u2032</mo></msup><mo stretchy=\"false\">)</mo></mrow><mo>\u2208</mo><msup><mi>\u2102</mi><mn>4</mn></msup></mrow><mo>:</mo><mrow><mrow><mo>\u2203</mo><mi>z</mi></mrow><mo>\u2208</mo><mrow><mpadded width=\"+3.3pt\"><mi>\u2102</mi></mpadded><mo>\u2062</mo><mpadded width=\"+3.3pt\"><mtext>such that</mtext></mpadded><mo>\u2062</mo><mi>F</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>,</mo><mi>z</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>F</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mi>x</mi><mo>\u2032</mo></msup><mo>,</mo><msup><mi>y</mi><mo>\u2032</mo></msup><mo>,</mo><mi>z</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mn>0</mn></mrow><mo stretchy=\"false\">}</mo></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nThis set is a constructible curve, i.e., an  algebraic curve with finitely many points removed.\nThis leads to many technical complications, but we can basically still apply an incidence bound to the points and curves\n", "itemtype": "equation", "pos": 46503, "prevtext": "\nwhich is not quite a variety, but only a \\emph{constructible set} (see \\cite{RSZ15} for details and references). \nWe can eliminate the quantifier in the sense that there is a variety  $Z(G) \\subset {\\mathbb C}^4$ that contains the constructible set, and it differs only in a lower-dimensional set.\nHowever, we have little grip on $G$ other than that its degree is bounded in terms of that of $F$.\nNote that in the proof of Theorem \\ref{thm:ERRSS} in Subsection \\ref{subsec:ERproof} we had $F = f(x,y) - z$, so that we could easily eliminate $z$ to get $f(x,y ) = f(x',y')$.\n\n\n\nTo obtain $|Q| = O_d(n^{8/3})$, we define curves as in Subsection \\ref{subsec:ERproof}, but this becomes more complicated due to the quantifier elimination.\nWe set \n", "index": 69, "text": "\n\\[ C_{aa'} = \\{(x,y)\\in {\\mathbb C}^2: \\exists z\\in {\\mathbb C} ~\\text{such that}~ F(a,x,z) = F(a',y,z) =0\\}.\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex22.m1\" class=\"ltx_Math\" alttext=\"C_{aa^{\\prime}}=\\{(x,y)\\in{\\mathbb{C}}^{2}:\\exists z\\in{\\mathbb{C}}~{}\\text{%&#10;such that}~{}F(a,x,z)=F(a^{\\prime},y,z)=0\\}.\" display=\"block\"><mrow><mrow><msub><mi>C</mi><mrow><mi>a</mi><mo>\u2062</mo><msup><mi>a</mi><mo>\u2032</mo></msup></mrow></msub><mo>=</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow><mo>\u2208</mo><msup><mi>\u2102</mi><mn>2</mn></msup></mrow><mo>:</mo><mrow><mrow><mo>\u2203</mo><mi>z</mi></mrow><mo>\u2208</mo><mrow><mpadded width=\"+3.3pt\"><mi>\u2102</mi></mpadded><mo>\u2062</mo><mpadded width=\"+3.3pt\"><mtext>such that</mtext></mpadded><mo>\u2062</mo><mi>F</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>,</mo><mi>x</mi><mo>,</mo><mi>z</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>F</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mi>a</mi><mo>\u2032</mo></msup><mo>,</mo><mi>y</mi><mo>,</mo><mi>z</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mn>0</mn></mrow><mo stretchy=\"false\">}</mo></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nand we essentially have $|Q| = |I({\\mathcal P},{\\mathcal C})|$.\nAs in Subsection \\ref{subsec:ERproof}, we can use Theorem \\ref{thm:SZ} to obtain $|I({\\mathcal P},{\\mathcal C})| = O_d(n^{8/3})$, unless the curves badly violate the degrees-of-freedom condition.\nThe hardest part of the proof is then to connect the failure of the degrees-of-freedom condition to the special form $(ii)$ in Theorem \\ref{thm:ESRSZ}. \n\n\n\\section{Elekes-R\\'onyai problems on curves}\n\\label{sec:curves}\n\nIn this section we discuss some variants of the Elekes-R\\'onyai and Elekes-Szab\\'o problems for point sets contained in algebraic curves.\nWe still work with Cartesian products of ``one-dimensional'' finite sets, but instead of finite subsets of ${\\mathbb R}$ or ${\\mathbb C}$, we take finite subsets of algebraic curves.\nWe start with the first known instance of an \nElekes-R\\'onyai problem on curves, where the function is the Euclidean distance.\nAfter that we discuss more general polynomial functions on curves, and finally we look at Elekes-Szab\\'o problems on curves.\n\n\\subsection{Distances on curves}\n\nWe have already seen one instance of the Elekes-R\\'onyai problem for distances on curves in Theorem \\ref{thm:ERSSS}, which concerned distances between two point sets on two lines.\nA natural generalization is to consider distances between two point sets on two algebraic curves in ${\\mathbb R}^2$.\nMore precisely, given algebraic curves $C_1,C_2\\subset {\\mathbb R}^2$ and finite point sets $P_1\\subset C_1, P_2\\subset C_2$ with $|P_1|=|P_2| = n$, can we get a superlinear lower bound on $|D(P_1\\times P_2)|$?\\footnote{As in Subsection \\ref{subsec:ERapps}, $D(p,q) = (p_x-q_x)^2+(p_y-q_y)^2$ is the squared Euclidean distance function.}\n\nObserve that there are pairs of curves for which we cannot expect a superlinear lower bound on $|D(P_1\\times P_2)|$, as we saw in Subsection \\ref{subsec:ERapps} for parallel lines and orthogonal lines.\nThere is one more construction involving curves other than lines.\nIf we take two concentric circles with equally spaced points, then there is also only a linear number of distances between the two point sets.\nIt was proved by Pach and De Zeeuw \\cite{PZ13} that these three constructions are the only exceptions to a superlinear lower bound; the proof used (once again) the setup in \\cite{SSS13}, together with ad hoc arguments.\n\n\n\\begin{theorem}[Pach-De Zeeuw]\\label{thm:PZ}\nLet $C_1,C_2\\subset {\\mathbb R}^2$ be irreducible algebraic curves of degree at most $d$.\nFor finite subsets $P_1\\subset C_1, P_2\\subset C_2$ of size $n$ we have\n", "itemtype": "equation", "pos": 46832, "prevtext": "\nThis set is a constructible curve, i.e., an  algebraic curve with finitely many points removed.\nThis leads to many technical complications, but we can basically still apply an incidence bound to the points and curves\n", "index": 71, "text": "\n\\[ {\\mathcal P} = B\\times B,~~~ {\\mathcal C} = \\{C_{aa'}:(a,a')\\in A\\times A\\},\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex23.m1\" class=\"ltx_Math\" alttext=\"{\\mathcal{P}}=B\\times B,~{}~{}~{}{\\mathcal{C}}=\\{C_{aa^{\\prime}}:(a,a^{\\prime}%&#10;)\\in A\\times A\\},\" display=\"block\"><mrow><mrow><mrow><mi class=\"ltx_font_mathcaligraphic\">\ud835\udcab</mi><mo>=</mo><mrow><mi>B</mi><mo>\u00d7</mo><mi>B</mi></mrow></mrow><mo rspace=\"12.4pt\">,</mo><mrow><mi class=\"ltx_font_mathcaligraphic\">\ud835\udc9e</mi><mo>=</mo><mrow><mo stretchy=\"false\">{</mo><msub><mi>C</mi><mrow><mi>a</mi><mo>\u2062</mo><msup><mi>a</mi><mo>\u2032</mo></msup></mrow></msub><mo>:</mo><mrow><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>,</mo><msup><mi>a</mi><mo>\u2032</mo></msup><mo stretchy=\"false\">)</mo></mrow><mo>\u2208</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>A</mi></mrow></mrow><mo stretchy=\"false\">}</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nunless the curves are parallel lines, orthogonal lines, or concentric circles.\n\\end{theorem}\n\n\nThe proof in \\cite{PZ13} allows $C_1$ and $C_2$ to be the same curve, which leads to a statement for distances on a single curve that is interesting in its own right.\nA version of this corollary was proved earlier by Charalambides \\cite{C14}, but with a weaker bound $\\Omega_d(n^{5/4})$ (the same exponent as in \\cite{E99}, coming from the same counting scheme).\nThe proof in \\cite{C14} made an interesting connection with \\emph{graph rigidity}.\n\n\\begin{corollary}[Charalambides, Pach-De Zeeuw]\\label{cor:CPZ}\nLet $C\\subset {\\mathbb R}^2$ be an irreducible algebraic curve of degree $d$.\nFor a finite subset $P\\subset C$ we have\n", "itemtype": "equation", "pos": 49477, "prevtext": "\nand we essentially have $|Q| = |I({\\mathcal P},{\\mathcal C})|$.\nAs in Subsection \\ref{subsec:ERproof}, we can use Theorem \\ref{thm:SZ} to obtain $|I({\\mathcal P},{\\mathcal C})| = O_d(n^{8/3})$, unless the curves badly violate the degrees-of-freedom condition.\nThe hardest part of the proof is then to connect the failure of the degrees-of-freedom condition to the special form $(ii)$ in Theorem \\ref{thm:ESRSZ}. \n\n\n\\section{Elekes-R\\'onyai problems on curves}\n\\label{sec:curves}\n\nIn this section we discuss some variants of the Elekes-R\\'onyai and Elekes-Szab\\'o problems for point sets contained in algebraic curves.\nWe still work with Cartesian products of ``one-dimensional'' finite sets, but instead of finite subsets of ${\\mathbb R}$ or ${\\mathbb C}$, we take finite subsets of algebraic curves.\nWe start with the first known instance of an \nElekes-R\\'onyai problem on curves, where the function is the Euclidean distance.\nAfter that we discuss more general polynomial functions on curves, and finally we look at Elekes-Szab\\'o problems on curves.\n\n\\subsection{Distances on curves}\n\nWe have already seen one instance of the Elekes-R\\'onyai problem for distances on curves in Theorem \\ref{thm:ERSSS}, which concerned distances between two point sets on two lines.\nA natural generalization is to consider distances between two point sets on two algebraic curves in ${\\mathbb R}^2$.\nMore precisely, given algebraic curves $C_1,C_2\\subset {\\mathbb R}^2$ and finite point sets $P_1\\subset C_1, P_2\\subset C_2$ with $|P_1|=|P_2| = n$, can we get a superlinear lower bound on $|D(P_1\\times P_2)|$?\\footnote{As in Subsection \\ref{subsec:ERapps}, $D(p,q) = (p_x-q_x)^2+(p_y-q_y)^2$ is the squared Euclidean distance function.}\n\nObserve that there are pairs of curves for which we cannot expect a superlinear lower bound on $|D(P_1\\times P_2)|$, as we saw in Subsection \\ref{subsec:ERapps} for parallel lines and orthogonal lines.\nThere is one more construction involving curves other than lines.\nIf we take two concentric circles with equally spaced points, then there is also only a linear number of distances between the two point sets.\nIt was proved by Pach and De Zeeuw \\cite{PZ13} that these three constructions are the only exceptions to a superlinear lower bound; the proof used (once again) the setup in \\cite{SSS13}, together with ad hoc arguments.\n\n\n\\begin{theorem}[Pach-De Zeeuw]\\label{thm:PZ}\nLet $C_1,C_2\\subset {\\mathbb R}^2$ be irreducible algebraic curves of degree at most $d$.\nFor finite subsets $P_1\\subset C_1, P_2\\subset C_2$ of size $n$ we have\n", "index": 73, "text": "\n\\[|D(P_1\\times P_2)| = \\Omega_d(n^{4/3}), \\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex24.m1\" class=\"ltx_Math\" alttext=\"|D(P_{1}\\times P_{2})|=\\Omega_{d}(n^{4/3}),\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi>D</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>P</mi><mn>1</mn></msub><mo>\u00d7</mo><msub><mi>P</mi><mn>2</mn></msub></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant=\"normal\">\u03a9</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mrow><mn>4</mn><mo>/</mo><mn>3</mn></mrow></msup><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nunless $C$ is a line or a circle.\n\\end{corollary}\n\nLet us discuss some of the new issues involved in the proofs of these results.\nIn the case of lines, a bound could be deduced from the Elekes-R\\'onyai theorem (or proved directly), unless the lines are parallel or orthogonal.\nFor general algebraic curves, this does not seem possible. \nIf the curves happen to be parametrized by polynomials, then plugging that parametrization into $D(p,q)$ would give a polynomial in two variables, and we could apply Theorem \\ref{thm:ERRSS} (although it requires some work to translate the exceptional form of the polynomial to exceptional curves).\nThis was done in \\cite{RSS15a} to prove that if $C$ is polynomially parametrizable, then the bound in Corollary \\ref{cor:CPZ} holds, unless $C$ is a line (a circle is not polynomially parametrizable).\n\nIf the curves are not polynomially parametrizable, then this approach will not work.\nThe curve $y^2 = x^3+1$, for instance, has no parametrization with polynomials or rational functions.\nWe could locally write $y = \\sqrt{x^3+1}$ and plug that into $D(p,q)$, but this gives an algebraic function in two variables; moreover, most curves do not even have such an explicit solution by radicals, and the best we can do is to use the implicit function theorem to locally write $y$ as an analytic function of $x$.\nThis suggests that Theorem \\ref{thm:ESRSZ} may provide a larger framework for Theorem \\ref{thm:PZ}.\nWe will see in Subsection \\ref{subsec:ESoncurves} how one can manipulate a question about curves to fit into the framework of Theorem \\ref{thm:ESRSZ}.\nEven then, extracting the exceptional forms of the curves from property $(ii)$ is not straightforward;\nfor distances on curves this was done by Raz and Sharir \\cite{RS16}, who used considerations from graph rigidity (similar to those in \\cite{C14}) to deduce Theorem \\ref{thm:PZ} from Theorem \\ref{thm:ESRSZ}.\n\nA natural way to extend Theorem \\ref{thm:PZ} or Corollary \\ref{cor:CPZ} is to consider curves in higher dimensions.\nThis was done for Corollary \\ref{cor:CPZ} by Charalambides \\cite{C14} with the bound $\\Omega(n^{5/4})$, using the counting scheme of \\cite{E99}, together with various tools from analysis.\nHe determined that in ${\\mathbb R}^3$ the exceptional curves are again lines and circles, \nwhile in ${\\mathbb R}^4$ and above, the class of exceptional curves consists of so-called \\emph{algebraic helices}; see \\cite{C14,R16} for definitions and exact statements.\nThe bound in ${\\mathbb R}^D$ was improved to $\\Omega(n^{4/3})$ in \\cite{RSS15a} for the case of polynomially parametrizable curves using Theorem \\ref{thm:ERRSS},\nand finally for all curves except algebraic helices by Raz \\cite{R16}, using both Theorem \\ref{thm:ESRSZ} and the analysis of Charalambides \\cite{C14}.\nBronner, Sharir, and Sheffer \\cite{BSS16} considered variants involving curves in ${\\mathbb R}^D$ that are not necessarily algebraic.\n\n\nAnother variant of Theorem \\ref{thm:PZ} was studied by Sheffer, Zahl, and De Zeeuw \\cite{SZZ16}: Suppose that $P_1$ is contained in a curve $C$, and $P_2$ is an arbitrary set in ${\\mathbb R}^2$. \nIn general it is difficult to obtain bounds in this situation, \nbut \\cite{SZZ16} showed that if $C$ is a line or a circle, then the number of distances determined by $P_1\\cup P_2$ is reasonably large. \nThis result was used to show that a point set that determines $o(n)$ distinct distances cannot have too many points on a line or a circle, which is a small step towards the conjecture of Erd\\H os that a set of $n$ points with $o(n)$ distinct distances must resemble an integer grid.\n\n\n\\subsection{Other polynomials on curves}\n\nWe can ask the same questions for any polynomial function ${\\mathbb R}^2\\times{\\mathbb R}^2\\to{\\mathbb R}$, considered as a function $C_1\\times C_2\\to {\\mathbb R}$.\nFor clarity, we focus on the case $C_1=C_2$. \nWe also switch from ${\\mathbb R}$ to ${\\mathbb C}$, because some of the statements become more natural over ${\\mathbb C}$.\n\nCharalambides \\cite{C14} also considered the function $A(p,q) = p_xq_y - p_yq_x$, which (in ${\\mathbb R}^2$) gives twice the signed area of the triangle spanned by $p$, $q$, and the origin.\nHe proved that, for $P$ contained in an irreducible algebraic curve $C$ in ${\\mathbb R}^2$, we have $|A(P\\times P)| = \\Omega_d(|P|^{5/4})$, unless $C$ is a line, an ellipse centered at the origin, or a hyperbola centered at the origin.\nThis result was generalized as follows by Valculescu and De Zeeuw \\cite{VZ15}, to any bilinear form over $C$, with a broader class of exceptional curves.\nThe condition on the curve is tight in the sense that for any excluded curve there is a bilinear form that can take a linear number of values on that curve.\nTo the authors, it was surprising that such curves can have large degree, whereas previous evidence (namely \\cite{C14} and \\cite{ES13}) suggested that the exceptional curves in such problems have degree at most three.\n\n\\begin{theorem}\\label{thm:VZ}\nLet $C$ be an irreducible algebraic curve in ${\\mathbb C}^2$ of degree $d$,\nand consider the bilinear form $B_A(p,q) = p^TAq$ for a nonsingular matrix $A$.\nFor $P\\subset C$ we have\n", "itemtype": "equation", "pos": 50246, "prevtext": "\nunless the curves are parallel lines, orthogonal lines, or concentric circles.\n\\end{theorem}\n\n\nThe proof in \\cite{PZ13} allows $C_1$ and $C_2$ to be the same curve, which leads to a statement for distances on a single curve that is interesting in its own right.\nA version of this corollary was proved earlier by Charalambides \\cite{C14}, but with a weaker bound $\\Omega_d(n^{5/4})$ (the same exponent as in \\cite{E99}, coming from the same counting scheme).\nThe proof in \\cite{C14} made an interesting connection with \\emph{graph rigidity}.\n\n\\begin{corollary}[Charalambides, Pach-De Zeeuw]\\label{cor:CPZ}\nLet $C\\subset {\\mathbb R}^2$ be an irreducible algebraic curve of degree $d$.\nFor a finite subset $P\\subset C$ we have\n", "index": 75, "text": "\n\\[|D(P\\times P)| = \\Omega_d(n^{4/3}), \\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex25.m1\" class=\"ltx_Math\" alttext=\"|D(P\\times P)|=\\Omega_{d}(n^{4/3}),\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi>D</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>P</mi><mo>\u00d7</mo><mi>P</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant=\"normal\">\u03a9</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mrow><mn>4</mn><mo>/</mo><mn>3</mn></mrow></msup><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nunless $C$ is a line, or linearly equivalent to a curve of the form $x^k = y^\\ell$, with $k,\\ell\\in {\\mathbb Z}\\backslash\\{0\\}$.\n\\end{theorem}\n\nThe description of the exceptional curves in Theorem \\ref{thm:VZ} is very succinct but requires some clarification.\nWhen $k$ or $\\ell$ is negative, one obtains a more natural polynomial equation after multiplying by an appropriate monomial.\nThus hyperbola-like curves of the form $x^ky^\\ell=1$ with coprime $k,\\ell\\geq 1$ are included. \nEllipses centered at the origin are also included, since these are linearly equivalent to the unit circle $(x-iy)(x+iy)=1$, which is linearly equivalent to $xy=1$. Thus all the exceptional curves of Charalambides are special.\nNote that these curves are all \\emph{rational}, i.e., they have a parametrization by rational functions.\n\nThe reason that these curves are exceptional in the proof of Theorem \\ref{thm:VZ} is that they have infinitely many \\emph{linear automorphisms}.\nHere an \\emph{automorphism} of a curve $C$ is a map $T:{\\mathbb C}^2\\to{\\mathbb C}^2$ such that $T(C) = C$, and it is \\emph{linear} if it is a linear transformation (and similarly one can define affine, projective, or rational automorphisms).\nIt was proved in \\cite{VZ15} that the algebraic curves with infinitely many linear automorphisms are exactly those excluded in Theorem \\ref{thm:VZ}.\nFrom the proof of Theorem \\ref{thm:VZ} in \\cite{VZ15}, it appears that if one considers more general polynomial functions instead of $B_A$, \nthe exceptional curves will be those that have infinitely many rational automorphisms.\nBy a theorem of Hurwitz (see for instance \\cite[Exercise IV.2.5]{Ha77}), a nonsingular curve with infinitely many rational automorphisms must have genus zero or one, or in other words, it must be rational or elliptic.\n\nIf we consider the statement of Theorem \\ref{thm:VZ} for more general polynomials, then we also encounter exceptional polynomials that can take a linear number of values on \\emph{any} curve.\nAlready for the bilinear forms $B_A$, this occurs when $A$ is a singular matix; in that case we can write $B_A(p,q) = L_1(p)\\cdot L_2(q)$ with linear polynomials $L_1,L_2$, which is reminiscent of the multiplicative form in Theorem \\ref{thm:ERRSS}.\nMore generally, for functions of the form $G(H(p)+K(q))$ or $G(H(p)\\cdot K(q))$ there are exceptional constructions.\nWe arrive at the following conjecture (where again we could conjecture a larger exponent).\n\n\\begin{conjecture}\\label{conj:ERoncurves}\nLet $C\\subset {\\mathbb C}^2$ be an algebraic curve of degree at most $d$ and $F:C\\times C\\to {\\mathbb C}$ a polynomial of degree  at most $d$.\nThen for any $P\\subset C$ we have\n\n", "itemtype": "equation", "pos": 55438, "prevtext": "\nunless $C$ is a line or a circle.\n\\end{corollary}\n\nLet us discuss some of the new issues involved in the proofs of these results.\nIn the case of lines, a bound could be deduced from the Elekes-R\\'onyai theorem (or proved directly), unless the lines are parallel or orthogonal.\nFor general algebraic curves, this does not seem possible. \nIf the curves happen to be parametrized by polynomials, then plugging that parametrization into $D(p,q)$ would give a polynomial in two variables, and we could apply Theorem \\ref{thm:ERRSS} (although it requires some work to translate the exceptional form of the polynomial to exceptional curves).\nThis was done in \\cite{RSS15a} to prove that if $C$ is polynomially parametrizable, then the bound in Corollary \\ref{cor:CPZ} holds, unless $C$ is a line (a circle is not polynomially parametrizable).\n\nIf the curves are not polynomially parametrizable, then this approach will not work.\nThe curve $y^2 = x^3+1$, for instance, has no parametrization with polynomials or rational functions.\nWe could locally write $y = \\sqrt{x^3+1}$ and plug that into $D(p,q)$, but this gives an algebraic function in two variables; moreover, most curves do not even have such an explicit solution by radicals, and the best we can do is to use the implicit function theorem to locally write $y$ as an analytic function of $x$.\nThis suggests that Theorem \\ref{thm:ESRSZ} may provide a larger framework for Theorem \\ref{thm:PZ}.\nWe will see in Subsection \\ref{subsec:ESoncurves} how one can manipulate a question about curves to fit into the framework of Theorem \\ref{thm:ESRSZ}.\nEven then, extracting the exceptional forms of the curves from property $(ii)$ is not straightforward;\nfor distances on curves this was done by Raz and Sharir \\cite{RS16}, who used considerations from graph rigidity (similar to those in \\cite{C14}) to deduce Theorem \\ref{thm:PZ} from Theorem \\ref{thm:ESRSZ}.\n\nA natural way to extend Theorem \\ref{thm:PZ} or Corollary \\ref{cor:CPZ} is to consider curves in higher dimensions.\nThis was done for Corollary \\ref{cor:CPZ} by Charalambides \\cite{C14} with the bound $\\Omega(n^{5/4})$, using the counting scheme of \\cite{E99}, together with various tools from analysis.\nHe determined that in ${\\mathbb R}^3$ the exceptional curves are again lines and circles, \nwhile in ${\\mathbb R}^4$ and above, the class of exceptional curves consists of so-called \\emph{algebraic helices}; see \\cite{C14,R16} for definitions and exact statements.\nThe bound in ${\\mathbb R}^D$ was improved to $\\Omega(n^{4/3})$ in \\cite{RSS15a} for the case of polynomially parametrizable curves using Theorem \\ref{thm:ERRSS},\nand finally for all curves except algebraic helices by Raz \\cite{R16}, using both Theorem \\ref{thm:ESRSZ} and the analysis of Charalambides \\cite{C14}.\nBronner, Sharir, and Sheffer \\cite{BSS16} considered variants involving curves in ${\\mathbb R}^D$ that are not necessarily algebraic.\n\n\nAnother variant of Theorem \\ref{thm:PZ} was studied by Sheffer, Zahl, and De Zeeuw \\cite{SZZ16}: Suppose that $P_1$ is contained in a curve $C$, and $P_2$ is an arbitrary set in ${\\mathbb R}^2$. \nIn general it is difficult to obtain bounds in this situation, \nbut \\cite{SZZ16} showed that if $C$ is a line or a circle, then the number of distances determined by $P_1\\cup P_2$ is reasonably large. \nThis result was used to show that a point set that determines $o(n)$ distinct distances cannot have too many points on a line or a circle, which is a small step towards the conjecture of Erd\\H os that a set of $n$ points with $o(n)$ distinct distances must resemble an integer grid.\n\n\n\\subsection{Other polynomials on curves}\n\nWe can ask the same questions for any polynomial function ${\\mathbb R}^2\\times{\\mathbb R}^2\\to{\\mathbb R}$, considered as a function $C_1\\times C_2\\to {\\mathbb R}$.\nFor clarity, we focus on the case $C_1=C_2$. \nWe also switch from ${\\mathbb R}$ to ${\\mathbb C}$, because some of the statements become more natural over ${\\mathbb C}$.\n\nCharalambides \\cite{C14} also considered the function $A(p,q) = p_xq_y - p_yq_x$, which (in ${\\mathbb R}^2$) gives twice the signed area of the triangle spanned by $p$, $q$, and the origin.\nHe proved that, for $P$ contained in an irreducible algebraic curve $C$ in ${\\mathbb R}^2$, we have $|A(P\\times P)| = \\Omega_d(|P|^{5/4})$, unless $C$ is a line, an ellipse centered at the origin, or a hyperbola centered at the origin.\nThis result was generalized as follows by Valculescu and De Zeeuw \\cite{VZ15}, to any bilinear form over $C$, with a broader class of exceptional curves.\nThe condition on the curve is tight in the sense that for any excluded curve there is a bilinear form that can take a linear number of values on that curve.\nTo the authors, it was surprising that such curves can have large degree, whereas previous evidence (namely \\cite{C14} and \\cite{ES13}) suggested that the exceptional curves in such problems have degree at most three.\n\n\\begin{theorem}\\label{thm:VZ}\nLet $C$ be an irreducible algebraic curve in ${\\mathbb C}^2$ of degree $d$,\nand consider the bilinear form $B_A(p,q) = p^TAq$ for a nonsingular matrix $A$.\nFor $P\\subset C$ we have\n", "index": 77, "text": "\n\\[|B_A(P\\times P)|=\\Omega_d\\left(|P|^{4/3}\\right),\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex26.m1\" class=\"ltx_Math\" alttext=\"|B_{A}(P\\times P)|=\\Omega_{d}\\left(|P|^{4/3}\\right),\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><msub><mi>B</mi><mi>A</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>P</mi><mo>\u00d7</mo><mi>P</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant=\"normal\">\u03a9</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo>(</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>P</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>4</mn><mo>/</mo><mn>3</mn></mrow></msup><mo>)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nunless $F(p,q) = G(H(p)+K(q))$ or $F(p,q)=G(H(p)\\cdot K(q))$,\nor unless $C$ is rational.\n\\end{conjecture}\n\n\n\\subsection{Elekes-Szab\\'o problems on curves}\n\\label{subsec:ESoncurves}\n\nAn Elekes-Szab\\'o theorem on curves would take the following form.\nLet ${C}_1, {C}_2, {C}_3\\subset {\\mathbb C}^2$ be algebraic curves of degree at most $d$, and let $G\\in {\\mathbb C}[x,y,s,t,u,v]$ be a polynomial of degree at most $d$.\nThen for point sets $P_1\\subset{C}_1,P_2\\subset{C}_2,P_3\\subset{C}_3$ of size $n$, we would want to bound $|Z(G)\\cap (P_1\\times P_2\\times P_3)|$.\nWe would expect exceptions for certain $G$, of a form related to that in Theorem \\ref{thm:ESRSZ}$(ii)$,\nand we would expect exceptions for certain curves, including low-degree curves and those in Conjecture \\ref{conj:ERoncurves}.\nWe won't state a full conjecture here, but we will discuss some of the instances that have been suggested.\n\n\nOne possible choice of polynomial is\n", "itemtype": "equation", "pos": 58157, "prevtext": "\nunless $C$ is a line, or linearly equivalent to a curve of the form $x^k = y^\\ell$, with $k,\\ell\\in {\\mathbb Z}\\backslash\\{0\\}$.\n\\end{theorem}\n\nThe description of the exceptional curves in Theorem \\ref{thm:VZ} is very succinct but requires some clarification.\nWhen $k$ or $\\ell$ is negative, one obtains a more natural polynomial equation after multiplying by an appropriate monomial.\nThus hyperbola-like curves of the form $x^ky^\\ell=1$ with coprime $k,\\ell\\geq 1$ are included. \nEllipses centered at the origin are also included, since these are linearly equivalent to the unit circle $(x-iy)(x+iy)=1$, which is linearly equivalent to $xy=1$. Thus all the exceptional curves of Charalambides are special.\nNote that these curves are all \\emph{rational}, i.e., they have a parametrization by rational functions.\n\nThe reason that these curves are exceptional in the proof of Theorem \\ref{thm:VZ} is that they have infinitely many \\emph{linear automorphisms}.\nHere an \\emph{automorphism} of a curve $C$ is a map $T:{\\mathbb C}^2\\to{\\mathbb C}^2$ such that $T(C) = C$, and it is \\emph{linear} if it is a linear transformation (and similarly one can define affine, projective, or rational automorphisms).\nIt was proved in \\cite{VZ15} that the algebraic curves with infinitely many linear automorphisms are exactly those excluded in Theorem \\ref{thm:VZ}.\nFrom the proof of Theorem \\ref{thm:VZ} in \\cite{VZ15}, it appears that if one considers more general polynomial functions instead of $B_A$, \nthe exceptional curves will be those that have infinitely many rational automorphisms.\nBy a theorem of Hurwitz (see for instance \\cite[Exercise IV.2.5]{Ha77}), a nonsingular curve with infinitely many rational automorphisms must have genus zero or one, or in other words, it must be rational or elliptic.\n\nIf we consider the statement of Theorem \\ref{thm:VZ} for more general polynomials, then we also encounter exceptional polynomials that can take a linear number of values on \\emph{any} curve.\nAlready for the bilinear forms $B_A$, this occurs when $A$ is a singular matix; in that case we can write $B_A(p,q) = L_1(p)\\cdot L_2(q)$ with linear polynomials $L_1,L_2$, which is reminiscent of the multiplicative form in Theorem \\ref{thm:ERRSS}.\nMore generally, for functions of the form $G(H(p)+K(q))$ or $G(H(p)\\cdot K(q))$ there are exceptional constructions.\nWe arrive at the following conjecture (where again we could conjecture a larger exponent).\n\n\\begin{conjecture}\\label{conj:ERoncurves}\nLet $C\\subset {\\mathbb C}^2$ be an algebraic curve of degree at most $d$ and $F:C\\times C\\to {\\mathbb C}$ a polynomial of degree  at most $d$.\nThen for any $P\\subset C$ we have\n\n", "index": 79, "text": "$$|F(P\\times P)|=\\Omega_d(|P|^{4/3}),$$\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex27.m1\" class=\"ltx_Math\" alttext=\"|F(P\\times P)|=\\Omega_{d}(|P|^{4/3}),\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi>F</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>P</mi><mo>\u00d7</mo><mi>P</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant=\"normal\">\u03a9</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>P</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>4</mn><mo>/</mo><mn>3</mn></mrow></msup><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nfor which $G(x,y,s,t,u,v)=0$ if and only if the triangle determined by the points $(x,y),(s,t),(u,v)$ has unit area.\nThe problem of determining the maximum number of unit area triangles determined by $n$ points in ${\\mathbb R}^2$ is ascribed to Oppenheim in \\cite{EP71}. \nThe best known lower bound is $\\Omega(n^2\\log\\log n)$, due to Erd\\H os and Purdy \\cite{EP71}, and the best known lower bound is $O(n^{20/9})$, due to Raz and Sharir \\cite{RS15a}.\nIt is easy to show that for $n$ points on a curve, or three sets of $n$ points on three curves, \nthe bound $O(n^2)$ holds.\nThe following problem was suggested by Solymosi and Sharir \\cite{SS15}.\n\n\\begin{problem}\nGiven $n$ points on an algebraic curve ${C}$ in ${\\mathbb R}^2$, \nprove a bound better than $O(n^2)$ on the number of unit area triangles, \nor show that there are point sets on ${C}$ with $\\Omega(n^2)$ unit area triangles.\n\\end{problem}\n\nThe only case of this problem that has been studied is the one where ${C}$ is the union of three distinct lines.\nSurprisingly, Raz and Sharir \\cite{RS15a} showed that on any three distinct lines there are non-trivial constructions that determine $\\Omega(n^2)$ unit area triangles.\nThey discovered this using the derivative criterion in Lemma \\ref{lem:derivative}.\n\nAnother choice of $G$ (which we won't try to write out) is the polynomial such that $G(x,y,s,t,u,v)=0$ if the points $(x,y),(s,t),(u,v)$ lie on a common unit circle, or in other words, the circle determined by the three points has radius equal to one.\nSince the radius of the circle determined by three points can be written as a rational function, multiplying out denominators gives a polynomial $G$ with the property above.\nRaz, Sharir, and Solymosi showed that for three distinct unit circles in ${\\mathbb R}^2$ with three finite point sets of size $n$, \nthe number of determined unit circles is $O(n^{11/6})$ (this statement is equivalent to Theorem \\ref{thm:ESRSS}).\nOne can generalize this problem as follows.\n\n\\begin{problem}\nGiven three algebraic curves ${C}_1, {C}_2, {C}_3\\subset {\\mathbb R}^2$ containing three sets of $n$ points,\nprove a bound better than $O(n^2)$ on the number of determined unit circles.\nAre there curves with $\\Omega(n^2)$ unit circles?\n\\end{problem}\n\n\nAnother problem of this form is to bound \\emph{collinear triples} on curves. \nMore is known on this problem, and we will discuss it in detail in the next subsection.\nNote that it can be seen as a degenerate case of the unit area triangle problem, where instead of unit area we ask for \\emph{zero} area.\n\n\\bigskip\n\n\nLet us see how the Elekes-Szab\\'o problem on curves is related to the Elekes-Szab\\'o problem in ${\\mathbb C}^3$.\nWe can think of the the three curves ${C}_1, {C}_2, {C}_3\\subset {\\mathbb C}^2$ as a Cartesian product ${C}_1\\times {C}_2\\times {C}_3\\subset {\\mathbb C}^6$.\nWe can choose a generic projection $\\varphi:{\\mathbb C}^2\\to{\\mathbb C}$, in such a way that the three-fold product $\\pi=(\\varphi\\times\\varphi\\times\\varphi):{\\mathbb C}^6\\to {\\mathbb C}^3$ maps a product $P_1\\times P_2\\times P_3\\subset {C}_1\\times {C}_2\\times {C}_3$ with $|P_1|=|P_2|=|P_3|=n$ to a product $\\varphi(P_1)\\times \\varphi(P_2)\\times \\varphi(P_3)\\subset {\\mathbb C}^3$ with $\\varphi(P_1) = \\varphi(P_2) = \\varphi(P_3) = n$.\n\nThe variety $X = Z(F)\\cap ({C}_1\\times {C}_2\\times {C}_3)$ is two-dimensional (unless $G$ happens to vanish on ${C}_1\\times {C}_2\\times {C}_3$, in which case the problem is trivial).\nAgain by choosing $\\varphi$ generically, we get that $\\pi(X)\\subset {\\mathbb C}^3$ is also a two-dimensional variety, and thus can be written as $X = Z(F)$.\nNow we have\n", "itemtype": "equation", "pos": 59136, "prevtext": "\nunless $F(p,q) = G(H(p)+K(q))$ or $F(p,q)=G(H(p)\\cdot K(q))$,\nor unless $C$ is rational.\n\\end{conjecture}\n\n\n\\subsection{Elekes-Szab\\'o problems on curves}\n\\label{subsec:ESoncurves}\n\nAn Elekes-Szab\\'o theorem on curves would take the following form.\nLet ${C}_1, {C}_2, {C}_3\\subset {\\mathbb C}^2$ be algebraic curves of degree at most $d$, and let $G\\in {\\mathbb C}[x,y,s,t,u,v]$ be a polynomial of degree at most $d$.\nThen for point sets $P_1\\subset{C}_1,P_2\\subset{C}_2,P_3\\subset{C}_3$ of size $n$, we would want to bound $|Z(G)\\cap (P_1\\times P_2\\times P_3)|$.\nWe would expect exceptions for certain $G$, of a form related to that in Theorem \\ref{thm:ESRSZ}$(ii)$,\nand we would expect exceptions for certain curves, including low-degree curves and those in Conjecture \\ref{conj:ERoncurves}.\nWe won't state a full conjecture here, but we will discuss some of the instances that have been suggested.\n\n\nOne possible choice of polynomial is\n", "index": 81, "text": "\n\\[G(x,y,s,t,u,v) = \\frac{1}{2}\\begin{vmatrix} x&s&u\\\\y&t&v\\\\1&1&1\\end{vmatrix} - 1,\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex28.m1\" class=\"ltx_Math\" alttext=\"G(x,y,s,t,u,v)=\\frac{1}{2}\\begin{vmatrix}x&amp;s&amp;u\\\\&#10;y&amp;t&amp;v\\\\&#10;1&amp;1&amp;1\\end{vmatrix}-1,\" display=\"block\"><mrow><mrow><mrow><mi>G</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>,</mo><mi>s</mi><mo>,</mo><mi>t</mi><mo>,</mo><mi>u</mi><mo>,</mo><mi>v</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>\u2062</mo><mrow><mo>|</mo><mtable columnspacing=\"5pt\" displaystyle=\"true\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"center\"><mi>x</mi></mtd><mtd columnalign=\"center\"><mi>s</mi></mtd><mtd columnalign=\"center\"><mi>u</mi></mtd></mtr><mtr><mtd columnalign=\"center\"><mi>y</mi></mtd><mtd columnalign=\"center\"><mi>t</mi></mtd><mtd columnalign=\"center\"><mi>v</mi></mtd></mtr><mtr><mtd columnalign=\"center\"><mn>1</mn></mtd><mtd columnalign=\"center\"><mn>1</mn></mtd><mtd columnalign=\"center\"><mn>1</mn></mtd></mtr></mtable><mo>|</mo></mrow></mrow><mo>-</mo><mn>1</mn></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nso if the upper bound of Theorem \\ref{thm:ESRSZ}$(i)$ applies to $F$, then we also have that upper bound for $G$ on ${C}_1\\times {C}_2\\times {C}_3$.\nOtherwise, $F$ satisfies property $(ii)$ of Theorem \\ref{thm:ESRSZ}.\n\nUnfortunately, it is not clear how to transfer back property $(ii)$ for $F$ to the original setting.\nNote that $F$ encodes information about $G$, but also about the curves ${C}_1,{C}_2,{C}_3$.\nThus property $(ii)$ for $F$ should imply that either $G$ has an exceptional form, or the curves ${C}_1,{C}_2,{C}_3$ have an exceptional form.\nThis was made to work for the problem of collinear triples (see Subsection \\ref{subsec:collineartriples}), but it remains difficult to do this in general.\n\n\\bigskip\n\nThe projection from ${\\mathbb C}^6$ to ${\\mathbb C}^3$ above lets us connect Theorem \\ref{thm:ESRSZ} to the group law on elliptic curves (irreducible nonsingular algebraic curves of degree three).\nWe refer to \\cite{ST92} for an introduction to the group structure of an elliptic curve, but we summarize it here as follows: \nOn any elliptic curve $E$ there are an operation $\\oplus$ and an identity element $\\mathcal{O}$  that turn the point set $E$ into a group, with the special property that $P,Q,R\\in E$ are collinear if and only if $P\\oplus Q\\oplus R = \\mathcal{O}$.\n\n\n\nThis group structure on elliptic curves allows us to construct finite point sets with many collinear triples.\nIf we take a finite subgroup $H$ of size $n$ of an elliptic curve $E$ (which exists for any $n$), then $|Z(G)\\cap (H\\times H\\times H)| = \\Omega(n^2)$, where $G$ is the polynomial that represents collinearity.\nThis follows from the fact that for any two distinct elements $P,Q\\in H$, the line spanned by $P$ and $Q$ intersects $E$ in $R = \\ominus P\\ominus Q$, which must also be in the subgroup $H$.\nWe could have $R = P$ or $R = Q$, but there are only $O(n)$ pairs that satisfy $P\\oplus P\\oplus Q = \\mathcal{O}$, so we get $\\Omega(n^2)$ collinear triples of distinct points.\n\nApplying the generic projection $\\pi:{\\mathbb C}^6\\to {\\mathbb C}^3$, we get a polynomial $F\\in {\\mathbb C}[x,y,z]$ such that $|Z(F)\\cap (\\varphi(H)\\times \\varphi(H)\\times \\varphi(H))|=\\Omega(n^2)$, which implies that $G$ satisfies property $(ii)$ of Theorem \\ref{thm:ESRSZ}.\nIt follows that, locally, there are $\\varphi_i:{\\mathbb C}\\to {\\mathbb C}$ such that $P,Q,R\\in E$ are collinear if and only if $\\varphi_1(\\varphi(P)) + \\varphi_2(\\varphi(Q)) + \\varphi_3(\\varphi(R)) = 0$. \nThis is why it appears that the local analytic nature of property $(ii)$ is necessary; it would be a big surprise if such maps existed globally, or could be described by polynomial or rational functions.\n\n\n\\subsection{Collinear triples on curves}\n\\label{subsec:collineartriples}\n\nThe one instance of an Elekes-Szab\\'o problem on curves that has been studied in some detail (and is not an Elekes-R\\'onyai problem) is the problem where $F$ represents collinearity.\nThis question was first considered by Elekes and Szab\\'o \\cite{ES13}; they proved a weaker bound in ${\\mathbb R}^2$ using the main bound from \\cite{ES12}, which was then improved in \\cite{RSZ15} to the following statement.\n\n\\begin{theorem}[Elekes-Szab\\'o, Raz-Sharir-De Zeeuw]\\label{thm:ESRSZcoltrip}\nLet ${C}$ be an irreducible algebraic curve in ${\\mathbb C}^2$ of degree $d$ and let $P\\subset {C}$ be a finite set.\nThen $P$ determines $O_d(n^{11/6})$ proper collinear triples, unless ${C}$ is a line or a cubic curve.\n\\end{theorem}\n\nAs we saw at the end of Subsection \\ref{subsec:ESoncurves}, elliptic curves must be exceptions to this statement, because their group structure gives constructions with a quadratic number of collinear triples.\nIn fact, on any cubic curve (including the union of a conic and a line, or a union of three lines) there is a ``quasi-group law''; see Green and Tao \\cite[Proposition 7.3]{GT13}. \nThis law does not quite give the whole point set a group structure (and there may not be an identity element), but comes close enough to allow for a construction with $\\Omega(n^2)$ collinear lines.\nThese constructions are worked out in \\cite{ES13}.\n\n\nGreen and Tao \\cite{GT13} proved the Dirac-Motzkin conjecture for large point sets, which states that any non-collinear point set $P\\subset{\\mathbb R}^2$ of size $n$ determines at least $n/2$ \\emph{ordinary lines} (lines containing exactly two points of $P$).\nAs a by-product, they also solved Sylvester's ``orchard problem'' for large $n$, which asks for the maximum number of lines with at least three points (\\emph{triple lines}) from a set of $n$ points.\nIt is easy to see that this number is at most $\\frac{1}{3}\\binom{n}{2}$, and Sylvester noted (in 1868; see \\cite{GT13}) that there are constructions on elliptic curves with almost exactly this number of triple lines.\nGreen and Tao showed that any set with at least $\\frac{1}{6}n^2 - O(n)$ triple lines must have most of its points on a cubic curve.\nElekes made the bolder conjecture that any set with $\\Omega(n^2)$ collinear triples has many points on a cubic;\nto underline our ignorance he suggested just to show that ten of the points are on a cubic (which is one more than the trivial number).\nThe conjecture was stated in \\cite{ES13} but already present in disguise in \\cite{E02}.\n\n\n\n\\begin{conjecture}[Elekes]\nIf $P\\subset {\\mathbb R}^2$ determines $\\Omega(n^2)$ collinear triples, then at least 10 points of $P$ lie on a cubic.\n\\end{conjecture}\n\n\n\nAn interesting application of Theorem \\ref{thm:ESRSZcoltrip}, pointed out in \\cite{ES13}, is to the problem of \\emph{distinct directions} mentioned in Subsection \\ref{subsec:ERapps}.\nTheorem \\ref{thm:ESRSS} allows us to generalize Corollary \\ref{cor:directionsongraphs} to any algebraic curve.\nThe connection with triple lines is that if two pairs of points determine lines in the same direction, then these lines intersect the line at infinity at the same point.\nThus a point set on a curve ${C}$ that has few directions determines few such points at infinity, or conversely, adding these points at infinity gives a point set with many collinear triples.\nAn unbalanced form of Theorem \\ref{thm:ESRSZcoltrip} then gives the following lower bound on the number of directions.\nThere is an exception when ${C}$ together with the line at infinity is a cubic curve, which means that ${C}$ is a conic.\n\n\\begin{corollary}\nLet ${C}$ be an irreducible algebraic curve in ${\\mathbb C}^2$ of degree $d$ and let $P\\subset {C}$ be a finite set.\nThen $P$ determines $\\Omega_d(n^{4/3})$ distinct directions, \nunless ${C}$ is a conic.\n\\end{corollary}\n\n\n\n\n\\section{Other variants}\\label{sec:variants}\n\n\n\n\\subsection{Longer one-dimensional products}\n\\label{subsec:longer}\n\nOne way to extend Theorems \\ref{thm:ERRSS} and \\ref{thm:ESRSZ} is to consider ``longer'' Cartesian products, i.e., products with more factors. \nThe reference point for such bounds is the Schwartz-Zippel lemma,\nwhich we now state in full generality.\nThis version was proved by Lang and Weil \\cite[Lemma 1]{LW54}\\footnote{This brings into question if ``Schwartz-Zippel'' is the right name, but it has become standard in combinatorics.}; see also Tao \\cite{T12} for a proof sketch (both focus on finite fields, but their proofs work also over ${\\mathbb C}$).\nThe bound in fact holds over any field, and can be modified to allow factors $A_i$ of different sizes.\n\n\\begin{theorem}\\label{thm:ScZi}\nLet $X\\subset {\\mathbb C}^D$ be a variety.\nThen for finite sets $A_1,\\ldots, A_D\\subset {\\mathbb C}$ of size $n$ we have\n", "itemtype": "equation", "pos": 62847, "prevtext": "\nfor which $G(x,y,s,t,u,v)=0$ if and only if the triangle determined by the points $(x,y),(s,t),(u,v)$ has unit area.\nThe problem of determining the maximum number of unit area triangles determined by $n$ points in ${\\mathbb R}^2$ is ascribed to Oppenheim in \\cite{EP71}. \nThe best known lower bound is $\\Omega(n^2\\log\\log n)$, due to Erd\\H os and Purdy \\cite{EP71}, and the best known lower bound is $O(n^{20/9})$, due to Raz and Sharir \\cite{RS15a}.\nIt is easy to show that for $n$ points on a curve, or three sets of $n$ points on three curves, \nthe bound $O(n^2)$ holds.\nThe following problem was suggested by Solymosi and Sharir \\cite{SS15}.\n\n\\begin{problem}\nGiven $n$ points on an algebraic curve ${C}$ in ${\\mathbb R}^2$, \nprove a bound better than $O(n^2)$ on the number of unit area triangles, \nor show that there are point sets on ${C}$ with $\\Omega(n^2)$ unit area triangles.\n\\end{problem}\n\nThe only case of this problem that has been studied is the one where ${C}$ is the union of three distinct lines.\nSurprisingly, Raz and Sharir \\cite{RS15a} showed that on any three distinct lines there are non-trivial constructions that determine $\\Omega(n^2)$ unit area triangles.\nThey discovered this using the derivative criterion in Lemma \\ref{lem:derivative}.\n\nAnother choice of $G$ (which we won't try to write out) is the polynomial such that $G(x,y,s,t,u,v)=0$ if the points $(x,y),(s,t),(u,v)$ lie on a common unit circle, or in other words, the circle determined by the three points has radius equal to one.\nSince the radius of the circle determined by three points can be written as a rational function, multiplying out denominators gives a polynomial $G$ with the property above.\nRaz, Sharir, and Solymosi showed that for three distinct unit circles in ${\\mathbb R}^2$ with three finite point sets of size $n$, \nthe number of determined unit circles is $O(n^{11/6})$ (this statement is equivalent to Theorem \\ref{thm:ESRSS}).\nOne can generalize this problem as follows.\n\n\\begin{problem}\nGiven three algebraic curves ${C}_1, {C}_2, {C}_3\\subset {\\mathbb R}^2$ containing three sets of $n$ points,\nprove a bound better than $O(n^2)$ on the number of determined unit circles.\nAre there curves with $\\Omega(n^2)$ unit circles?\n\\end{problem}\n\n\nAnother problem of this form is to bound \\emph{collinear triples} on curves. \nMore is known on this problem, and we will discuss it in detail in the next subsection.\nNote that it can be seen as a degenerate case of the unit area triangle problem, where instead of unit area we ask for \\emph{zero} area.\n\n\\bigskip\n\n\nLet us see how the Elekes-Szab\\'o problem on curves is related to the Elekes-Szab\\'o problem in ${\\mathbb C}^3$.\nWe can think of the the three curves ${C}_1, {C}_2, {C}_3\\subset {\\mathbb C}^2$ as a Cartesian product ${C}_1\\times {C}_2\\times {C}_3\\subset {\\mathbb C}^6$.\nWe can choose a generic projection $\\varphi:{\\mathbb C}^2\\to{\\mathbb C}$, in such a way that the three-fold product $\\pi=(\\varphi\\times\\varphi\\times\\varphi):{\\mathbb C}^6\\to {\\mathbb C}^3$ maps a product $P_1\\times P_2\\times P_3\\subset {C}_1\\times {C}_2\\times {C}_3$ with $|P_1|=|P_2|=|P_3|=n$ to a product $\\varphi(P_1)\\times \\varphi(P_2)\\times \\varphi(P_3)\\subset {\\mathbb C}^3$ with $\\varphi(P_1) = \\varphi(P_2) = \\varphi(P_3) = n$.\n\nThe variety $X = Z(F)\\cap ({C}_1\\times {C}_2\\times {C}_3)$ is two-dimensional (unless $G$ happens to vanish on ${C}_1\\times {C}_2\\times {C}_3$, in which case the problem is trivial).\nAgain by choosing $\\varphi$ generically, we get that $\\pi(X)\\subset {\\mathbb C}^3$ is also a two-dimensional variety, and thus can be written as $X = Z(F)$.\nNow we have\n", "index": 83, "text": "\n\\[|Z(G)\\cap (P_1\\times P_2\\times P_3)| \\leq  |Z(F)\\cap (\\varphi(P_1)\\times \\varphi(P_2)\\times \\varphi(P_3))|,\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex29.m1\" class=\"ltx_Math\" alttext=\"|Z(G)\\cap(P_{1}\\times P_{2}\\times P_{3})|\\leq|Z(F)\\cap(\\varphi(P_{1})\\times%&#10;\\varphi(P_{2})\\times\\varphi(P_{3}))|,\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>G</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2229</mo><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>P</mi><mn>1</mn></msub><mo>\u00d7</mo><msub><mi>P</mi><mn>2</mn></msub><mo>\u00d7</mo><msub><mi>P</mi><mn>3</mn></msub></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>\u2264</mo><mrow><mo stretchy=\"false\">|</mo><mrow><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>F</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2229</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><mrow><mrow><mrow><mi>\u03c6</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>P</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u00d7</mo><mi>\u03c6</mi></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>P</mi><mn>2</mn></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u00d7</mo><mi>\u03c6</mi></mrow><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>P</mi><mn>3</mn></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\n\\end{theorem}\n\nTheorem \\ref{thm:ESRSZ} told us that in the case with $D=3$ and $\\dim(X) = 2$, this bound can be improved on, unless the defining polynomial of $X$ is special.\nAnalogously, one would expect that the bound in Theorem \\ref{thm:ScZi} can be improved on, unless the variety is of some special type.\nOnly the case with $D=4$ and $\\dim(X)=3$ has so far been studied, by Raz, Sharir, and De Zeeuw \\cite{RSZ16}, who proved the following.\n\n\n\\begin{theorem}[Raz-Sharir-De Zeeuw]\\label{thm:ES4D}\nLet $F\\in {\\mathbb C}[x,y,s,t]$ be an irreducible polynomial of degree $d$ with $F_xF_yF_sF_t\\not\\equiv 0$. \nThen one of the following holds.\\\\\n$(i)$ For all $A,B,C,D\\subset {\\mathbb C}$ of size $n$ we have\n\n", "itemtype": "equation", "pos": 70442, "prevtext": "\nso if the upper bound of Theorem \\ref{thm:ESRSZ}$(i)$ applies to $F$, then we also have that upper bound for $G$ on ${C}_1\\times {C}_2\\times {C}_3$.\nOtherwise, $F$ satisfies property $(ii)$ of Theorem \\ref{thm:ESRSZ}.\n\nUnfortunately, it is not clear how to transfer back property $(ii)$ for $F$ to the original setting.\nNote that $F$ encodes information about $G$, but also about the curves ${C}_1,{C}_2,{C}_3$.\nThus property $(ii)$ for $F$ should imply that either $G$ has an exceptional form, or the curves ${C}_1,{C}_2,{C}_3$ have an exceptional form.\nThis was made to work for the problem of collinear triples (see Subsection \\ref{subsec:collineartriples}), but it remains difficult to do this in general.\n\n\\bigskip\n\nThe projection from ${\\mathbb C}^6$ to ${\\mathbb C}^3$ above lets us connect Theorem \\ref{thm:ESRSZ} to the group law on elliptic curves (irreducible nonsingular algebraic curves of degree three).\nWe refer to \\cite{ST92} for an introduction to the group structure of an elliptic curve, but we summarize it here as follows: \nOn any elliptic curve $E$ there are an operation $\\oplus$ and an identity element $\\mathcal{O}$  that turn the point set $E$ into a group, with the special property that $P,Q,R\\in E$ are collinear if and only if $P\\oplus Q\\oplus R = \\mathcal{O}$.\n\n\n\nThis group structure on elliptic curves allows us to construct finite point sets with many collinear triples.\nIf we take a finite subgroup $H$ of size $n$ of an elliptic curve $E$ (which exists for any $n$), then $|Z(G)\\cap (H\\times H\\times H)| = \\Omega(n^2)$, where $G$ is the polynomial that represents collinearity.\nThis follows from the fact that for any two distinct elements $P,Q\\in H$, the line spanned by $P$ and $Q$ intersects $E$ in $R = \\ominus P\\ominus Q$, which must also be in the subgroup $H$.\nWe could have $R = P$ or $R = Q$, but there are only $O(n)$ pairs that satisfy $P\\oplus P\\oplus Q = \\mathcal{O}$, so we get $\\Omega(n^2)$ collinear triples of distinct points.\n\nApplying the generic projection $\\pi:{\\mathbb C}^6\\to {\\mathbb C}^3$, we get a polynomial $F\\in {\\mathbb C}[x,y,z]$ such that $|Z(F)\\cap (\\varphi(H)\\times \\varphi(H)\\times \\varphi(H))|=\\Omega(n^2)$, which implies that $G$ satisfies property $(ii)$ of Theorem \\ref{thm:ESRSZ}.\nIt follows that, locally, there are $\\varphi_i:{\\mathbb C}\\to {\\mathbb C}$ such that $P,Q,R\\in E$ are collinear if and only if $\\varphi_1(\\varphi(P)) + \\varphi_2(\\varphi(Q)) + \\varphi_3(\\varphi(R)) = 0$. \nThis is why it appears that the local analytic nature of property $(ii)$ is necessary; it would be a big surprise if such maps existed globally, or could be described by polynomial or rational functions.\n\n\n\\subsection{Collinear triples on curves}\n\\label{subsec:collineartriples}\n\nThe one instance of an Elekes-Szab\\'o problem on curves that has been studied in some detail (and is not an Elekes-R\\'onyai problem) is the problem where $F$ represents collinearity.\nThis question was first considered by Elekes and Szab\\'o \\cite{ES13}; they proved a weaker bound in ${\\mathbb R}^2$ using the main bound from \\cite{ES12}, which was then improved in \\cite{RSZ15} to the following statement.\n\n\\begin{theorem}[Elekes-Szab\\'o, Raz-Sharir-De Zeeuw]\\label{thm:ESRSZcoltrip}\nLet ${C}$ be an irreducible algebraic curve in ${\\mathbb C}^2$ of degree $d$ and let $P\\subset {C}$ be a finite set.\nThen $P$ determines $O_d(n^{11/6})$ proper collinear triples, unless ${C}$ is a line or a cubic curve.\n\\end{theorem}\n\nAs we saw at the end of Subsection \\ref{subsec:ESoncurves}, elliptic curves must be exceptions to this statement, because their group structure gives constructions with a quadratic number of collinear triples.\nIn fact, on any cubic curve (including the union of a conic and a line, or a union of three lines) there is a ``quasi-group law''; see Green and Tao \\cite[Proposition 7.3]{GT13}. \nThis law does not quite give the whole point set a group structure (and there may not be an identity element), but comes close enough to allow for a construction with $\\Omega(n^2)$ collinear lines.\nThese constructions are worked out in \\cite{ES13}.\n\n\nGreen and Tao \\cite{GT13} proved the Dirac-Motzkin conjecture for large point sets, which states that any non-collinear point set $P\\subset{\\mathbb R}^2$ of size $n$ determines at least $n/2$ \\emph{ordinary lines} (lines containing exactly two points of $P$).\nAs a by-product, they also solved Sylvester's ``orchard problem'' for large $n$, which asks for the maximum number of lines with at least three points (\\emph{triple lines}) from a set of $n$ points.\nIt is easy to see that this number is at most $\\frac{1}{3}\\binom{n}{2}$, and Sylvester noted (in 1868; see \\cite{GT13}) that there are constructions on elliptic curves with almost exactly this number of triple lines.\nGreen and Tao showed that any set with at least $\\frac{1}{6}n^2 - O(n)$ triple lines must have most of its points on a cubic curve.\nElekes made the bolder conjecture that any set with $\\Omega(n^2)$ collinear triples has many points on a cubic;\nto underline our ignorance he suggested just to show that ten of the points are on a cubic (which is one more than the trivial number).\nThe conjecture was stated in \\cite{ES13} but already present in disguise in \\cite{E02}.\n\n\n\n\\begin{conjecture}[Elekes]\nIf $P\\subset {\\mathbb R}^2$ determines $\\Omega(n^2)$ collinear triples, then at least 10 points of $P$ lie on a cubic.\n\\end{conjecture}\n\n\n\nAn interesting application of Theorem \\ref{thm:ESRSZcoltrip}, pointed out in \\cite{ES13}, is to the problem of \\emph{distinct directions} mentioned in Subsection \\ref{subsec:ERapps}.\nTheorem \\ref{thm:ESRSS} allows us to generalize Corollary \\ref{cor:directionsongraphs} to any algebraic curve.\nThe connection with triple lines is that if two pairs of points determine lines in the same direction, then these lines intersect the line at infinity at the same point.\nThus a point set on a curve ${C}$ that has few directions determines few such points at infinity, or conversely, adding these points at infinity gives a point set with many collinear triples.\nAn unbalanced form of Theorem \\ref{thm:ESRSZcoltrip} then gives the following lower bound on the number of directions.\nThere is an exception when ${C}$ together with the line at infinity is a cubic curve, which means that ${C}$ is a conic.\n\n\\begin{corollary}\nLet ${C}$ be an irreducible algebraic curve in ${\\mathbb C}^2$ of degree $d$ and let $P\\subset {C}$ be a finite set.\nThen $P$ determines $\\Omega_d(n^{4/3})$ distinct directions, \nunless ${C}$ is a conic.\n\\end{corollary}\n\n\n\n\n\\section{Other variants}\\label{sec:variants}\n\n\n\n\\subsection{Longer one-dimensional products}\n\\label{subsec:longer}\n\nOne way to extend Theorems \\ref{thm:ERRSS} and \\ref{thm:ESRSZ} is to consider ``longer'' Cartesian products, i.e., products with more factors. \nThe reference point for such bounds is the Schwartz-Zippel lemma,\nwhich we now state in full generality.\nThis version was proved by Lang and Weil \\cite[Lemma 1]{LW54}\\footnote{This brings into question if ``Schwartz-Zippel'' is the right name, but it has become standard in combinatorics.}; see also Tao \\cite{T12} for a proof sketch (both focus on finite fields, but their proofs work also over ${\\mathbb C}$).\nThe bound in fact holds over any field, and can be modified to allow factors $A_i$ of different sizes.\n\n\\begin{theorem}\\label{thm:ScZi}\nLet $X\\subset {\\mathbb C}^D$ be a variety.\nThen for finite sets $A_1,\\ldots, A_D\\subset {\\mathbb C}$ of size $n$ we have\n", "index": 85, "text": "\n\\[|X\\cap (A_1\\times \\cdots \\times A_D)| = O_{D,\\deg(X)}(n^{\\dim(X)}) .\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex30.m1\" class=\"ltx_Math\" alttext=\"|X\\cap(A_{1}\\times\\cdots\\times A_{D})|=O_{D,\\deg(X)}(n^{\\dim(X)}).\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi>X</mi><mo>\u2229</mo><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>A</mi><mn>1</mn></msub><mo>\u00d7</mo><mi mathvariant=\"normal\">\u22ef</mi><mo>\u00d7</mo><msub><mi>A</mi><mi>D</mi></msub></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi>O</mi><mrow><mi>D</mi><mo>,</mo><mrow><mi>deg</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mi>X</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mrow><mo>dim</mo><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><mi>X</mi><mo stretchy=\"false\">)</mo></mrow></mrow></msup><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\n$(ii)$ There exists a one-dimensional subvariety $Z_0\\subset Z(F)$, such that every $v\\in Z(F)\\backslash Z_0$ has an open neighborhood $D_1\\times D_2\\times D_3\\times D_4$ and analytic functions \n$\\varphi_i: D_i\\to {\\mathbb C}$,\nsuch that for every $(x,y,s,t)\\in D_1\\times D_2\\times D_3\\times D_4$ we have\n\n", "itemtype": "equation", "pos": 71223, "prevtext": "\n\\end{theorem}\n\nTheorem \\ref{thm:ESRSZ} told us that in the case with $D=3$ and $\\dim(X) = 2$, this bound can be improved on, unless the defining polynomial of $X$ is special.\nAnalogously, one would expect that the bound in Theorem \\ref{thm:ScZi} can be improved on, unless the variety is of some special type.\nOnly the case with $D=4$ and $\\dim(X)=3$ has so far been studied, by Raz, Sharir, and De Zeeuw \\cite{RSZ16}, who proved the following.\n\n\n\\begin{theorem}[Raz-Sharir-De Zeeuw]\\label{thm:ES4D}\nLet $F\\in {\\mathbb C}[x,y,s,t]$ be an irreducible polynomial of degree $d$ with $F_xF_yF_sF_t\\not\\equiv 0$. \nThen one of the following holds.\\\\\n$(i)$ For all $A,B,C,D\\subset {\\mathbb C}$ of size $n$ we have\n\n", "index": 87, "text": "$$|Z(F) \\cap (A\\times B\\times C\\times D)|=O_d(n^{8/3}).$$\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex31.m1\" class=\"ltx_Math\" alttext=\"|Z(F)\\cap(A\\times B\\times C\\times D)|=O_{d}(n^{8/3}).\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>F</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2229</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi><mo>\u00d7</mo><mi>C</mi><mo>\u00d7</mo><mi>D</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi>O</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mrow><mn>8</mn><mo>/</mo><mn>3</mn></mrow></msup><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\n\\end{theorem}\n\nThe proof of Theorem \\ref{thm:ES4D} mostly uses the same techniques as that of Theorem \\ref{thm:ESRSZ}, and the setup turns out to be simpler.\nThe reason is that (because four is an even number) we can define curves by \n\n", "itemtype": "equation", "pos": 71586, "prevtext": "\n$(ii)$ There exists a one-dimensional subvariety $Z_0\\subset Z(F)$, such that every $v\\in Z(F)\\backslash Z_0$ has an open neighborhood $D_1\\times D_2\\times D_3\\times D_4$ and analytic functions \n$\\varphi_i: D_i\\to {\\mathbb C}$,\nsuch that for every $(x,y,s,t)\\in D_1\\times D_2\\times D_3\\times D_4$ we have\n\n", "index": 89, "text": "$$(x,y,s,t)\\in Z(F)~~~\\text{if and only if}~~~\\varphi_1(x)+\\varphi_2(y)+\\varphi_3(s)+\\varphi_4(t) = 0.$$\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex32.m1\" class=\"ltx_Math\" alttext=\"(x,y,s,t)\\in Z(F)~{}~{}~{}\\text{if and only if}~{}~{}~{}\\varphi_{1}(x)+\\varphi%&#10;_{2}(y)+\\varphi_{3}(s)+\\varphi_{4}(t)=0.\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>,</mo><mi>s</mi><mo>,</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><mo>\u2208</mo><mrow><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>F</mi><mo rspace=\"12.4pt\" stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mpadded width=\"+9.9pt\"><mtext>if and only if</mtext></mpadded><mo>\u2062</mo><msub><mi>\u03c6</mi><mn>1</mn></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><mrow><msub><mi>\u03c6</mi><mn>2</mn></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><mrow><msub><mi>\u03c6</mi><mn>3</mn></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>s</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><mrow><msub><mi>\u03c6</mi><mn>4</mn></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>=</mo><mn>0</mn></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nwhich avoids quantifier elimination and thus many technical complications.\nThe theorem is in fact closely related to the incidence bound in Theorem \\ref{thm:SZ}: In most applications of that bound, the curves are defined as in \\eqref{eq:curvesfrom4var}, for some given polynomial $F$ \n(for instance, the proof of Theorem \\ref{thm:ERRSS} in Subsection \\ref{subsec:ERproof} uses $F=f(s,x) - f(t,y)$).\nTheorem \\ref{thm:ES4D} thus gives the same bound as Theorem \\ref{thm:SZ}, but it replaces the combinatorial condition (two points being contained in a bounded number of curves) by an algebraic condition (that $F$ is not of the form in $(ii)$).\nMuch like condition $(ii)$ in Theorem \\ref{thm:ESRSZ}, condition $(ii)$ in Theorem \\ref{thm:ES4D} can often be checked using derivatives.\n\nA consequence of Theorem \\ref{thm:ES4D} is an expansion bound for three-variable polynomials $f\\in {\\mathbb C}[x,y,z]$ on sets $A,B,C\\subset {\\mathbb C}$ with $|A|=|B|=|C|=n$, namely\n", "itemtype": "equation", "pos": 71926, "prevtext": "\n\\end{theorem}\n\nThe proof of Theorem \\ref{thm:ES4D} mostly uses the same techniques as that of Theorem \\ref{thm:ESRSZ}, and the setup turns out to be simpler.\nThe reason is that (because four is an even number) we can define curves by \n\n", "index": 91, "text": "\\begin{align}\\label{eq:curvesfrom4var}\n C_{cd} = \\{(x,y): F(x,y,c,d)=0\\},\n \\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E16.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle C_{cd}=\\{(x,y):F(x,y,c,d)=0\\},\" display=\"inline\"><mrow><mrow><msub><mi>C</mi><mrow><mi>c</mi><mo>\u2062</mo><mi>d</mi></mrow></msub><mo>=</mo><mrow><mo stretchy=\"false\">{</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow><mo>:</mo><mrow><mrow><mi>F</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>,</mo><mi>c</mi><mo>,</mo><mi>d</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mn>0</mn></mrow><mo stretchy=\"false\">}</mo></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nunless $f$ is in a local sense of the form $\\psi(\\varphi_1(x)+\\varphi_2(y)+\\varphi_3(s))$ with analytic $\\psi, \\varphi_1,\\varphi_2,\\varphi_3$.\nA weaker bound for this question was proved in \\cite{SSZ13}, with the more precise condition that $f$ is not of the form $g(h(x)+k(y)+l(z))$ or $g(h(x)\\cdot k(y)\\cdot l(z))$ with $g,h,k,l$ polynomials.\nIt should be possible to use techniques similar to those in \\cite{RSS15a} to prove the stronger bound with the precise condition.\n\n\nWe make the following conjecture for the general case.\n\n\\begin{conjecture}\nThere is a constant $c>0$ such that one of the following holds for any irreducible $F\\in {\\mathbb C}[x_1,\\ldots,x_D]$ of degree $d$ with $F_{x_1}\\cdots F_{x_D}\\not\\equiv 0$. \\\\\n$(i)$ For all $A_1,\\ldots,A_D\\subset {\\mathbb C}$ of size $n$ we have\n\n", "itemtype": "equation", "pos": 72977, "prevtext": "\nwhich avoids quantifier elimination and thus many technical complications.\nThe theorem is in fact closely related to the incidence bound in Theorem \\ref{thm:SZ}: In most applications of that bound, the curves are defined as in \\eqref{eq:curvesfrom4var}, for some given polynomial $F$ \n(for instance, the proof of Theorem \\ref{thm:ERRSS} in Subsection \\ref{subsec:ERproof} uses $F=f(s,x) - f(t,y)$).\nTheorem \\ref{thm:ES4D} thus gives the same bound as Theorem \\ref{thm:SZ}, but it replaces the combinatorial condition (two points being contained in a bounded number of curves) by an algebraic condition (that $F$ is not of the form in $(ii)$).\nMuch like condition $(ii)$ in Theorem \\ref{thm:ESRSZ}, condition $(ii)$ in Theorem \\ref{thm:ES4D} can often be checked using derivatives.\n\nA consequence of Theorem \\ref{thm:ES4D} is an expansion bound for three-variable polynomials $f\\in {\\mathbb C}[x,y,z]$ on sets $A,B,C\\subset {\\mathbb C}$ with $|A|=|B|=|C|=n$, namely\n", "index": 93, "text": "\n\\[ |f(A\\times B\\times C)| = \\Omega(n^{3/2}),\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex33.m1\" class=\"ltx_Math\" alttext=\"|f(A\\times B\\times C)|=\\Omega(n^{3/2}),\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>B</mi><mo>\u00d7</mo><mi>C</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><mi mathvariant=\"normal\">\u03a9</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mrow><mn>3</mn><mo>/</mo><mn>2</mn></mrow></msup><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\n$(ii)$ In a local sense we have\n\n", "itemtype": "equation", "pos": 73824, "prevtext": "\nunless $f$ is in a local sense of the form $\\psi(\\varphi_1(x)+\\varphi_2(y)+\\varphi_3(s))$ with analytic $\\psi, \\varphi_1,\\varphi_2,\\varphi_3$.\nA weaker bound for this question was proved in \\cite{SSZ13}, with the more precise condition that $f$ is not of the form $g(h(x)+k(y)+l(z))$ or $g(h(x)\\cdot k(y)\\cdot l(z))$ with $g,h,k,l$ polynomials.\nIt should be possible to use techniques similar to those in \\cite{RSS15a} to prove the stronger bound with the precise condition.\n\n\nWe make the following conjecture for the general case.\n\n\\begin{conjecture}\nThere is a constant $c>0$ such that one of the following holds for any irreducible $F\\in {\\mathbb C}[x_1,\\ldots,x_D]$ of degree $d$ with $F_{x_1}\\cdots F_{x_D}\\not\\equiv 0$. \\\\\n$(i)$ For all $A_1,\\ldots,A_D\\subset {\\mathbb C}$ of size $n$ we have\n\n", "index": 95, "text": "$$|Z(F) \\cap (A_1\\times\\cdots\\times A_D)|=O_d(n^{D-1-c}).$$\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex34.m1\" class=\"ltx_Math\" alttext=\"|Z(F)\\cap(A_{1}\\times\\cdots\\times A_{D})|=O_{d}(n^{D-1-c}).\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>F</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2229</mo><mrow><mo stretchy=\"false\">(</mo><mrow><msub><mi>A</mi><mn>1</mn></msub><mo>\u00d7</mo><mi mathvariant=\"normal\">\u22ef</mi><mo>\u00d7</mo><msub><mi>A</mi><mi>D</mi></msub></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi>O</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mrow><mi>D</mi><mo>-</mo><mn>1</mn><mo>-</mo><mi>c</mi></mrow></msup><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\n\\end{conjecture}\n\nA largely unexplored question is how the bound of Theorem \\ref{thm:SZ} can be improved for a variety $X\\subset {\\mathbb C}^D$ with $\\dim(X)<D-1$.\nWhen $\\dim(X) = 1$, the bound $O(n)$ is tight: We can place $n$ points on $X$ and project in the coordinate directions to get $A_i$ such that $|X\\cap (A_1\\times\\cdots \\times A_D)| = n$.\nThus the first open case is $D=4$, $\\dim(X) = 2$.\n\n\\begin{problem}\nDetermine for which two-dimensional varieties $X\\subset {\\mathbb C}^4$ the Schwartz-Zippel-type bound $|X\\cap (A_1\\times A_2\\times A_3 \\times A_4)| = O_{\\deg(X)}(n^2)$ is tight.\n\\end{problem}\n\n\n\\subsection{Two-dimensional products}\n\nA different way of extending Theorems \\ref{thm:ERRSS} and \\ref{thm:ESRSZ} would be to consider Cartesian products of ``two-dimensional'' sets instead of ``one-dimensional'' sets, i.e., finite subsets of ${\\mathbb C}^2$ instead of finite subsets of ${\\mathbb C}$.\nFor instance, the two-dimensional analogue of the Elekes-R\\'onyai problem would be: Given a map $\\mathcal{F}:{\\mathbb C}^2\\times {\\mathbb C}^2\\to {\\mathbb C}^2$, defined by $\\mathcal{F}(x,y,s,t) = (F_1(x,y,s,t),F_2(x,y,s,t))$  for polynomials $F_1,F_2\\in{\\mathbb C}[x,y,s,t]$, \nand given finite sets $P,Q\\subset {\\mathbb C}^2$, can we obtain a non-trivial lower bound on $|\\mathcal{F}(P\\times Q)|$?\n\nThe study of such questions was initiated by Nassajian Mojarrad et al. \\cite{NPVZ15}.\nEven analogues of the Schwartz-Zippel lemma become more complicated: The easiest case would be a bound of the form $|X\\cap (P\\times Q)|$ for a variety $X\\subset {\\mathbb C}^4$ and finite sets $P,Q\\subset {\\mathbb C}^2$, but there are varieties for which no non-trivial bound holds.\nLet us say that a polynomial $F\\in {\\mathbb C}[x,y,s,t]$ is \\emph{Cartesian} if it can be written as\n\n", "itemtype": "equation", "pos": 73916, "prevtext": "\n$(ii)$ In a local sense we have\n\n", "index": 97, "text": "$$(x_1,\\ldots,x_D)\\in Z(F)~~~\\text{if and only if}~~~\\sum_{i=1}^D\\varphi_i(x_i) = 0.$$\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex35.m1\" class=\"ltx_Math\" alttext=\"(x_{1},\\ldots,x_{D})\\in Z(F)~{}~{}~{}\\text{if and only if}~{}~{}~{}\\sum_{i=1}^%&#10;{D}\\varphi_{i}(x_{i})=0.\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>,</mo><mi mathvariant=\"normal\">\u2026</mi><mo>,</mo><msub><mi>x</mi><mi>D</mi></msub><mo stretchy=\"false\">)</mo></mrow><mo>\u2208</mo><mrow><mi>Z</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>F</mi><mo rspace=\"12.4pt\" stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mpadded width=\"+9.9pt\"><mtext>if and only if</mtext></mpadded><mo>\u2062</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>D</mi></munderover><mrow><msub><mi>\u03c6</mi><mi>i</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mrow><mo>=</mo><mn>0</mn></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nwith $G\\in {\\mathbb C}[x,y]\\backslash{\\mathbb C}$, $K\\in {\\mathbb C}[s,t]\\backslash{\\mathbb C}$, and $H,L\\in {\\mathbb C}[x,y,s,t] $.\nWe say that a variety $X\\subset {\\mathbb C}^4$ is \\emph{Cartesian} if every polynomial vanishing on $X$ is Cartesian with the same $G,K$.\nFor a Cartesian variety $X$, we can have $|X\\cap (P\\times Q)| = |P||Q|$, since we can take $P\\subset Z(G)$ and $Q\\subset Z(K)$ to get $P\\times Q\\subset X$.\n\nIt is proved in \\cite{NPVZ15} that if $X$ is not Cartesian, then one can obtain non-trivial upper bounds on $|X\\cap (P\\times Q)|$.\nAs a consequence, we obtain the following lower bound on the number of distinct values of a polynomial map $\\mathcal{F}=(F_1,F_2):{\\mathbb C}^2\\times{\\mathbb C}^2\\to {\\mathbb C}^2$.\n\n\\begin{theorem}[Nassajian Mojarrad et al.]\\label{thm:NPVZ}\nLet $F_1,F_2\\in {\\mathbb C}[x,y,s,t]$ be polynomials of degree $d$ and $\\mathcal{F}=(F_1,F_2)$.\nThen for $P,Q\\subset {\\mathbb C}^2$ with $|P| = |Q|=n$ we have \n", "itemtype": "equation", "pos": 75785, "prevtext": "\n\\end{conjecture}\n\nA largely unexplored question is how the bound of Theorem \\ref{thm:SZ} can be improved for a variety $X\\subset {\\mathbb C}^D$ with $\\dim(X)<D-1$.\nWhen $\\dim(X) = 1$, the bound $O(n)$ is tight: We can place $n$ points on $X$ and project in the coordinate directions to get $A_i$ such that $|X\\cap (A_1\\times\\cdots \\times A_D)| = n$.\nThus the first open case is $D=4$, $\\dim(X) = 2$.\n\n\\begin{problem}\nDetermine for which two-dimensional varieties $X\\subset {\\mathbb C}^4$ the Schwartz-Zippel-type bound $|X\\cap (A_1\\times A_2\\times A_3 \\times A_4)| = O_{\\deg(X)}(n^2)$ is tight.\n\\end{problem}\n\n\n\\subsection{Two-dimensional products}\n\nA different way of extending Theorems \\ref{thm:ERRSS} and \\ref{thm:ESRSZ} would be to consider Cartesian products of ``two-dimensional'' sets instead of ``one-dimensional'' sets, i.e., finite subsets of ${\\mathbb C}^2$ instead of finite subsets of ${\\mathbb C}$.\nFor instance, the two-dimensional analogue of the Elekes-R\\'onyai problem would be: Given a map $\\mathcal{F}:{\\mathbb C}^2\\times {\\mathbb C}^2\\to {\\mathbb C}^2$, defined by $\\mathcal{F}(x,y,s,t) = (F_1(x,y,s,t),F_2(x,y,s,t))$  for polynomials $F_1,F_2\\in{\\mathbb C}[x,y,s,t]$, \nand given finite sets $P,Q\\subset {\\mathbb C}^2$, can we obtain a non-trivial lower bound on $|\\mathcal{F}(P\\times Q)|$?\n\nThe study of such questions was initiated by Nassajian Mojarrad et al. \\cite{NPVZ15}.\nEven analogues of the Schwartz-Zippel lemma become more complicated: The easiest case would be a bound of the form $|X\\cap (P\\times Q)|$ for a variety $X\\subset {\\mathbb C}^4$ and finite sets $P,Q\\subset {\\mathbb C}^2$, but there are varieties for which no non-trivial bound holds.\nLet us say that a polynomial $F\\in {\\mathbb C}[x,y,s,t]$ is \\emph{Cartesian} if it can be written as\n\n", "index": 99, "text": "\\begin{align}\\label{eq:cartesian}\nF(x,y,s,t) = G(x,y)H(x,y,s,t)+ K(s,t)L(x,y,s,t),\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E17.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle F(x,y,s,t)=G(x,y)H(x,y,s,t)+K(s,t)L(x,y,s,t),\" display=\"inline\"><mrow><mrow><mrow><mi>F</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>,</mo><mi>s</mi><mo>,</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><mi>G</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mi>H</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>,</mo><mi>s</mi><mo>,</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>+</mo><mrow><mi>K</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>s</mi><mo>,</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mi>L</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>,</mo><mi>s</mi><mo>,</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nunless $F_1 = \\varphi_1\\circ \\psi$ and $F_2 = \\varphi_2\\circ\\psi$ for a nonlinear polynomial $\\psi$, or $F_1$ and $F_2$ are both Cartesian with the same $G,K$.\n\\end{theorem}\n\nThis theorem provides a starting point for the study of Elekes-R\\'onyai problems for two-dimensional polynomial maps.\nTo compare with the one-dimensional case, for any $f\\in {\\mathbb C}[x,y]\\backslash {\\mathbb C}$ and $A,B\\subset {\\mathbb C}$ of size $n$, we can deduce $|f(A\\times B)|=\\Omega(n)$ from the Schwartz-Zippel lemma (Theorem \\ref{thm:ScZi}),\nand Theorem \\ref{thm:ERRSS} improves on that bound for polynomials that are not additive or multiplicative.\nThe question is thus for which polynomial maps (other than those already excluded in Theorem \\ref{thm:NPVZ}) the bound $\\Omega(n)$ can be improved on.\n\n\nThe bound of Theorem \\ref{thm:NPVZ} is tight for certain polynomial maps.\nFor instance, if we take the vector addition map $\\mathcal{F} = (x+s,y+t)$ and we take $P$ to be any arithmetic progression on a line, \nthen we have $|\\mathcal{F}(P\\times P)| = O(n)$; note that $x+s$ and $y+t$ are both Cartesian, but not with the same $G, K$.\nWe can do something similar for any map of the form $\\mathcal{F} = (f_1(x,s), f_2(y,t))$, where $f_1,f_2$ are additive or multiplicative in the sense of Theorem \\ref{thm:ERRSS}.\nJust like for the Elekes-R\\'onyai problem, composing these maps with other polynomials gives more exceptions: If we write $(x,y)\\oplus (s,t) = (x+s,y+t)$, and we set $\\mathcal{F} = \\psi(\\varphi_1(x,y)\\oplus\\varphi_2(s,t))$ with reasonable maps $\\psi,\\varphi_1,\\varphi_2:{\\mathbb C}^2\\to {\\mathbb C}^2$, then again the image of $\\mathcal{F}$ can have linear size.\n\n\\begin{problem}\\label{prob:polymap}\nDetermine for which polynomial (or even rational) maps $\\mathcal{F}:{\\mathbb C}^2\\times {\\mathbb C}^2\\to {\\mathbb C}^2$\n\nthere exists an $\\alpha>0$ such that\n", "itemtype": "equation", "pos": 76840, "prevtext": "\nwith $G\\in {\\mathbb C}[x,y]\\backslash{\\mathbb C}$, $K\\in {\\mathbb C}[s,t]\\backslash{\\mathbb C}$, and $H,L\\in {\\mathbb C}[x,y,s,t] $.\nWe say that a variety $X\\subset {\\mathbb C}^4$ is \\emph{Cartesian} if every polynomial vanishing on $X$ is Cartesian with the same $G,K$.\nFor a Cartesian variety $X$, we can have $|X\\cap (P\\times Q)| = |P||Q|$, since we can take $P\\subset Z(G)$ and $Q\\subset Z(K)$ to get $P\\times Q\\subset X$.\n\nIt is proved in \\cite{NPVZ15} that if $X$ is not Cartesian, then one can obtain non-trivial upper bounds on $|X\\cap (P\\times Q)|$.\nAs a consequence, we obtain the following lower bound on the number of distinct values of a polynomial map $\\mathcal{F}=(F_1,F_2):{\\mathbb C}^2\\times{\\mathbb C}^2\\to {\\mathbb C}^2$.\n\n\\begin{theorem}[Nassajian Mojarrad et al.]\\label{thm:NPVZ}\nLet $F_1,F_2\\in {\\mathbb C}[x,y,s,t]$ be polynomials of degree $d$ and $\\mathcal{F}=(F_1,F_2)$.\nThen for $P,Q\\subset {\\mathbb C}^2$ with $|P| = |Q|=n$ we have \n", "index": 101, "text": "\n\\[|\\mathcal{F}(P\\times Q)| = \\Omega_d(n),\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex36.m1\" class=\"ltx_Math\" alttext=\"|\\mathcal{F}(P\\times Q)|=\\Omega_{d}(n),\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi class=\"ltx_font_mathcaligraphic\">\u2131</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>P</mi><mo>\u00d7</mo><mi>Q</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant=\"normal\">\u03a9</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nfor all $P,Q\\subset {\\mathbb C}^2$ of size $n$, perhaps with further restrictions on $P$ and $Q$.\n\\end{problem}\n\nSuperlinear bounds like in Problem \\ref{prob:polymap} are known for only a few functions (which happen to be rational maps), and only over ${\\mathbb R}$.\nBeck's ``two extremities'' theorem \\cite[Theorem 3.1]{B83} can be phrased in terms of the rational map $L:{\\mathbb R}^2\\times{\\mathbb R}^2\\to {\\mathbb R}^2$ that maps a pair of points to the line spanned by the pair (for instance represented by the point in ${\\mathbb R}^2$ whose coordinates are the slope and intercept of the line).\nBeck's theorem says that $|L(P\\times P)| = \\Omega_c(|P|^2)$, unless $P$ has at least $c|P|$ points on a line.\nRaz and Sharir \\cite{RS15a} work with the map that sends a pair of points to the line that consists of all the points that span a unit area triangle (of a fixed orientation) with the pair.\nThey prove a superlinear bound on the number of distinct values of this map, for point sets with not too many points on a line (this statement is not made explicit in the paper, but is implicit in the proof).\nFinally, Lund, Sheffer, and De Zeeuw \\cite{LSZ14} study the rational map $\\mathcal{B}:{\\mathbb R}^2\\times{\\mathbb R}^2\\to {\\mathbb R}^2$ that sends a pair of points to the line that is their perpendicular bisector.\nThey prove that $|\\mathcal{B}(P\\times P)| = \\Omega_{M,{\\varepsilon}}(|P|^{8/5-{\\varepsilon}})$ if $P\\subset {\\mathbb R}^2$ has at most $M$ points on a line or circle.\n\nElekes and Szab\\'o \\cite{ES12} proved a more general theorem in this vein (their ``Main Theorem'' \\cite[Theorem 27]{ES12}).\nIt is difficult even to state this theorem precisely, so we give only a rough description.\n\nLet $Y$ be a $D$-dimensional irreducible variety over ${\\mathbb C}$ of degree at most $d$, and let $X\\subset Y\\times Y\\times Y$ be an irreducible $2D$-dimensional subvariety of degree at most $d$ with surjective and generically finite projections onto any two of the three factors.\nLet $A\\subset Y$ be a finite set, which is in very general position in the following sense:\nFor any proper subvariety $Z\\subset Y$ of degree at most $M$ we have $|A\\cap Z|\\leq N$.\nThen \n", "itemtype": "equation", "pos": 78744, "prevtext": "\nunless $F_1 = \\varphi_1\\circ \\psi$ and $F_2 = \\varphi_2\\circ\\psi$ for a nonlinear polynomial $\\psi$, or $F_1$ and $F_2$ are both Cartesian with the same $G,K$.\n\\end{theorem}\n\nThis theorem provides a starting point for the study of Elekes-R\\'onyai problems for two-dimensional polynomial maps.\nTo compare with the one-dimensional case, for any $f\\in {\\mathbb C}[x,y]\\backslash {\\mathbb C}$ and $A,B\\subset {\\mathbb C}$ of size $n$, we can deduce $|f(A\\times B)|=\\Omega(n)$ from the Schwartz-Zippel lemma (Theorem \\ref{thm:ScZi}),\nand Theorem \\ref{thm:ERRSS} improves on that bound for polynomials that are not additive or multiplicative.\nThe question is thus for which polynomial maps (other than those already excluded in Theorem \\ref{thm:NPVZ}) the bound $\\Omega(n)$ can be improved on.\n\n\nThe bound of Theorem \\ref{thm:NPVZ} is tight for certain polynomial maps.\nFor instance, if we take the vector addition map $\\mathcal{F} = (x+s,y+t)$ and we take $P$ to be any arithmetic progression on a line, \nthen we have $|\\mathcal{F}(P\\times P)| = O(n)$; note that $x+s$ and $y+t$ are both Cartesian, but not with the same $G, K$.\nWe can do something similar for any map of the form $\\mathcal{F} = (f_1(x,s), f_2(y,t))$, where $f_1,f_2$ are additive or multiplicative in the sense of Theorem \\ref{thm:ERRSS}.\nJust like for the Elekes-R\\'onyai problem, composing these maps with other polynomials gives more exceptions: If we write $(x,y)\\oplus (s,t) = (x+s,y+t)$, and we set $\\mathcal{F} = \\psi(\\varphi_1(x,y)\\oplus\\varphi_2(s,t))$ with reasonable maps $\\psi,\\varphi_1,\\varphi_2:{\\mathbb C}^2\\to {\\mathbb C}^2$, then again the image of $\\mathcal{F}$ can have linear size.\n\n\\begin{problem}\\label{prob:polymap}\nDetermine for which polynomial (or even rational) maps $\\mathcal{F}:{\\mathbb C}^2\\times {\\mathbb C}^2\\to {\\mathbb C}^2$\n\nthere exists an $\\alpha>0$ such that\n", "index": 103, "text": "\n\\[|\\mathcal{F}(P\\times Q)| = \\Omega_d(n^{1+\\alpha})\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex37.m1\" class=\"ltx_Math\" alttext=\"|\\mathcal{F}(P\\times Q)|=\\Omega_{d}(n^{1+\\alpha})\" display=\"block\"><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi class=\"ltx_font_mathcaligraphic\">\u2131</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>P</mi><mo>\u00d7</mo><mi>Q</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant=\"normal\">\u03a9</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mrow><mn>1</mn><mo>+</mo><mi>\u03b1</mi></mrow></msup><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nwith $\\eta>0$ depending on $d,D,M,N$,\nunless $X$ is in some specific way related to an algebraic group.\n\nThe results of \\cite{B83, RS15a, LSZ14} mentioned above fit into this framework: Given a reasonable map $\\mathcal{F}:{\\mathbb C}^2\\times {\\mathbb C}^2\\to{\\mathbb C}^2$, its graph $X \\subset {\\mathbb C}^2\\times{\\mathbb C}^2\\times{\\mathbb C}^2$ is a variety that satisfies the conditions of the Main Theorem of Elekes and Szab\\'o.\nNote that \\cite{B83, RS15a, LSZ14} not only provide explicit values of $\\eta$ in certain special cases, but they also make the ``very general position'' condition more precise in those cases. \nIndeed, they replace the condition that $P$ avoids any algebraic curve (a proper subvariety of ${\\mathbb C}^2$) of bounded degree, \nwith the condition that $P$ avoids only lines in the case of \\cite{B83, RS15a}, or lines and circles in \\cite{LSZ14}.\n\n\n\n\n\n\\subsection{Expanding polynomials over other fields}\n\nLet us finish by briefly discussing Elekes-R\\'onyai-type questions over a finite field $\\mathbb{F}_q$ or the field $\\mathbb{Q}$ of rational numbers.\nWe focus on statements of the form ``$|f(A\\times A)|=\\Omega(|A|^{1+c})$ for a polynomial $f$ that is not of a special form'';\nthere has been much work on conditional expansion bounds (especially over finite fields), of the form ``if $|A+A|$ is small, then $|f(A\\times A)|$ is large'', but we will not discuss these here.\n\nOver finite fields, the question is considerably harder, because there is not yet any finite field equivalent of an incidence bound for algebraic curves like Theorem \\ref{thm:SZ}.\nFor simplicity, let us restrict to a prime field $\\mathbb{F}_p$, and let us ignore small $p$.\nThere is a dichotomy between \\emph{small} subsets $A\\subset\\mathbb{F}_p$, \nwhere very few incidence bounds are known,\nand \\emph{large} subsets $\\mathbb{F}_p$, for which various techniques can be used to obtain incidence bounds.\n\nFor instance, Bourgain \\cite{B05} used the incidence bound of Bourgain, Katz, and Tao \\cite{BGK04} for small subsets of $\\mathbb{F}_p$ to prove the following expansion bound.\nFor $f(x,y) = x^2+xy$ and $A\\subset {\\mathbb F}_p$ with $|A|<p^{c'}$, we have $|f(A\\times A)| >|A|^{1+c}$, with $c>0$ depending on $c'<1$.\nThis bound has been improved slightly, and generalized to some other polynomials, but the range of polynomials for which such bounds are known remains limited; see Aksoy Yazici et al. \\cite{AMRS15} for some recent developments.\n\nFor large subsets of finite fields (think of $|A|>p^{7/8}$), \nmore comprehensive bounds have been proved.\nBukh and Tsimerman \\cite{BT12} proved that $|f(A\\times A)| = \\Omega_d(|A|^{1+c})$ for $|A|>p^{7/8+c'}$, with $c>0$ depending on $c'$, \nif $f\\in \\mathbb{F}_p[x,y]$ is monic in each variable, non-composite, and not of the form $g(x)+h(y)$ or $g(x)h(y)$.\nThe exceptional form here is almost the same as in the Theorem \\ref{thm:ERRSS}.\nTao \\cite{T15} then proved that $|f(A\\times A)| = \\Omega_d(p)$ for $|A|>p^{15/16}$, \nunless $f\\in \\mathbb{F}_p[x,y]$ is additive or multiplicative, matching the condition in Theorem \\ref{thm:ERRSS}.\nThe proofs in \\cite{BT12,T15} both used fiber products and Cauchy-Schwarz (somewhat like in Subsection \\ref{subsec:ESproof}),\nand both relied on the bound of Lang and Weil \\cite[Theorem 1]{LW54} for points on varieties over finite fields.\nSome of the ideas in \\cite{T15} played a role in the proof of Theorem \\ref{thm:ESRSZ} in \\cite{RSZ15}.\nIn \\cite[Section 9]{BT12}, an Elekes-Szab\\'o-type statement over finite fields is conjectured.\n\n\\bigskip\n\nOne can also ask the Elekes-R\\'onyai question over ${\\mathbb Q}$.\nOf course, Theorem \\ref{thm:ERRSS} gives a bound there, but it is not clear that every exceptional polynomial from Theorem \\ref{thm:ERRSS} is also exceptional over ${\\mathbb Q}$.\nFor instance, although $f(x,y)=x^2+y^2$ is additive, the construction from Subsection \\ref{subsec:exppoly} would require us to choose $A$ so that $A^2$ is an arithmetic progression, which is not possible in ${\\mathbb Q}$.\nSolymosi made the following conjecture.\n\n\\begin{conjecture}\nLet $f\\in {\\mathbb Q}[x,y]$ be a polynomial of degree $d$.\nFor $A\\subset {\\mathbb Q}$ we have\n", "itemtype": "equation", "pos": 80974, "prevtext": "\nfor all $P,Q\\subset {\\mathbb C}^2$ of size $n$, perhaps with further restrictions on $P$ and $Q$.\n\\end{problem}\n\nSuperlinear bounds like in Problem \\ref{prob:polymap} are known for only a few functions (which happen to be rational maps), and only over ${\\mathbb R}$.\nBeck's ``two extremities'' theorem \\cite[Theorem 3.1]{B83} can be phrased in terms of the rational map $L:{\\mathbb R}^2\\times{\\mathbb R}^2\\to {\\mathbb R}^2$ that maps a pair of points to the line spanned by the pair (for instance represented by the point in ${\\mathbb R}^2$ whose coordinates are the slope and intercept of the line).\nBeck's theorem says that $|L(P\\times P)| = \\Omega_c(|P|^2)$, unless $P$ has at least $c|P|$ points on a line.\nRaz and Sharir \\cite{RS15a} work with the map that sends a pair of points to the line that consists of all the points that span a unit area triangle (of a fixed orientation) with the pair.\nThey prove a superlinear bound on the number of distinct values of this map, for point sets with not too many points on a line (this statement is not made explicit in the paper, but is implicit in the proof).\nFinally, Lund, Sheffer, and De Zeeuw \\cite{LSZ14} study the rational map $\\mathcal{B}:{\\mathbb R}^2\\times{\\mathbb R}^2\\to {\\mathbb R}^2$ that sends a pair of points to the line that is their perpendicular bisector.\nThey prove that $|\\mathcal{B}(P\\times P)| = \\Omega_{M,{\\varepsilon}}(|P|^{8/5-{\\varepsilon}})$ if $P\\subset {\\mathbb R}^2$ has at most $M$ points on a line or circle.\n\nElekes and Szab\\'o \\cite{ES12} proved a more general theorem in this vein (their ``Main Theorem'' \\cite[Theorem 27]{ES12}).\nIt is difficult even to state this theorem precisely, so we give only a rough description.\n\nLet $Y$ be a $D$-dimensional irreducible variety over ${\\mathbb C}$ of degree at most $d$, and let $X\\subset Y\\times Y\\times Y$ be an irreducible $2D$-dimensional subvariety of degree at most $d$ with surjective and generically finite projections onto any two of the three factors.\nLet $A\\subset Y$ be a finite set, which is in very general position in the following sense:\nFor any proper subvariety $Z\\subset Y$ of degree at most $M$ we have $|A\\cap Z|\\leq N$.\nThen \n", "index": 105, "text": "\n\\[|X\\cap (A\\times A\\times A)| = O_{d,D,M,N}(|A|^{2-\\eta})\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex38.m1\" class=\"ltx_Math\" alttext=\"|X\\cap(A\\times A\\times A)|=O_{d,D,M,N}(|A|^{2-\\eta})\" display=\"block\"><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi>X</mi><mo>\u2229</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>A</mi><mo>\u00d7</mo><mi>A</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi>O</mi><mrow><mi>d</mi><mo>,</mo><mi>D</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>N</mi></mrow></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>A</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>2</mn><mo>-</mo><mi>\u03b7</mi></mrow></msup><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></math>", "type": "latex"}, {"file": "1601.06404.tex", "nexttext": "\nunless $f(x,y) = g(ax+by)$ or $f(x,y) = g((x+a)^\\alpha(y+b)^\\beta)$ for $a,b\\in {\\mathbb Q}$ and positive integers $\\alpha, \\beta$.\n\\end{conjecture}\n\n\n\n \n \n \n\n\n\\begin{thebibliography}{9}\n\n\\bibitem{AMRS15}\nE. Aksoy Yazici, B. Murphy, M. Rudnev, and I. Shkredov,\n\\emph{Growth estimates in positive characteristic via collisions},\n{\\href{http://arxiv.org/abs/{1512.06613}}{\\tt arXiv:{1512.06613}}}, 2015.\n\n\\bibitem{B83}\nJ. Beck,\n\\emph{On the lattice property of the plane and some problems of Dirac, Motzkin, and Erd\\H os in combinatorial geometry},\nCombinatorica {\\bf 3}, 281--297, 1983.\n\n\\bibitem{B05}\nJ. Bourgain,\n\\emph{More on the sum-product phenomenon in prime fields and its applications},\nInternational Journal of Number Theory {\\bf 1}, 1--32, 2005.\n\n\\bibitem{BGK04}\nJ. Bourgain, N. Katz, and T. Tao,\n\\emph{A sum-product estimate in finite fields, and applications},\nGeometric And Functional Analysis {\\bf 14}, 27--57, 2004.\n\n\\bibitem{BMP05}\nP. Brass, W. Moser, and J. Pach, \n\\emph{Research Problems in Discrete Geometry}, \nSpringer, 2005.\n\n\\bibitem{BSS16}\nA. Bronner, A. Sheffer, and M. Sharir,\n\\emph{Distinct distances on a line and a curve},\nmanuscript, 2016.\n\n\\bibitem{BT12}\nB. Bukh and J. Tsimerman,\n\\emph{Sum-product estimates for rational functions},\nProceedings of the London Mathematical Society {\\bf 104}, 1--26, 2012.\n\n\\bibitem{C14}\nM. Charalambides,\n\\emph{Distinct distances on curves via rigidity},\nDiscrete \\& Computational Geometry {\\bf 51}, 666-701, 2014.\n\n\\bibitem{E95}\nG. Elekes,\n\\emph{Circle grids and bipartite graphs of distances},\nCombinatorica {\\bf 15}, 167--174, 1995.\n\n\\bibitem{E97}\nG. Elekes,\n\\emph{On the number of sums and products},\nActa Arithmetica {\\bf 81}, 365--367, 1997.\n\n\\bibitem{E98}\nG. Elekes,\n\\emph{A combinatorial problem on polynomials},\nDiscrete \\& Computational Geometry {\\bf 19}, 383--389, 1998.\n\n\\bibitem{E99}\nG. Elekes,\n\\emph{A note on the number of distinct distances},\nPeriodica Mathematica Hungarica {\\bf 38}, 173--177, 1999.\n\n\\bibitem{E99b}\nG. Elekes, \\emph{On Linear Combinatorics III. Few Directions and Distorted Lattices},\nCombinatorica {\\bf 1}, 43--53, 1999.\n\n\\bibitem{E02}\nG. Elekes,\n\\emph{SUMS versus PRODUCTS in Number Theory, Algebra and Erd\\H os Geometry},\nPaul Erd\\H os and his Mathematics II, Bolyai Society Mathematical Studies {\\bf 11}, 241--290, 2002.\n\n\\bibitem{ENR99}\nG. Elekes, M.B. Nathanson, and I.Z. Ruzsa,\n\\emph{Convexity and sumsets},\nJournal of Number Theory {\\bf 83}, 194--201, 1999.\n\n\\bibitem{ER00}\nG. Elekes and L. R\\'onyai,\n\\emph{A combinatorial problem on polynomials and rational functions},\nJournal of Combinatorial Theory, Series A {\\bf 89}, 1--20, 2000.\n\n\\bibitem{ESS09}\nG. Elekes, M. Simonovits, and E. Szab\\'o,\n\\emph{A combinatorial distinction between unit circles and straight lines: How many coincidences can they have?},\nCombinatorics, Probability, and Computing {\\bf 18}, 691--705, 2009.\n\n\\bibitem{ES11}\nG. Elekes and M. Sharir,\n\\emph{Incidences in Three Dimensions and Distinct Distances in the Plane},\nCombinatorics, Probability and Computing {\\bf 20}, 571--608, 2011.\n\n\n\\bibitem{ES12}\nG. Elekes and E. Szab\\'o, \n\\emph{How to find groups? (And how to use them in Erd\\H os geometry?)}, \nCombinatorica {\\bf 32}, 537--571, 2012.\n\n\\bibitem{ES13} \nG. Elekes and E. Szab\\'o, \n\\emph{On triple lines and cubic curves: The Orchard Problem revisited}, \n{\\href{http://arxiv.org/abs/{1302.5777}}{\\tt arXiv:{1302.5777}}}, 2013.\n\n\\bibitem{E46}\nP. Erd\\H os,\n\\emph{On sets of distances of $n$ points},\nAmerican Mathematical Monthly {\\bf 53}, 248--250, 1946.\n\n\\bibitem{EP71}\nP. Erd\\H os and G. Purdy,\n\\emph{Some extremal problems in geometry},\nJournal of Combinatorial Theory {\\bf 10}, 246--252, 1971.\n\n\\bibitem{ES83}\nP. Erd\\H os and E. Szemer\\'edi,\n\\emph{On sums and products of integers}, \nin: Studies in Pure Mathematics, Birkh\\\"auser, 213--218, 1983.\n\n\\bibitem{GK15}\nL. Guth and N.H. Katz,\n\\emph{On the Erd{\\H o}s distinct distances problem in the plane},\nAnnals of Mathematics {\\bf 181}, 155--190, 2015.\n\n\n\\bibitem{GT13}  \nB. Green and T. Tao, \n\\emph{On Sets Defining Few Ordinary Lines}, \nDiscrete \\& Computational Geometry {\\bf 50}, 409--468, 2013.\n\n\n\\bibitem{Ha77} \nR. Hartshorne, \n\\emph{Algebraic Geometry},\nSpringer, 1977.\n\n\\bibitem{HH13}\nN. Hegyv\\'ari and F. Hennecart,\n\\emph{Conditional expanding bounds for two-variable functions over prime fields},\nEuropean Journal of Combinatorics {\\bf 34}, 1365--1382, 2013.\n\n\\bibitem{KS15}\nS. Konyagin and I. Shkredov,\n\\emph{On sum sets of sets, having small product set},\n{\\href{http://arxiv.org/abs/{1503.05771}}{\\tt arXiv:{1503.05771}}}, 2015.\n\n\\bibitem{LW54}\nS. Lang and A. Weil,\n\\emph{Number of points of varieties in finite fields},\nAmerican Journal of Mathematics {\\bf 76}, 819--827, 1954.\n\n\n\\bibitem{L09}\nR.J. Lipton,\nblog post, available at \\href{http://rjlipton.wordpress.com/2009/11/30/the-curious-history-of-the-schwartz-zippel-lemma/}{\\tt http://rjlipton.wordpress.com/2009/11/30/} \\href{http://rjlipton.wordpress.com/2009/11/30/the-curious-history-of-the-schwartz-zippel-lemma}{\\tt /the-curious-history-of-the-schwartz-zippel-lemma/}, 2009.\n\n\\bibitem{LSZ14}\nB. Lund, A. Sheffer, and F. de Zeeuw,\n\\emph{Bisector energy and few distinct distances},\n31st International Symposium on Computational Geometry (SoCG 2015), 537--552, 2015.\nAlso in {\\href{http://arxiv.org/abs/{1411.6868}}{\\tt arXiv:{1411.6868}}}.\n\n\\bibitem{M02}\nJ. Matou\\v sek,\n\\emph{Lectures on Discrete Geometry},\nSpringer, 2002.\n\n\n\\bibitem{NPVZ15}\nH. Nassajian Mojarrad, T. Pham, C. Valculescu, and F. de Zeeuw,\n\\emph{Schwartz-Zippel bounds for two-dimensional products},\n{\\href{http://arxiv.org/abs/{1507.08181}}{\\tt arXiv:{1507.08181}}}, 2015.\n\n\\bibitem{PS98}\nJ. Pach and M. Sharir,\n\\emph{On the number of incidences between points and curves},\nCombinatorics, Probability and Computing {\\bf 7}, 121--127, 1998.\n\n\\bibitem{PZ13}\nJ. Pach and F. de Zeeuw,\n\\emph{Distinct distances on algebraic curves in the plane},\nto appear in Combinatorics, Probability and Computing.\nAlso in {\\href{http://arxiv.org/abs/{1308.0177}}{\\tt arXiv:{1308.0177}}} and Proceedings of the thirtieth annual symposium on Computational geometry, \n549--557, 2014.\n\n\\bibitem{R16}\nO.E. Raz,\n\\emph{A note on distinct distance subsets},\nmanuscript, 2016.\n\n\\bibitem{RS15a}\nO.E. Raz and M. Sharir,\n\\emph{The number of unit-area triangles in the plane: Theme and variations},\n{\\href{http://arxiv.org/abs/{1501.00379}}{\\tt arXiv:{1501.00379}}}, 2015.\n\n\\bibitem{RS16}\nO.E. Raz and M. Sharir,\n\\emph{Rigidity of complete bipartite graphs in the plane},\nmanuscript,\n2016.\n\n\\bibitem{RSS15a}\nO.E. Raz, M. Sharir, and J. Solymosi,\n\\emph{Polynomials vanishing on grids: The Elekes-R\\'onyai problem revisited},\n{\\href{http://arxiv.org/abs/{1401.7419}}{\\tt arXiv:{1401.7419}}}, 2014.\nAlso in: Proceedings of the thirtieth annual symposium on Computational geometry, 251--260, 2014. \n\n\\bibitem{RSS15b}\nO.E. Raz, M. Sharir, and J. Solymosi,\n\\emph{On triple intersections of three families of unit circles},\nDiscrete \\& Computational Geometry {\\bf 54}, 930--953, 2015. \nAlso in: Proceedings of the thirtieth annual symposium on Computational geometry, 198--205, 2014. \n\n\\bibitem{RSZ15}\nO.E. Raz, M. Sharir, and F. de Zeeuw,\n\\emph{Polynomials vanishing on Cartesian products: The Elekes-Szab\\'o Theorem revisited},\n{\\href{http://arxiv.org/abs/{1504.05012}}{\\tt arXiv:{1504.05012}}}, 2015.\nAlso in: 31st International Symposium on Computational Geometry (SoCG 2015), 522--536, 2015.\n\n\\bibitem{RSZ16}\nO.E. Raz, M. Sharir, and F. de Zeeuw,\n\\emph{The Elekes-Szab\\'o Theorem in four dimensions},\nmanuscript, 2016.\n\n\n\n\\bibitem{SSZ13}\nR. Schwartz, J. Solymosi, F. de Zeeuw,\n\\emph{Extensions of a result of Elekes and R\\'onyai},\nJournal of Combinatorial Theory, Series A {\\bf 120}, 1695--1713, 2013.\n\n\\bibitem{SSS13}\nM. Sharir, A. Sheffer, and J. Solymosi,\n\\emph{Distinct distances on two lines},\nJournal of Combinatorial Theory, Series A {\\bf 120}, 1732--1736, 2013.\n\n\\bibitem{SSVZ15}\nM. Sharir, S. Smorodinsky, C. Valculescu, and F. de Zeeuw,\n\\emph{Distinct distances between points and lines}, {\\href{http://arxiv.org/abs/{1512.09006}}{\\tt arXiv:{1512.09006}}}, 2015.\n\n\\bibitem{SS15}\nM. Sharir and J. Solymosi,\n\\emph{Distinct distances from three points},\nto appear in Combinatorics, Probability and Computing.\nAlso in {\\href{http://arxiv.org/abs/{1308.0814}}{\\tt arXiv:{1308.0814}}}. \n\n\\bibitem{S15}\nA. Sheffer,\n\\emph{The polynomial method},\nlecture notes from a course at Caltech, available at \n\\url{http://www.math.caltech.edu/~2014-15/3term/ma191c-sec2/}, 2015.\n\n\\bibitem{SZ15}\nA. Sheffer and J. Zahl,\n\\emph{Point-curve incidences in the complex plane},\n\n\\href{http://arxiv.org/abs/1502.07003}{\\tt arXiv:1502.0} \\href{http://arxiv.org/abs/1502.07003}{\\tt 7003},\n2015.\n\n\\bibitem{SZZ16}\nA. Sheffer, J. Zahl, and F. de Zeeuw,\n\\emph{Few distinct distances implies no heavy lines or circles},\nto appear in Combinatorica.\nAlso in {\\href{http://arxiv.org/abs/{1308.5620}}{\\tt arXiv:{1308.5620}}}, 2013.\n\n\\bibitem{S12}\nC.-Y. Shen,\n\\emph{Algebraic methods in sum-product phenomena},\nIsrael Journal of Mathematics {\\bf 188}, 123--130, 2012.\n\n\\bibitem{ST92}\nJ.H. Silverman and J. Tate,\n\\emph{Rational points on elliptic curves},\nSpringer, 1992.\n\n\\bibitem{So09}\nJ. Solymosi,\n\\emph{Bounding multiplicative energy by the sumset},\nAdvances in Mathematics {\\bf 222}, 402--408, 2009.\n\n\\bibitem{SdZ15}\nJ. Solymosi and F. de Zeeuw,\n\\emph{Incidence bounds for complex algebraic curves on Cartesian products},\n{\\href{http://arxiv.org/abs/{1502.05304}}{\\tt arXiv:{1502.05304}}}, 2015.\n\n\\bibitem{SST84}\nJ. Spencer, E. Szemer\\'edi, and W.T. Trotter,\n\\emph{Unit distances in the Euclidean plane},\nin: Graph Theory and Combinatorics, Academic Press, 293--303, 1984.\n\n\\bibitem{ST}\nE. Szemer\\'{e}di and W.T. Trotter,\n\\emph{Extremal  problems in discrete geometry},\nCombinatorica {\\bf 3}, 381--392, 1983.\n\n\\bibitem{T12}\nT. Tao, \nblog post, \navailable at \n\\href{http://terrytao.wordpress.com/2012/08/31/the-lang-weil-bound/}\n{\\tt http://terrytao.wordpress.com/2012/08/31/the}\n\\href{http://terrytao.wordpress.com/2012/08/31/the-lang-weil-bound/}{\\tt -lang-weil-bound/}, 2012.\n\n\\bibitem{T15}\nT. Tao,\n\\emph{Expanding polynomials over finite fields of large characteristic, and a regularity lemma for definable sets},\nContributions to Discrete Mathematics {\\bf 10}, 22--98, 2015.\n\n\\bibitem{U82}\nP. Ungar,\n\\emph{$2N$ Noncollinear points determine at least $2N$ directions},\nJournal of Combinatorial Theory, Series A {\\bf 33}, 343--347, 1982.\n\n\\bibitem{VZ15}\nC. Valculescu and F. de Zeeuw,\n\\emph{Distinct values of bilinear forms on algebraic curves},\nto appear in Contributions to Discrete Mathematics, 2015. Also in {\\href{http://arxiv.org/abs/{1403.3867}}{\\tt arXiv:{1403.3867}}}.\n\n\\bibitem{W15}\nH. Wang,\n\\emph{Exposition of Elekes Szabo paper},\n{\\href{http://arxiv.org/abs/{1512.04998}}{\\tt arXiv:{1512.04998}}}, 2015.\n\n\\bibitem{Za15}\nJ. Zahl,\n\\emph{A Szemer\\'edi-Trotter type theorem in ${\\mathbb R}^4$},\nDiscrete \\& Computational Geometry {\\bf 54}, 513--572, 2015.\n\n\\bibitem{Ze15}\nF. de Zeeuw,\n\\emph{A course in algebraic combinatorial geometry},\nlecture notes available from the author's website \\url{http://dcg.epfl.ch/page-84876-en.html}, 2015.\n\n\n\n\\end{thebibliography}\n\n\n\n", "itemtype": "equation", "pos": 85193, "prevtext": "\nwith $\\eta>0$ depending on $d,D,M,N$,\nunless $X$ is in some specific way related to an algebraic group.\n\nThe results of \\cite{B83, RS15a, LSZ14} mentioned above fit into this framework: Given a reasonable map $\\mathcal{F}:{\\mathbb C}^2\\times {\\mathbb C}^2\\to{\\mathbb C}^2$, its graph $X \\subset {\\mathbb C}^2\\times{\\mathbb C}^2\\times{\\mathbb C}^2$ is a variety that satisfies the conditions of the Main Theorem of Elekes and Szab\\'o.\nNote that \\cite{B83, RS15a, LSZ14} not only provide explicit values of $\\eta$ in certain special cases, but they also make the ``very general position'' condition more precise in those cases. \nIndeed, they replace the condition that $P$ avoids any algebraic curve (a proper subvariety of ${\\mathbb C}^2$) of bounded degree, \nwith the condition that $P$ avoids only lines in the case of \\cite{B83, RS15a}, or lines and circles in \\cite{LSZ14}.\n\n\n\n\n\n\\subsection{Expanding polynomials over other fields}\n\nLet us finish by briefly discussing Elekes-R\\'onyai-type questions over a finite field $\\mathbb{F}_q$ or the field $\\mathbb{Q}$ of rational numbers.\nWe focus on statements of the form ``$|f(A\\times A)|=\\Omega(|A|^{1+c})$ for a polynomial $f$ that is not of a special form'';\nthere has been much work on conditional expansion bounds (especially over finite fields), of the form ``if $|A+A|$ is small, then $|f(A\\times A)|$ is large'', but we will not discuss these here.\n\nOver finite fields, the question is considerably harder, because there is not yet any finite field equivalent of an incidence bound for algebraic curves like Theorem \\ref{thm:SZ}.\nFor simplicity, let us restrict to a prime field $\\mathbb{F}_p$, and let us ignore small $p$.\nThere is a dichotomy between \\emph{small} subsets $A\\subset\\mathbb{F}_p$, \nwhere very few incidence bounds are known,\nand \\emph{large} subsets $\\mathbb{F}_p$, for which various techniques can be used to obtain incidence bounds.\n\nFor instance, Bourgain \\cite{B05} used the incidence bound of Bourgain, Katz, and Tao \\cite{BGK04} for small subsets of $\\mathbb{F}_p$ to prove the following expansion bound.\nFor $f(x,y) = x^2+xy$ and $A\\subset {\\mathbb F}_p$ with $|A|<p^{c'}$, we have $|f(A\\times A)| >|A|^{1+c}$, with $c>0$ depending on $c'<1$.\nThis bound has been improved slightly, and generalized to some other polynomials, but the range of polynomials for which such bounds are known remains limited; see Aksoy Yazici et al. \\cite{AMRS15} for some recent developments.\n\nFor large subsets of finite fields (think of $|A|>p^{7/8}$), \nmore comprehensive bounds have been proved.\nBukh and Tsimerman \\cite{BT12} proved that $|f(A\\times A)| = \\Omega_d(|A|^{1+c})$ for $|A|>p^{7/8+c'}$, with $c>0$ depending on $c'$, \nif $f\\in \\mathbb{F}_p[x,y]$ is monic in each variable, non-composite, and not of the form $g(x)+h(y)$ or $g(x)h(y)$.\nThe exceptional form here is almost the same as in the Theorem \\ref{thm:ERRSS}.\nTao \\cite{T15} then proved that $|f(A\\times A)| = \\Omega_d(p)$ for $|A|>p^{15/16}$, \nunless $f\\in \\mathbb{F}_p[x,y]$ is additive or multiplicative, matching the condition in Theorem \\ref{thm:ERRSS}.\nThe proofs in \\cite{BT12,T15} both used fiber products and Cauchy-Schwarz (somewhat like in Subsection \\ref{subsec:ESproof}),\nand both relied on the bound of Lang and Weil \\cite[Theorem 1]{LW54} for points on varieties over finite fields.\nSome of the ideas in \\cite{T15} played a role in the proof of Theorem \\ref{thm:ESRSZ} in \\cite{RSZ15}.\nIn \\cite[Section 9]{BT12}, an Elekes-Szab\\'o-type statement over finite fields is conjectured.\n\n\\bigskip\n\nOne can also ask the Elekes-R\\'onyai question over ${\\mathbb Q}$.\nOf course, Theorem \\ref{thm:ERRSS} gives a bound there, but it is not clear that every exceptional polynomial from Theorem \\ref{thm:ERRSS} is also exceptional over ${\\mathbb Q}$.\nFor instance, although $f(x,y)=x^2+y^2$ is additive, the construction from Subsection \\ref{subsec:exppoly} would require us to choose $A$ so that $A^2$ is an arithmetic progression, which is not possible in ${\\mathbb Q}$.\nSolymosi made the following conjecture.\n\n\\begin{conjecture}\nLet $f\\in {\\mathbb Q}[x,y]$ be a polynomial of degree $d$.\nFor $A\\subset {\\mathbb Q}$ we have\n", "index": 107, "text": "\n\\[|f(A\\times A)| = \\Omega_d(|A|^{1+c}),\\]\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.Ex39.m1\" class=\"ltx_Math\" alttext=\"|f(A\\times A)|=\\Omega_{d}(|A|^{1+c}),\" display=\"block\"><mrow><mrow><mrow><mo stretchy=\"false\">|</mo><mrow><mi>f</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>A</mi><mo>\u00d7</mo><mi>A</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow><mo stretchy=\"false\">|</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant=\"normal\">\u03a9</mi><mi>d</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mrow><mo stretchy=\"false\">|</mo><mi>A</mi><mo stretchy=\"false\">|</mo></mrow><mrow><mn>1</mn><mo>+</mo><mi>c</mi></mrow></msup><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}]