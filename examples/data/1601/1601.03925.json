[{"file": "1601.03925.tex", "nexttext": "\n\n\nwhere $x$ is the allocated energy and $a,b$ are user-specific parameters. \nNote that $\\frac{b}{2a}$ is the maximum amount of energy that the user wants, i.e., giving him more than this value won't increase his valuation. Users $A$ and $B$ differ in their preferences: set $a_A=0.5, a_B=1$ (the respective values of parameter $a$ for player $A$ and $B$) and $b_A=b_B=2$. \nThe utility of each player is therefore the difference between his valuation function, and the price he is charged (typically, $px$ with $p$ denoting the unit price).\n\n\n\nThe aggregator acts as a representative of the EVs in~\\cite{Galus2008DSM,Maille2006Auctions}, trying to maximize the aggregated user utility. Similarly, in~\\cite{Ardakanian2014DistributedControl} the aggregator has also a user-based objective, namely proportional fairness.\nIn contrast, in~\\cite{Tushar2012Economics,Samadi2010DSM} he plays ``against'' EV users, trying to maximize his revenue by setting the unit price $p$. The supply constraint is a tight bound of $C$ in~\\cite{Tushar2012Economics}, while in~\\cite{Samadi2010DSM} it is part of the decision variables, the authors assume a cost of $\\alpha C^2$ and consider $C$ to be optimized by the aggregator.\n\n\n\nTable~\\ref{tab:toy_example} shows the outcomes of those approaches for our example.\nRemark that welfare-oriented approaches \\cite{Galus2008DSM} (and~\\cite{Maille2006Auctions} if $C_2\\geq C_1$ for example) lead to the same allocations as the revenue-oriented ones~\\cite{Tushar2012Economics,Samadi2010DSM}. \nThose allocations correspond to demands at the \\emph{market price} (the unit price as which demand equals supply); indeed such allocations are efficient, but also allow the aggregator to extract the maximum surplus from users. \nNote however that the prices paid are different: with VCG-based schemes, users are charged below the market price, which can be interpreted as the cost for having them reveal truthfully their valuation (while this information-revealing aspect is not considered in~\\cite{Tushar2012Economics,Samadi2010DSM}). \n\n\n\nFor the models in~\\cite{Ardakanian2014DistributedControl,Maille2006Auctions}, that consider tree-like network topologies, we take in our example the simple topology of Figure~\\ref{fig:Alice&Bob}, where $C_1$ and $C_2$ are capacity limits. \n\n\\begin{figure}[htbp]\n   \\centering\n   \\includegraphics[width=8cm]{Alice_Bob.pdf} \n   \\caption{Capacity constraints: a simple tree topology.}\n   \\label{fig:Alice&Bob}\n\\end{figure}\n\n\n\nThe objective in~\\cite{Ardakanian2014DistributedControl} is to achieve proportional fairness in this setting, or equivalently, to maximize $\\log{x_A} + \\log{x_B}$ under the capacity constraints. Hence energy is shared equally if the constraints allow it, as shown in Table~\\ref{tab:toy_example}. \n\n\n\\begin{table*}[htbp]\n\\centering\n\\caption{Comparing mechanisms proposed for static scenarios on a toy example} \\label{tab:toy_example}\n\\begin{tabular}{|c|c|c|c|c|}\n\\hline\n & Aggregator objective & Constraints & Allocation $x_A$ & Allocation $x_B$ \\\\\n\\hline\n\\hline\n\\cite{Galus2008DSM} & $\\displaystyle\\max_{x_A,x_B} \\theta_A(x_A)+\\theta_B(x_B)$ & $x_A + x_B \\le C$ & $\\min(1,2C/3)$ & $\\min(1/2,C/3)$  \\\\\n\\hline\n\\cite{Tushar2012Economics} & $\\displaystyle\\max_p p(x_A+x_B)$ & $x_A + x_B \\le C$ & $\\min(1,2C/3)$ & $\\min(1/2,C/3)$  \\\\\n\\hline\n\\cite{Samadi2010DSM} & $\\displaystyle\\max_{p,C} p (x_A+x_B) - \\alpha C^2$ & $x_A + x_B \\le C$ & $\\frac{2}{3}C=\\frac{2}{2+3\\alpha}$ & $\\frac{1}{3}C=\\frac{1}{2+3\\alpha}$ \\\\\n\\hline\n\\cite{Maille2006Auctions} & $\\displaystyle\\max_{x_A,x_B} \\theta_A(x_A)+\\theta_B(x_B)$ & $x_A + x_B \\le C_1, x_B\\leq C\n_2$ & $\\min\\left(1,\\max(\\frac{2C_1}{3},C_1-\\min(\\frac 12,C_2))\\right)$ & $\\min(\\frac 12,\\frac{C_1}{3},C_2)$  \\\\\n\\hline\n\\cite{Ardakanian2014DistributedControl} & $\\displaystyle\\max_{x_A,x_B} \\log{x_A} + \\log{x_B}$ & $x_A + x_B \\le C_1, x_B \\le C_2 $ & \n$C_1-\\min(C_1/2,C_2)$& \n$\\min(C_1/2,C_2)$\\\\\n\\hline\n\\end{tabular}\n\\end{table*}\n\n\n\n\n\n\n\n\n\n\n\\subsubsection{Electricity sharing over several time slots}\n\\label{subsubsec:SharingSlots}\nThis subsection adds the dimension of time when scheduling EV charging. A given time interval is divided into multiple time slots. Unlike the previous subsection which treats as decision variables the amount of electricity to be allocated among EVs, in this subsection those variables now expand on time, becoming vectors, to exploit the time flexibility of allocation. Therefore the problem is to reshape the aggregated charging \\emph{load curve} under constraints on the total energy transferred. We start with models aiming at forming a flat load curve, then turn to those that can shape the load into an arbitrary curve.\n\n\n\\paragraph{Flat charging curves}\n\\label{para:Flat}\nTime is discretized so a charging plan for an EV is a vector over slots, with the magnitudes representing the charging rates. This rate takes discrete values in~\\cite{Beaude2012ChargingGame,Binetti2015SRTG} and continuous values in~\\cite{Rad2010DSM}.\n\n\n\n\nBeaude, Lasaulce and Hennebel~\\cite{Beaude2012ChargingGame} slice one time period (typically one day) into several slots (e.g., of length 30 minutes), and users choose when to start recharging their EVs at a constant power level without interruption until reaching their target SOCs. \nIn other words, the charging demand is a shiftable rectangle covering several slots. \nFor the aggregator, a supply increase causes a cost increase, and the cost function is assumed to be continuously differentiable and strictly convex. This cost is directly transferred through prices to users, who are aware of this mechanism and want to choose the best charge starting slot(s) to minimize their individual costs. \n\n\n\nLet us illustrate the scheme through a simple example.\n\n\n\n\nSuppose EV $A$ (resp., $B$) needs a one-time-slot recharging at the power of $c$. They can choose between slot $1$ and slot $2$. \nDenote the consumption profile for $A$ (resp., $B$) in time slots $1$ and $2$ with the vector $[x_A^1\\quad x_A^2]$ (resp., $[x_B^1\\quad x_B^2]$). \nFor a specific time slot, the aggregated load can be $2c$, $c$, or zero depending on user decisions, with respective costs to the aggregator $\\text{Cost}(2c) > \\text{Cost} (c) > \\text{Cost} (0)$. This cost is handed down to the users in the form of unit prices $p(\\text{Cost}(2c)) > p(\\text{Cost}(c)) > p(\\text{Cost}(0))$.\n\n\n\n\n\n\n\nThe game played among users is proved to be a potential game~\\cite{monderer1996potential}, hence having pure Nash equilibria. Not all those equilibria yield identical cost, but the authors prove that for an infinite number of cars the equilibrium is unique and optimal. \n\n\n\nIn the same vein, Mohsenian-Rad~\\textit{et al.}~\\cite{Rad2010DSM} use this consumption-dependent electricity price to elicit users to voluntarily minimize the cost to the aggregator, and meanwhile reduce the peak-to-average ratio of the load curve. \nThe aggregator sets a unit price linearly increasing in the consumption level, so that the price paid is quadratic in the consumption. \nUsers have multiple independent appliances to manage, and the constraint of non-stopping recharging in~\\cite{Beaude2012ChargingGame} is relaxed, so higher flexility is offered: the charging rate is variable as long as the total energy injected to one appliance meets the client's demand. \nWhen a day starts, each user first starts from a random hourly consumption schedule and broadcasts it to the rest of the community. Then, sequentially, users choose their cost-minimizing schedules based on those received from the others and their own daily needs. The authors prove that the process converges, to a unique equilibrium where the total charging cost is minimized. A desirable byproduct of minimizing the cost is that the peak-to-average ratio of the load curve is also significantly reduced: although the solutions of these two problems are not identical, data analyses suggest that they are close, since the lowest achievable peak-to-average is only 0.05\\% lower than that achieved by the cost-minimizing solution. \n\nThe convergence requires rounds of bi-directional communication between an EV and the aggregator. To accelerate the procedure and achieve real-time responds, Binetti~\\textit{et al.}~\\cite{Binetti2015SRTG} propose to schedule one EV at a time, once it connects to the grid. First the aggregator anticipates its load curve for the following 24 hours, and lets the first arriving EV know about this profile upon arrival; then the EV owner, after a simple computation, decides when to start recharging its EV at a constant yet self-defined power level, without interruption. The computation complexity is low and can be easily adapted to the circumstance where EVs arrive in a batch. In~\\cite{Binetti2015SRTG} EV owners arrange their recharging with the aim of minimizing the objective function of the aggregator, which is a linear combination of the variance and peak of the aggregated load profile, thus users are assumed altruistic; but a more realistic approach should cover EV owner selfishness, hence an incentive problem: how to define prices so that selfish users behave in the best interest of the aggregator? We expect load-dependent prices to lead to situations where the aggregator cost is (at least approximately) minimized, as is done under other assumptions in~\\cite{Beaude2012ChargingGame,Rad2010DSM}.\n\n\n\\paragraph{Following an arbitrary curve}\n\\label{para:Arbitrary}\nMerely flattening the aggregated charging consumption of EVs is not always desirable or sufficient, especially when EVs share the supply system with other consumers. To flatten the overall demand curve, the EV consumption should be adjusted according to the external un-shiftable loads. Following are examples of guiding EVs through the electricity price, so that their aggregated load follows a predefined curve. \n\n\n\nMa, Callaway and Hiskens~\\cite{Ma2013Valley} model the behavior of self-interested users as a noncooperative game, the objective of the charging control being \\emph{valley filling}, i.e., shifting EV demand to the valley hours of the non-EV load. \nA consumption-dependent electricity price (a linear function of the ratio of the real-time consumption to the generation capacity) elicits users to defer their charging process toward the valley periods, where prices hit the bottom. \nTo avoid oscillations in user behavior and ensure convergence, \nan extra fee is added to the electricity price as a penalty on deviation from the population average, so that users selfishly minimizing their costs converge to a Nash equilibrium, which happens to be the socially optimum outcome if all EVs have an identical charging deadline. By adopting a different form of penalty, Gan, Topcu and Low~\\cite{Gan2013OptimalProtocol} prove the convergence to the optimum for EVs with different deadlines. Moreover, they extend the algorithm so that the aggregate load can follow any given profile, hence its application goes beyond valley filling. \n\nWhen real-time electricity prices can reflect the congestion status, an EV would be contributing to valley-filling by simply following a cost-minimizing charging program. Franco, Rider and Romero~\\cite{Franco2015MILP} seek a daily charging dispatch that achieves cost minimization under hourly electricity prices. They consider a specific distribution network where each node brings a constraint about the consumption it can support. The aggregator solves the problem in a centralized manner, i.e. tries to postpone the shiftable EV loads to the time slots with lower prices, while respecting the constraints and satisfying EV demand. \nSimilarly, Hu~\\textit{et al.}~\\cite{Hu2014Congestion} propose a centralized cost-minimizing control mechanism based on predicted hourly electricity prices, where the aggregator directly controls the charging of each plugged EV, whose daily travel plan and corresponding energy demand can be estimated day-ahead. The aggregators sharing a distribution grid respond to hourly congestion prices set by the ISO, by updating their previously optimized EV recharging schedules. After convergence, the ISO re-sets the price depending on its supply capacity, until the overall energy consumption scheduled of all the aggregators falls below this capacity. The authors recently extended this work in~\\cite{Hu2015CongestionNetwork}, to the case of a tree-like distribution network where EVs are plugged on the leaves.\n\n\n\\subsubsection{Summary of Static unidirectional recharging}\n\n\nTable~\\ref{tab:Static unidirectional recharging} summarizes the static approaches, differentiating them according to the type of economic model considered, the controller's objective, and the main model constraints. The first group (\\cite{Galus2008DSM,Samadi2010DSM,Tushar2012Economics}) uses Stackelberg game models, with the aggregator being the leader and EVs the followers. The leader plays with the electricity price and followers adapt their consumption. This method can be used to achieve different objectives, such as user welfare and social welfare, in an iterative manner. When topology-based constraints are considered (\\cite{Maille2006Auctions,Ardakanian2014DistributedControl}), EVs might not be aware of the whole topology and/or constraints of each segment, but congestion information at each node is handed down in the form of electricity prices. This method can achieve proportional fairness among homogeneous cooperative users~\\cite{Ardakanian2014DistributedControl}. For heterogenous self-interested users, each with a private utility function, the central controller can organize an auction and dispatch energy efficiently among bidders, respecting topology constraints~\\cite{Maille2006Auctions}.\n\nAll those charging schemes consider imposing consumption-dependent electricity prices to cost-sensitive users. \nWhile user demands are assumed elastic in schemes studying a single time slot, they are considered fixed for those designed for several time slots, the flexibility stemming from the repartition of consumption over time to meet demand constraints. That fixed-demand assumption is mathematically convenient (in particular, the optimal load curve is unique and computable), but it ignores the fact that EVs may benefit from alternative energy sources and therefore have flexible demand for grid power.\nSo we encourage future research to consider \ndemand flexibility in both time and volume. This complicates the analysis of the aggregator's task (to choose a load curve) and of the EV choices (among the different sources), but we believe it is worth studying.\n\n\nOne inherent difficulty in distributed systems is convergence. Although it is mathematically convenient to assume arbitrarily variable charging rates between slots, batteries actually prefer stable charging rates. \nThis hinders the convergence to global optimum in atomic charging games, and results in optimality being only achievable for an infinite number of EVs~\\cite{Beaude2012ChargingGame}. \nConvergence can be guaranteed by modifying user choices (e.g., through penalties as in~\\cite{Gan2013OptimalProtocol}), but this must translate into economic incentives by affecting utilities, hence comes with a cost.\n\n\n\n\n\n\n\n\n\n\\begin{table*}[htbp]\n\\centering\n\\topcaption{Economic approaches for static unidirectional recharging}\n\\begin{tabular}{|c|c|c|l|}\n\\hline\nPaper & Model &  Aggregator objective &Constraints \\\\\n\\hline\n\\hline\n\\cite{Galus2008DSM}& Stackelberg game & User welfare& \\begin{tabular}{l}Fixed produced energy\\end{tabular}\\\\\n\\hline\n\\cite{Tushar2012Economics} & Stackelberg game & Revenue  & \\begin{tabular}{l}Fixed produced energy\\end{tabular}\\\\\n\\hline\n\\cite{Samadi2010DSM} & Stackelberg game & Revenue minus costs & \\begin{tabular}{l}Quadratic cost for produced energy\\end{tabular}\\\\\n\\hline\n\\cite{Ardakanian2014DistributedControl} & Cooperation & Proportional fairness  & \\begin{tabular}{l}Fixed produced energy\\\\Fixed transmission capacities\\end{tabular}\\\\\n\\hline\n\\cite{Maille2006Auctions} & Auction &  User welfare &  \\begin{tabular}{l}Fixed produced energy\\\\Fixed transmission capacities\\end{tabular} \\\\\n\n\n\\hline\n\\cite{Beaude2012ChargingGame} & Potential game & Generation and delivery costs & \\begin{tabular}{l}Fixed charging rate per EV\\\\No interruption of charging\\end{tabular}\\\\\n\\hline\n\\cite{Rad2010DSM}& Potential game & Energy cost (and Peak-to-Average ratio) & \\begin{tabular}{l}Fixed min and max consumption for appliances and EVs\\end{tabular}\\\\\n\\hline\n\\cite{Ma2013Valley}& Non-cooperative game \n& Energy cost (also valley filling)&\\begin{tabular}{l}Fixed non-EV demand\\end{tabular}\\\\\n\\hline\n\\cite{Gan2013OptimalProtocol} & Cooperation & Vally filling & \\begin{tabular}{l}Fixed non-EV demand\\end{tabular}\\\\\n\\hline\n\\end{tabular} \n\\label{tab:Static unidirectional recharging}\n\\end{table*}\n\n\n\n\n\n\\subsection{Dynamic models}\n\\label{subsec:Dynamic}\n\\subsubsection{Dealing with uncertainties about future events}\n\\label{subsubsec:SharingFuture}\n\n\n\nAll the models described so far are \\emph{static}, in the sense that they consider a time interval (be it one time slot or several) where all the information needed to find the optimal power allocation is already available (prices, users, constraints, etc.). \nBut this is not the case when actors have to commit for some future slots before all relevant input information is available. \nFor example a user can optimize his current consumption based on the present price (e.g.,~\\cite{Galus2009EnergyNetworks}), while knowing future price variations would have enabled him to get an even better payoff; similarly, an EV owner informed of the future electricity price but unable to precisely predict its departure time can do no better than minimizing its \\emph{expected} electricity cost~\\cite{Rad2015UncertainDeparture}. A robust optimization approach dealing with unknown future prices is taken by Conejo, Morales and Baringo in~\\cite{Conejo2010DRM}, the objective being to minimize the daily energy cost~\\cite{bental2009robust}. \nOther types of unknown information are brought by the clients yet to come, e.g., the quantity and elasticity of their demands.\n\\emph{Dynamically adapting algorithms} (also called online algorithms) anticipating and adapting to new inputs must hence be defined for such cross-slot optimization. \nWe now turn our attention to such approaches developed in the literature. \n\n\n\nA simple version of a dynamic algorithm consists in repeatedly applying static algorithms, namely the ones in previous subsections, each time some new information is available. \nThis leads to allocations that are optimal if time slots are independent; but in the general case, things are more complicated, and make specifically designed dynamic algorithms necessary. \nLet us borrow an example from Gerding~\\textit{et al.}~\\cite{Gerding2011MechanismDesign} to illustrate that. \n\n\n\n\\vspace{1ex}\n\\hrule\n\\vspace{1ex}\n\\begin{example}\\label{ex:carol_david}\nConsider two EV clients: Carol's EV is going to stay plugged-in for 2 time slots, while David leaves at the end of the first time slot. \nTheir marginal valuations of one unit of energy are claimed to be $[\\$10,\\$4]$ for Carol, and $[\\$5]$ for David, as shown in Table~\\ref{tab:ex:dynamic}. \nThese values stand for the maximum amount a user is willing to pay for each unit of energy: Carol would like to pay \\$10 or less to buy the first unit and \\$4 or less for the second, and one unit for \\$5 or less is sufficient for David. \n\n\\begin{table}[htbp]\n\\caption{A dynamic problem setting} \\label{tab:ex:dynamic}\n\\centering\n\\begin{tabular}{|c|c|c|}\n\\hline\n& Carol & David \\\\\n\\hline\n\\hline\nPlug-in time slots & $T_C = \\{1,2\\}$ & $T_D = \\{1\\}$\\\\\n\\hline\nMarginal willingness-to-pay & $v_C = [10,4]$ & $v_D = [5]$\\\\\n\\hline\n\\end{tabular}\n\\end{table}\n\nSuppose we have one unit of energy available at each time slot, and that our goal is to maximize social welfare (i.e., the total user valuation for the allocated energy). \nIf users only report their current willingness-to-pay but not their intended plug-in duration, treating the problem as static leads to allocating the current unit to the user who values it most. \nFor our example, Carol would obtain the first time slot (having the highest valuation), and would have no competitor for the second time slot, hence obtaining it again, for a total user benefit of \\$10 + \\$4 = \\$14. \nBut this greedy allocation per slot is not optimal: from Table~\\ref{tab:ex:dynamic} we remark that allocating the first unit to David and the second to Carol yields a higher total benefit of \\$15 = \\$5 + \\$10. \nTo quantify the loss of value due to limited information, a common measure is the ratio of the objective value reached with the algorithm considered, over the optimum value that could have been reached, had all information been available. \nIn our example, this efficiency measure equals 14/15.\n\\vspace{1ex}\n\\hrule\n\\vspace{1ex}\n\\end{example}\n\n\n\nAs evoked before, a possibility when facing new information is to relaunch the decision search (in a myopic way, in the sense that there is no attempt to account for future incoming information). \nGoing back to Example~\\ref{ex:carol_david}, this method would achieve an efficiency of $1$ if Carol and David truthfully report their plug-in duration and willingness-to-pay, i.e., reveal all the information in Table~\\ref{tab:ex:dynamic}. \nBut if a third user Edith, with marginal willingness-to-pay \\$6, enters the system at the second time slot and leaves immediately after, that information would trigger an allocation update, giving the first-slot unit to Carol (if there is still a chance to do so) and the second one to Edith. \nThis allocation will again need to be adjusted if more information arrives, e.g., saying that there will be two units of energy for sale at the second time slot. \nSuch a method should yield higher welfare than repeating static algorithms per-slot without adjusting according to newly revealed information, but still does not guarantee to provide the best decisions from the available information (that includes, e.g., probability distributions for the expected future events). \n\n\n\n\nWe will henceforth call \\emph{dynamic settings}, situations where decisions must be made over time, and not all future information is available: clients dynamically enter and leave the system, there is uncertainty about the set of feasible decisions in the future~\\cite{Nisan2007Algorithmic}, etc.\n\n\n\nFinding efficient solutions for dynamic problems is already complicated, but things can be worse when facing self-interested actors who may be reluctant to reveal information or could strategically report it, as pointed out before. \nFor the dynamic energy allocation problem, Gerding~\\textit{et al.}~\\cite{Gerding2013Mechanism} design a two-sided auction mechanism in which truthful reports (from the selling and buying parties) can be guaranteed by the mechanism in two specific cases (where sellers are myopic, or each buyer is interested in only one time slot).\nOtherwise, relaxing the requirement of truthfulness may lead to higher efficiency, by allowing the actors to strategize~\\cite{Gerding2013Mechanism}.\n\n\nNote that very different models for user preferences are considered in the aforementioned references. We therefore believe there is a strong need to survey the current users' economic interests, as well as the potential users' expectations, to build reasonable models and validate them.\n\n\n\\subsubsection{Mobility-based charging management models}\n\\label{subsubsec:Geometric}\nLet us not forget that the primary function of EVs is transportation; this characteristic makes mobility an unavoidable aspect to consider for charging arrangement schemes; be it by simply considering parking periods, or by covering complex mobility plans of EV owners as is done here. First, we take the EV owner point of view when selecting a charging station, then the charging stations point of view through competition to attract users. \n\n\\paragraph{Charging reservation}\n\\label{para:Reserve}\nFor EVs facing several options to get energy, guided reservation can reduce the charging delay~\\cite{Qin2011ChargingWaiting,Guo2014Rapid}, and charging cost~\\cite{Liu2014Routing,Yang2014Taxi}. \n\n\n\n\nQin and Zhang~\\cite{Qin2011ChargingWaiting} design a mechanism to recommend charging stations to EVs traveling in a transportation network, in order to minimize their overall queueing time before getting recharged.\nFor each on-road EV, only the stations on the shortest path connecting its current location to its destination can be candidates, so none of them will cause any detour.\nEach on-road EV periodically sends a reservation request to all reachable stations on the remaining part of its journey; those stations estimate the waiting time for this EV, and the one with the shortest waiting time estimation is reserved. \nThis reservation can be adjusted (through cancellation and re-scheduling) at the next round, to dynamically follow the optimal schedule. \nThe authors prove a lower-bound of the waiting time, and simulations show that the proposed distributed algorithm achieves a performance close to that bound.\n\n\n\nUnlike~\\cite{Qin2011ChargingWaiting} where the personal information (location and destination) of each EV is revealed to all the potential stations, Guo \\textit{et al.}~\\cite{Guo2014Rapid} allow the users to keep these information\n; even estimating the total time for charging at a specific station (the sum of driving time, waiting time and charging time)  is performed by each EV. \nThe estimation is based on the situation of the EV itself and the information received from the power system control center, the intelligent transportation system center, and each charging station.\n\n\n\nFor an EV owner who is more sensitive to the energy cost than to the time consumed, time-dependent electricity pricing provides an opportunity to trade longer traveling and waiting times for cost saving. Liu, Wu and Long~\\cite{Liu2014Routing} schedule the charging jointly with the routing in that context. An algorithm is designed to find the path as well as the charging quantity at each station on it, so that the total electricity cost of the journey is minimized. Particularly for a taxi driver, Yang \\textit{et al.}~\\cite{Yang2014Taxi} study the optimal charging problem for EV taxis with time-varying service incomes and charging costs. They aim at maximizing the long-term average profit of a driver under the constraint of the SOC (state-of-charge) dynamics of the EV battery. It is assumed that the expected revenue from one service time slot and the expected electricity price vary periodically. Those average values and their variation cycles can be learnt by the taxi driver from past experience. At each idle time slot (no passenger onboard), the taxi driver can decide whether to service or to recharge. The authors provide an algorithm and give a closed-form proof of its viability.\n\n\\paragraph{Station competition}\n\\label{para:Competition}\n\nCharging stations compete for customers through prices~\\cite{Garzas2012StationSelection}, and may also try to learn the pattern of customers in order to achieve higher revenues~\\cite{Gerding2013Mechanism}. \n\nGarzas and Granados~\\cite{Garzas2012StationSelection} assume that all users (informed with the locations of the stations) first send charging requests to all reachable stations, who then broadcast their prices to the users. Finally, each user chooses the cheapest station among all accessible ones. Competition among stations is an oligopoly game~\\cite{Kamien1983Conjectural} on prices, where revenues are proportional to prices and to market shares (the latter decreasing as price increases). The cost for producing energy is assumed to follow a convex function.\nSimulation results show that this pricing mechanism provides stations with higher utility than the equilibrium price of the Bertrand oligopoly game. \nUsers benefit from the price information, saving maximumly 11.5\\% with respect to choosing the nearest station. Note that the energy prepared by a station may be below the demand from the actually arrived customers, but the authors claim that the probability of this occurring is very low since users sent requests to many stations \\emph{before} choosing where to recharge, so that stations are likely to over-provision energy. Stations can then use the possibly extra energy to serve customers coming without reservation.\n\n\n\nThe scheme in~\\cite{Gerding2013Mechanism} described in Section~\\ref{subsubsec:SharingFuture} performs a dispatching of clients to separate stations, more specifically, each client is routed to a station where he is entitled with a unit of energy at a time slot convenient to him (a $<$\\emph{station, slot}$>$ pair), through a two-sided auction organized by a central controller. \nEVs can make a reservation by reporting their willingness-to-pay matrix over all possible $<$\\emph{station, slot}$>$ pairs to the controller, while each station reports the costs of the units of energy it can provide. Upon receiving the reports from both sides, the central controller finds a $<$\\emph{station, slot}$>$ pair maximizing the difference (if positive) between the user's willingness-to-pay of this pair and its cost claimed by the station.\n\nAdmitting that predicting EV mobility is hard, historical travel surveys can give statistical insights. Since the results on gasoline cars can be safely transplanted to EVs, data sets can be easily found in~\\cite{Hejazi2014Data,Gonder2007Data}. Information on user mobility helps the charging stations to better price their energy and organize reservations. Our literature survey shows a very limited number of analytical results for economic models for EV charging encompassing mobility due to the complexity of the models, but the (numerical) results obtained so far suggest this direction has the potential to yield significant improvements.\n\n\n\n\\subsubsection{The special case of (unidirectional) regulation service and wind-balancing}\n\\label{subsubsec:UniRegulation}\nLoad variation, in the sense of supply-demand balancing, has an effect which is equivalent to generation variation. So maneuverable EV charging can offer regulation, in the same way as generation units in conventional power grids. More precisely, when oversupply (resp., supply shortage) occurs, regulation down (resp., up) can be realized by raising up (resp., reducing) the recharging power of EVs. Of course, this implies that the penetration rate of EVs is sufficiently large for such scenarios to make sense: too few EVs would not provide much service, since their batteries would quickly be filled and/or the demand reduction they could offer would be insufficient.\n\nNote that with respect to the aforementioned scenarios, the purpose is no longer to play with the tradeoff between EVs' valuation for energy and generators' production costs, but to complete the task of opposing frequency deviation and maintaining a satisfactory frequency level. In this case, the commercial reward from providing frequency regulation (the most expensive ancillary service~\\cite{Kirby2007ancillary}) is potentially very attractive for EV owners. We devote a separate subsection to unidirectional regulation here, and address bidirectional regulation in Section~\\ref{subsec:V2GRegulation}. \n\n\n\nSortomme and El-Sharkawi~\\cite{Sortomme2011ChargingStrategies} consider an aggregator using EVs to provide regulation services while recharging their batteries. Every time slot (typically, an hour), the aggregator chooses a preferred charging rate for each EV, the actual charging rate being subject to fluctuations around this value due to regulation. The aggregator revenues stem from EV owners (paying for charging their cars) and from the grid (paying for carrying out regulation services). The aggregator's purpose can be to maximize its profit or to reduce the average unit electricity price of users. For both purposes, the authors highlight the need for efficient optimization for the system to benefit both EVs and the aggregator, since simple heuristics lead to significantly poor performance.\n\n\n\nBessa~\\textit{et al.}~\\cite{Bessa2012Bidding} also consider an aggregator recharging EVs while providing regulation services, and compare the revenue of providing only downward regulation with that of providing both downward and upward regulation. \nThe conclusion is that two-sided regulation is economically more attractive when capacity payment (payed for keeping a certain regulation capacity plugged, i.e., standing by for being occasionally called upon) is offered, otherwise the uncertainty of the parameters--day-ahead wholesale prices, regulation price, vehicle mobility--plays greater roles, hence the importance of accurate prediction.\n\nConceptually, regulation is just another type of allocation problem, where the commodity is not electricity but a share of regulation. So algorithms in Section~\\ref{subsubsec:SharingUsers} should also work by replacing energy amounts with power increment or decrement amounts. However:\n\\begin{enumerate} \n\\item The regulation service asks for an immediate response (within seconds) and each cycle lasts for a short duration (a few minutes), which requires the algorithms to converge fast enough.\n\\item Costs for EVs need to be better understood. EVs are supposed to be energy-centric and price-sensitive--their main purpose is to reach a desirable SOC at minimum cost--, but providing regulation imposes extra costs due to the negative effects that rapid power changes have on batteries. Those effects are not directly reflected in EVs' energy valuation functions. Therefore, to dispatch regulation in the same manner as energy, power fluctuations need to be included into utility functions, together with the price and resulting SOC. We did not find representative models in this category for uni-directional regulation, which leaves room for research.\n\\item In practice, regulation payment is settled on an hourly basis (much larger than the operating cycle, which is a few minutes), and it is a prerequisite for the regulation provider to set aside a sufficiently large regulation capacity (e.g., 0.1MW) and maintain its reliable connection to the grid for at least one hour. Hence, if EVs cannot commit to stay plugged-in that long, their marginal contributions can not be readily obtained, and payment sharing becomes complicated. The Shapley value~\\cite{shapley1953value} can be applied in that case; we encourage further propositions based on revenue-sharing tools rather than resource allocation for the specific context of regulation.\n\\end{enumerate}\nDue to the unpredictability of the regulation signal, the models in Section~\\ref{subsubsec:SharingSlots} cannot be directly applied either, since they consist in partitioning a flexible load to track a given known profile. These features of the regulation service, and its high profitability, make it a specific allocation problem worth specific research effort.\n\n\n\nBy varying the charging rate, EVs can also help cope with the intermittency of wind generation, as shown by Leterme~\\textit{et al.}~\\cite{Leterme2014Wind}: wind farms can declare their next-day production in the day-ahead market, based on predictions for generation and EV availability. \nThen at every time slot (e.g., of duration 15 minutes) of the next day, it is a stochastic optimization problem to decide the charging rate of the EVs, to minimize the current production mismatch plus the expected mismatch for the rest of the day.\n\n\n\n\n\n\n\n\n\n\\section{Bidirectional energy trading}\n\\label{sec:Bidirectional energy trading}\n\n\n\nBidirectional energy trading refers to the cases where EVs can not only buy electricity from the grid, but also sell it back thanks to the Vehicle-to-Grid (V2G) technology. \nThis provides the grid operator with an economical way to balance demand and supply, relying on EV batteries as storage facilities or energy buffers. \nAs evoked previously with unidirectional energy flows, here too the EV penetration must be sufficient, so that the contribution of EV batteries to the storage service be significant at the grid scale.\nIn order to make the storage providing option attractive to self-interested EV owners, a reasonable portion of the benefit should be shared with them.\nOne possibility of doing so is through bidirectional real-time pricing, i.e., setting prices for both energy directions. \nIf user reactions to price signals follow some predictable patterns, then carefully designed price schemes can help leverage the great storage capacity scattered in individual EV batteries. \n\n\n\nThis section reviews the control mechanisms for bidirectional energy trading. The first subsection introduces models characterizing behaviors of individual users facing time-varying bidirectional electricity prices; then we turn our attention to schemes where EVs are treated as batteries (intermittently) available to support the grid. \n\n\n\\subsection{Individual arbitrage}\n\\label{subsec:Arbitrage}\nBidirectional electricity pricing (i.e., one price for buying energy from the grid and another price for selling it back) offers EVs the opportunity to arbitrage, i.e., to buy electricity when prices are low and then wait for the grid to repurchase it back at higher prices. \nNote that the energy transmission and/or AC/DC conversion losses should then be considered. In order for an EV to get a higher arbitrage revenue, the bidirectional electricity prices play critical roles, together with the mobility of the EV. The literature provides two ways of analysis of this setting.\n\n\n\nHutson, Venayagamoorthy and Corzine~\\cite{Hutson2008Intelligent} propose an algorithm to carry out energy trading between an EV and the grid, based on hourly market clearing price data from California ISO (CAISO)\\footnote{\\url{http://www.caiso.com/Pages/default.aspx}}. \nThe algorithm uses Binary Particle Swarm Optimization to find most profitable buying and selling times throughout a day from the EV owner point of view, while guaranteeing a State-of-Charge (SOC) above requirements. \nThe model assumes that  the market clearing price is known in advance, a very strong assumption.\n\n\n\nIn the same vein, Liang~\\textit{et al.}~\\cite{Liang2012V2GStorage} consider a household using a PHEV for daily commute; the householder wants to minimize his energy cost by exchanging electricity with the grid throughout the day, knowing that the electricity price is the Time Of Use (TOU) price in Ontario\\footnote{\\url{http://www.ontarioenergyboard.ca/OEB/Consumers/Electricity/Electricity+Prices}} as shown in Figure~\\ref{fig:TOU-price}. \n\\begin{figure}[htbp]\n   \\centering\n   \\includegraphics[width=8cm]{TOU-price.pdf} \n   \\caption{Ontario Electricity Time-of-use Price periods.}\n   \\label{fig:TOU-price} \n\\end{figure}\nThe difficulty lies in the (hardly foreseeable) mobility of the user. \nNumerical results indicate that with an estimation of the statistics of the PHEV mobility and energy demand, the proposed scheme performs closely to a scheme with perfect knowledge of the PHEV mobility and energy demand information (efficiency is close to $1$). \nThis scheme can then be adjusted when congestion occurs among a group of households, e.g., their aggregated charging (discharging) rate exceeds the upper bound of the power system. \nThis high-level adjustment will cause a deviation from the PHEVs' optimal plans, and a cost increase, so the authors further design an adjustment policy such that the power system constraints are satisfied and the incremental cost for PHEVs is minimized~\\cite{Liang2013EnergyDelivery}.\n\n\n\\subsection{V2G for regulation services}\n\\label{subsec:V2GRegulation}\n\n\n\nKempton and Letendre~\\cite{Kempton1997V2G} proposed the first description of the key concepts of Vehicle to Grid (V2G). \nTheir analysis shows that the passenger (combustion) vehicle fleet has ten times the mechanical power of all current American's electrical generation equipment combined, and is idle most of the time. So even with moderate penetration, EVs have the potential to participate in the power market and it is also attractive for the grid operators to let them do so. \nThe authors then examine the possibility and profitability of selling EV energy to the grid. \nAccording to their estimations, the benefit to the grid exceeds the cost to the vehicle owners. \nBut this is assuming EVs work as peak power plants, which is not only difficult for them due to their on-board storage limitations~\\cite{Kempton2005V2GRevenue}, but also not very financially attractive according to White and Zhang's analysis~\\cite{White2011V2G} or even not profitable at all when payment do not compensate the battery degradation~\\cite{Zhou2011Battery}. \n\nSo Kempton and Tomi\\'c~\\cite{Kempton2005V2GRevenue} suggest \\emph{regulation} services as a more profitable power market, which better exploits the strengths of EVs: quick response time, low standby costs, and low capital cost per kW. \nA case study of fleets of EVs participating in ancillary services in four US regional regulation markets is provided in~\\cite{Kempton2007Fleets}, suggesting that with a few exceptions when the annual market value of regulation was low, V2G power for regulation services is profitable.\n\n\n\nIn the European market, a simulation based on real data, done by Andersson~\\textit{et al.} in~\\cite{Andersson2010V2GSwedenGermany}, shows that the current German regulating power market would yield significantly higher profits to the PHEVs than the Swedish market. \nThey provide a SWOT (Strength, Weaknesses, Opportunities and Threats) analysis of PHEVs as regulating power providers, based on which they portray an ideal regulating power market suited for PHEVs, featured by some key parameters. An ideal regulation market for EVs should provide high capacity payment, allow bidding regulation up and regulation down separately, and have a relatively small bulk bidding size (i.e., 1MW).\n\n\n\n\n\n\nConsidering how scattered and individually owned EVs can participate in the regulation market, Quinn, Zimmerle, and Bradley~\\cite{Quinn2010V2G} stress the need for an aggregator, by comparing a centralized architecture (direct communication between EVs and the ISO) with an aggregative (tree-like) architecture---a 3-layer structure involving the ISO, aggregator(s) and EVs. \nThe first reason is the relatively low reliability of an individual EV, i.e., the probability of staying plugged-in for a given duration: from 83.6\\% to 91.7\\% for a time duration of 1 hour, which is incomparable with conventional regulation providers such as natural gas turbines, which have a reliability of 98.89\\%~\\cite{Quinn2010V2G}. Therefore an aggregator is needed to collect a fleet of EVs so that their reliability be compatible with the current regulation services system requirements. Beside reliability, capacity requirements also call for aggregators: the minimum contractible capacity set by the ISO (from 0.1MW to 10MW in current electricity markets) are indeed way too high for a single EV, due to the battery sizes and the limits of recharging/discharging equipments. \nThe aggregator can submit bids to the ISO in the regulation service market, depending on the number (and state) of the EVs it manages. \nDuring regulation periods, each aggregator then receives a request from the ISO for a certain amount of power (positive or negative) below the contracted regulation capacity. \n\n\n\n\n\n\n\nAdmitting that aggregators are necessary for EVs to be accepted in power markets, the questions arise of how much regulation capacity an aggregator should bid for (normally a bid consists of a capacity and a corresponding price, but we consider only capacity here) to the ISO depending on the number of EVs available and their expected departure times, and how to dispatch the allocated regulation burden among those EVs.\nBased on simulations, Kamboj, Decker and Kempton~\\cite{Kamboj2010V2G} recommend to dispatch regulation up (down) to EVs whose SOC are above (below) the average level of all. \nThe suggested bidding is proportional to the available energy capacity (up and down, in kWh), divided by the regulation duration. \nA scaling parameter quantifying the aggregator degree of conservativeness, is used in the bidding strategy to account for the tradeoff between the revenue and the penalty for not meeting the requested power. \nThe authors evaluate this strategy based on real price signal from PJM, the largest transmission operator in the world~\\cite{Kamboj2011VandE}, and suggest to share the revenue among EVs according to the Shapley value~\\cite{shapley1953value}, a policy with good incentive and fairness properties but computationally difficult to implement. \nThe data shows that by providing regulation services for 15 hours a day, an EV can expect to yield one hundred dollars a month of revenues, given the current Regulation Market Clearing Prices.\n\n\n\nFocusing on regulation dispatch among EVs, Escudero-Garzas, Garcia-Armada and Seco-Granados~\\cite{Garzas2012FairDesign} compare several allocation schemes, assuming that the aggregator manages a (sufficiently large) group of EVs available for a known time period (i.e., no mobility is considered). \nTheir first scheme maximizes social welfare, that is the total user payoff minus the cost (due to battery degradation), but this may result in a high dispersion among SOCs after regulation. The mechanism is then improved by considering penalties for SOCs approaching the boundaries of some acceptable zones. Maximizing this modified social welfare results in maintaining the variance level among EV SOCs to the one of their arrival time. \nAdditionally, the authors suggest a water-filling method (originally used in information theory to maximize the throughput over parallel channels with different channel capacity~\\cite{Cover2012IT}): the variance among SOCs keeps decreasing, reaching zero, \n\nbut on the other hand the variance among user payoffs is larger than that after the social welfare maximizing scheme is applied. \n\nAnother aggregator allocation scheme maximizing social welfare is designed by Sun, Dong, and Liang~\\cite{Sun2013RegulationAllocation,Sun2014RegulationAllocation}. \nThey adopt a general Lyapunov optimization framework and develop a dynamic algorithm to maximize the expected user welfare over an infinite time horizon, which is proven to be asymptotically optimal and performs substantially better than a greedy algorithm optimizing the per-slot system performance.\n\n\n\n\n\nBut EVs are not solely regulation providers, they have individual travel plans. \nSpecifically, consider an EV who wants to charge itself to a target SOC before a predetermined departure time, at minimum cost. \nHan, Han and Sezaki~\\cite{Han2010OptimalV2G} suppose that this user has two choices for each plugged-in hour: recharging, or regulating. \nFor the latter, he will be payed a price known in advance for allowing the aggregator to charge or discharge his battery: the uncertainty for the user lies in the direction and amount of the regulation service, out of his control but affecting his outcome.\nThe proposed solution consists in the user first making a utility-maximizing plan for the whole plugged-in time--assuming null regulation--where utility is the revenue from regulation service minus the charging cost and a punishment based on the discrepancy between the actual SOC on departure and the EV owner's desire. \nThen, since the regulation causes unpredictable (bounded) fluctuations of the SOC, the user relaunches this algorithm again based on the current SOC (hence a static solution to a dynamic problem, as we pointed out in Subsection~\\ref{subsubsec:SharingFuture}). \nThis method is based on the empirical observation that the time average of regulation requests is almost zero~\\cite{Kempton2002V2G}, hence the adjustments from the initial plan remain small. \n\nOn the other hand, the aggregator between the ISO and EVs can be a retailer of regulation services, who first contracts with ISO, then outsources the service to EVs, by setting prices to sell/buy energy to/from EVs to carry out the service; EVs, based on their status and the prices offered by the aggregator, decide whether or not to participate and how much energy to provide or absorb.\nWu, Mohsenian-Rad, and Huang model the relation between the aggregator and EVs as Stackelberg game when providing frequency regulation~\\cite{Wu2012V2G} and wind power compensation~\\cite{Wu2012Wind}. They design a pricing mechanism to elicit EVs to voluntarily carry out the  services. Among the limitations, let us remark that users in~\\cite{Wu2012V2G,Wu2012Wind} are assumed homogenous, i.e., they have identical preferences.\nFor heterogenous users, a pricing design is provided by Gao~\\textit{et al.}~\\cite{Gao2013ContractRegulation}: heterogeneity lies in a willingness-to-pay parameter, indicating the users' possibly negative unit value (in monetary unit per kWh) \n\nfor (re)(dis)charging the battery. \nThis parameter, compared to the price provided by the aggregator, determines the decision of each EV: upon receiving the regulation power request from the ISO, the aggregator calculates the price so that just enough power from the group of EVs is chosen, taking into account that users are self-interested and rational.\nThe authors prove the existence of such an optimal price when the distribution of the user parameters follows a regular distribution~\\cite{Myerson1978Auction}. \nIf the aggregator knows this distribution, it can easily calculate the optimal price and broadcast it to users. Simulations show that the scheme leads to lower prices than~\\cite{Wu2012V2G}, hence benefiting the aggregator. When the willingness-to-pay parameter distribution is unknown, the aggregator can implement a learning algorithm to fix the optimal price, using interactions with EVs.\n\n\n\n\n\n\n\n\n\n\n\n\n\\subsection{V2G as storage for renewable energy}\n\\label{subsec:V2GStorage}\n\n\n\nWind farm and solar generation are vagary. \nThis plays as a barrier for renewable energy to be widely and efficiently used. \nIndeed, the day-ahead market requires reliable production, and mismatches between submitted bid and real-time injection are sanctioned. \nEVs, with their on-board batteries, can provide storage services through V2G technology, i.e., absorb the surplus and release it when necessary, to maintain a stable output level, or more specifically, to minimize the discrepancy between the real-time output and the day-ahead bidding. \nThis can greatly help the development of wind energy according to Kempton and Tomi{\\'c}'s calculations~\\cite{Kempton2005V2RenewableEnergy}, suggesting that V2G could stabilize large-scale (one-half of US electricity) wind power with 3\\% of the fleet dedicated to regulation for wind, plus 8-38\\% of the fleet providing operating reserves or storage for wind. \nIn terms of expenses, Budischak~\\textit{et al.}~\\cite{Kempton2013Wind} estimate that the electricity system can be powered 90\\% to 99.9\\% of the time entirely on renewable electricity, at costs comparable to today's, if we optimize the mix of generation and storage technologies including EV fleets.\n\n\n\nTo optimize generation and storage, one difficulty lies in providing incentives to attract enough EVs to temperately donate their batteries, and in designing schedules to make the best of them. \nVasirani~\\textit{et al.}~\\cite{Vasirani2013VPP} model a Virtual Power Plant (VPP) with EVs providing storage services, as shown in Figure~\\ref{fig:VPP}, where the reward to individual EVs is not monetary, but consists in free electricity, proportional to the storage it provides to the VPP.\n\\begin{figure}[htbp]\n   \\centering\n   \\includegraphics[width=4cm]{VPP.pdf} \n   \\caption{A virtual power plant, with energy flows.}\n   \\label{fig:VPP}\n\\end{figure}\nThe VPP bids in the day-ahead market on how much energy it is going to inject every hour for the next day. \nThese amounts are based on generation predictions, and take into account the storage system. \nDuring the next day, the VPP repeatedly searches for the optimal amount of energy to store in (or to withdraw from) EV batteries every hour, as the prediction gets more accurate over time. \nThe feasibility of this approach is confirmed through a realistic case-study, using real wind power generation data, corresponding electricity market prices and EVs' characteristics.\n\n\n\nXie~\\textit{et al.}~\\cite{Xie2012Wind} use a similar model to minimize the impact of wind farm production variations. \nThey compare two settings: in the first one EVs cooperate with the wind farm by allowing it to use their batteries as a buffer; in the second they just use their batteries to provide frequency regulation to the grid and make revenues, leaving the wind farm undergo the penalties inherent to production variations. \nNumerical results show that the penalty decrease imposed on the wind farm exceeds the decrease of regulation revenue received by the EVs, leaving a negotiation margin to benefit both sides.\n\n\n\n\n\n\n\n\n\n\n\n\n\nBefore summarizing the economic properties of the mechanisms proposed in the literature, we first stress the importance of communication systems on their implementation. Information enables decision making and optimization, this section focuses on the content of information exchanges and their frequency. \n\n\\subsection{Information exchanges}\nFor models that involve two types of actors (i.e., where aggregators and stations are not distinguished and can be referred to as energy vendors), Table~\\ref{tab:Info_EV_Agg} presents the main information exchanges that are necessary to implement the schemes described before. \n\\begin{table*}[htbp]\n\\caption{Information exchanges for charging schemes with two types of actors (EV and energy sellers)\n\n}\n\\label{tab:Info_EV_Agg}\n\\begin{center}\n\\begin{tabular}{cp{.35\\textwidth}p{.35\\textwidth}}\nReferences&EVs to Energy vendor&Energy vendor to EVs\\\\\n\n\\hline\n\\cite{Guo2014Rapid}&  &Estimated station availability and charging rate, traffic situation, location\\\\\n\\cite{Galus2008DSM}&Willingness-to-pay parameter&Energy allocation\\\\\n\\cite{Garzas2012StationSelection}\\dag&Charging request (multicast)&Price offers (multicast)\\\\\n\\cite{Maille2006Auctions}&Bids (set of pairs \\emph{unit price, quantity})&Energy allocation and price\\\\\n\\cite{Gerding2011MechanismDesign,Gerding2013Mechanism}&Willingness-to-pay vector or matrix&Energy allocation or reservation\\\\\n\\cite{Qin2011ChargingWaiting,Liu2014Routing}&Travel plan, speed, consumption rate, route&Charging plan ( to charge how much energy at which station and at what time)\\\\\n\n\\cite{Samadi2010DSM,Tushar2012Economics,Ardakanian2014DistributedControl}&$\\star$Energy demand value &$\\star$Price\\\\\n\\cite{Beaude2012ChargingGame,Rad2010DSM,Ma2013Valley,Gan2013OptimalProtocol}&$\\star$Energy demand vector over discretized time &$\\star$Pricing rule, exogenous load or aggregated load of competitors (this forms a penalty while EVs iterate)\\\\\n\n\\rowcolor{grey}\n\\cite{Han2010OptimalV2G}&Willingness to offer regulation (binary decision)&Capacity and energy prices\\\\\n\\rowcolor{grey}\n\\cite{Gao2013ContractRegulation,Wu2012V2G}&Regulation amount (amount of energy he would like to buy or sell)&Regulation electricity price\\\\\n\\rowcolor{grey}\n\\cite{Sortomme2011ChargingStrategies,Bessa2012Bidding}&Energy demand, charging rate limits, flexibility&Direct control (for regulation)\\\\\n\\end{tabular}\n\\end{center}\n\\end{table*}\nNote that in~\\cite{Garzas2012StationSelection} marked with a dagger, the energy vendors are charging stations competing on price to attract EVs; all other models consider a single aggregator as energy vendor, thus research on competition among energy sellers is not abundant. We also highlight that some mechanisms (marked with a star) involve a convergence phase, hence the need for repeated exchanges (with low latency to converge rapidly) before decisions can be made. Grayed cells indicate that regulation services are provided during the charging. References are ranked from the lightest communication burden to the heaviest one.\n\nSome algorithms consider 3 ``layers'' of actors, i.e. EV-Aggregator-ISO or EV-Aggregator-Stations (shown with a double dagger), with the information exchanged shown in Table~\\ref{tab:Info_Agg_ISO}. \nThe table does not include hardware-related information such as energy transfer efficiency or battery capacity, because they are not crucial for the economic performance of the schemes and often do not need frequent updating, hence have little impact on the communication system. \nRemark also that there can be a tradeoff between communicating and storing: for example in~\\cite{Sun2014RegulationAllocation}, the users' accumulating costs can be either sent at every time slot, or recorded with a corresponding user ID. Finally, note that not only information transmission requires communication: so does information retrieval, such as environmental information (wind speed, temperature) that affect energy generation and its forecasting, and user travel record that helps predicting their mobility. \n\n\n\n\n\n\n\n\n\n\n\n\\begin{table*}[htbp]\n\\caption{Information exchanges for charging schemes with a 3-layer system (the sequentiality of the exchanges differ among schemes)}\n\\label{tab:Info_Agg_ISO}\n\\begin{center}\n\\begin{tabular}{cp{.2\\textwidth}p{.2\\textwidth}p{.2\\textwidth}p{.2\\textwidth}}\nReferences&EVs to Aggregator&Aggregator to ISO (station\\ddag)&ISO (station\\ddag) to Aggregator&Aggregator to EVs\\\\\n\n\\hline\n\\cite{Galus2009EnergyNetworks}&Willingness-to-pay parameter& Total energy consumption & Load reduction signal if necessary &Energy allocation \\\\\n\\cite{Gerding2013Mechanism}\\ddag & Willingness-to-pay vector or matrix & User dispatch & Cost matrix & Energy allocation (reservation of a time slot at a station)\\\\\n\\cite{Leterme2014Wind} & SOC & Nothing & Wind generation, and forecasting error probability distribution & Charging power allocation \\\\\n\\rowcolor{grey}\n\\cite{Garzas2012FairDesign} &SOC, acceptable SOC interval, battery cost function & Regulation capacity & Regulation signal (amount and prices)& Regulation allocation\\\\\n\\rowcolor{grey}\n\\cite{Sun2013RegulationAllocation,Sun2014RegulationAllocation} & Utility and cost functions, SOC and accumulated costs & Nothing & Regulation signal (amount) & Regulation allocation\\\\\n\\rowcolor{grey}\n\\cite{Vasirani2013VPP,Xie2012Wind} & SOC cost function & Nothing & generation information, electricity price and/or penalty price &Regulation allocation\\\\\n\\end{tabular}\n\\end{center}\n\\end{table*}\n\n\n\n\\subsection{Time granularity}\n\nTable~\\ref{Time_Scale} proposes a classification of the approaches presented before, according to the time scale at which they operate. \nAlgorithms that update every few seconds are designed for immediate regulation allocation. Regulation requests are sent frequently thus allocations should be computed rapidly. On the other hand, systems reacting to events occurring over time such as supply variations or EV requests can be expected to run less frequently, say, once every few minutes on average. Algorithms running roughly every hour are evoked by the periodic revelation of new environment information such as renewable energy generation or regulation bidding. Long term planning such as day-ahead schedule is made upon precise forecast.\n\nNote that decision updates are driven by new information, so the table also shows the frequency of information exchanges in those algorithms. \n\n\\begin{table*}[htbp]\n\\caption{Time scale at which charging management operates}\n\\label{Time_Scale}\n\\begin{center}\n\\begin{tabular}{p{4cm}p{4cm}p{4cm}p{4cm}}\nWithin Seconds\t& Within minutes\t& Within one Hour\t& Day ahead\\\\\n\\hline\n\n\\cite{Sun2014RegulationAllocation,Wu2012V2G,Gao2013ContractRegulation}(Frequency regulation signal); \n\n&\n~\n\\cite{Guo2014Rapid} (Supply's variation)\n\\cite{Garzas2012FairDesign,Sun2013RegulationAllocation} (Regulation settlement every 5 min)\\cite{Galus2008DSM,Galus2009EnergyNetworks,Samadi2010DSM,Gerding2013Mechanism,Tushar2012Economics,Maille2006Auctions,Ardakanian2014DistributedControl,Garzas2012StationSelection}(The arrival of supply or EV)\n\n& \\tabincell{p{4cm}}{\n\\cite{Qin2011ChargingWaiting} (Charging reservation updating)\\\\\n\\cite{Gerding2011MechanismDesign} (Willingness-to-pay of newly arrived EVs)\\\\\n\\cite{Han2010OptimalV2G,Sortomme2011ChargingStrategies,Garzas2012FairDesign} (Hourly settlement of frequency regulation)\\\\\n\\cite{Leterme2014Wind,Vasirani2013VPP} (Dynamic forecast of wind generation)\\\\\n\n}\n\n&\n~\\cite{Rad2010DSM,Beaude2012ChargingGame,Ma2013Valley,Gan2013OptimalProtocol,Liu2014Routing,Bessa2012Bidding}(A plan for a whole day is made on priori knowledge of price or consumption);\n\\\\\n\\end{tabular}\n\\end{center}\n\\end{table*}\n\n\n\n\n\n\n\n\n\n\n\n\\section{Classification of approaches and research challenges}\n\\label{sec:Mechanism}\n\n\nWe summarize in Table~\\ref{tab:Aggregator} the economic approaches described in Section~\\ref{sec:Unidirectional charging} and Section~\\ref{sec:Bidirectional energy trading}.\nFirstly the models are classified into two categories, namely \\textit{static} and \\textit{dynamic} ones, defined in Subsection~\\ref{subsubsec:SharingFuture}. \n\nStatic models deal with an isolated time interval in which the performance is determined by actions taken during this time, and optimal actions can be found based on current state information. Contrarily, in a dynamic model where system information varies over time, actions should be updated based on state perturbations caused by such sequential revelations, leading to dynamic optimization methods~\\cite{Bertsekas2012dynamic,Puterman2014Markov} as illustrated in Figure~\\ref{fig:MDP}. As such, the static setting could be seen as a special case where the state is constant (but still depends on the action taken).\n\n\\begin{figure}[htbp]\n\\centering\n\n\n\n\\tikzstyle{reward}=[circle,\n                                    thick,\n                                    minimum size=1.1cm,\n                                    draw=purple!80,\n                                    fill=purple!20]\n\\tikzstyle{state}=[circle,\n                                    thick,\n                                    minimum size=1.1cm,\n                                    draw=blue!80,\n                                    fill=blue!20\n                                    ]\n\\tikzstyle{action}=[circle,\n                                    thick,\n                                    minimum size=1.1cm,\n                                    draw=orange!80,\n                                    fill=orange!25]\n\n\n\\tikzstyle{noise}=[circle,\n                                    thick,\n                                    minimum size=1.1cm,\n                                    draw=yellow!85!black,\n                                    fill=yellow!40,\n                                    decorate,\n                                    decoration={random steps,\n                                                            segment length=2pt,\n                                                            amplitude=2pt}]\n\n\n\\tikzstyle{background}=[rectangle,\n                                     fill=gray!10,\n                                     inner sep=0.05cm,\n                                     rounded corners=4mm]\n\n\\begin{tikzpicture}[>=latex,text height=1ex,text depth=0.25ex]\n    \n    \n  \n  \n  \\matrix[row sep=0.2cm,column sep=0cm] {\n        \n    \t&\n        \\node (r_t-1) [reward]{\\footnotesize{$\\mathbf{R}_{t-1}$}}; &\n        &\n        \\node (r_t)   [reward]{\\footnotesize{$\\mathbf{R}_t$}};     &\n        &\n        \\node (r_t+1) [reward]{\\footnotesize{$\\mathbf{R}_{t+1}$}}; &\n        \\\\\n        \n        &&\\node (a_t-1) [action] {\\footnotesize{$\\mathbf{A}_{t-1}$}}; &&\n        \\node (a_t)   [action] {\\footnotesize{$\\mathbf{A}_t$}};     &&\n        \\node (a_t+1) [action] {\\footnotesize{$\\mathbf{A}_{t+1}$}}; &&\n        \\\\\n        \n        \\node (s_t-2)         {\\footnotesize{$\\cdots$}};           &\n        \\node (s_t-1) [state] {\\footnotesize{$\\mathbf{S}_{t-1}$}}; &&\n        \\node (s_t)   [state] {\\footnotesize{$\\mathbf{S}_t$}};     &&\n        \\node (s_t+1) [state] {\\footnotesize{$\\mathbf{S}_{t+1}$}}; &\n        \\\\\n        \n        &\n        \\node (n_t-1) [noise] {\\footnotesize{$\\mathbf{I}_{t-1}$}}; &&\n        \\node (n_t)   [noise] {\\footnotesize{$\\mathbf{I}_t$}};&&\n        \\node (n_t+1) [noise] {\\footnotesize{$\\mathbf{I}_{t+1}$}};\n        ;\n        \\\\\n    };\n    \n    \n    \\path[->]\n        (s_t-2) edge[thick] (s_t-1)\n        (s_t-1) edge[thick] (s_t)\n        (s_t)   edge[thick] (s_t+1)\n        \n        (n_t-1) edge[thick] (s_t-1)\n        (n_t) edge[thick] (s_t)\n        (n_t+1) edge[thick] (s_t+1)\n\n        (s_t-1) edge (r_t-1)\n        (s_t)   edge (r_t)\n        (s_t+1) edge (r_t+1)\n        \n        (s_t-1) edge (a_t-1)\n        (s_t)   edge (a_t)\n        (s_t+1) edge (a_t+1)\n        \n        (a_t-1) edge (r_t-1)\n        (a_t) edge (r_t)\n        (a_t+1) edge (r_t+1)\n        \n        (a_t-1) edge (s_t)\n        (a_t) edge (s_t+1)\n        ;\n    \n    \n    \n    \n    \n    \n    \n    \\tikzstyle{backgroundstatic}=[rectangle,\n                                     fill=gray!40,\n                                     inner sep=0.05cm,\n                                     rounded corners=4mm]\n    \\begin{pgfonlayer}{background}\n        \\node [background,\n                    fit=(r_t-1) (r_t+1),\n                    label=left:\\footnotesize{Objective:}] {};\n        \\node [background,\n                    fit=(a_t-1) (a_t+1),\n                    label=left:\\footnotesize{Action:\\hspace{2cm}~}] {};\n        \\node [background,\n                    fit=(s_t-2) (s_t+1),\n                    label=left:\\footnotesize{Syst. State:}] {};\n        \\node [background,\n                    fit=(n_t-1) (n_t+1),\n                    label=left:\\footnotesize{Syst. Inf.:}] {};\n        \\node [backgroundstatic,\n        \t\t   fit=(r_t) (a_t) (n_t),\n\t\t   label=above:\\footnotesize{\\begin{tabular}{c}Static setting\\\\($\\mathbf{S}_t=\\mathbf{S}_{t+1}$)\\end{tabular}}] {};\n    \\end{pgfonlayer}\n\\end{tikzpicture}\\caption{Dynamic problem setting}\\label{fig:MDP}\n\\end{figure}\n\nWe then distinguish the ways decision-makers interact: \\emph{optimization-based approaches} correspond to the cases where one central controller imposes his decisions about allocations and/or prices, and is not influenced by any other actor's actions. \nIdeally, such a central controller has access to all the information needed, thus the management problem reduces to a classical optimization problem: the room for research is therefore\n\\begin{itemize}\n\\item for static models, in improving the optimization methods in terms of computational efficiency and/or approximation of the optimum;\n\\item for dynamic models, in increasing the prediction accuracy and designing algorithms that are robust to unpredictable residuals.\n\\end{itemize}\n\n\n\n\n\nIn contrast, \\emph{game-theoretic approaches} refer to the cases where interactions among several rational actors are considered: even if resources are still dispatched by a central controller, the allocations are affected by other actors' selfish behaviors (e.g., bids sent by EVs). \nHere, static problems already lead to complex models, and even for those approaches, analytical proofs of incentive-compatibility are only valid for some very specific utility functions. While the need seems to be for incentive compatible mechanisms in dynamic settings, designing such schemes is still an open research question in many cases. The difficulty often lies in the evolution of knowledge and beliefs (and thus actions) of actors over time, since the actions taken partly reveal one's private information; analyzing the equilibria of such games is extremely complex.\n\nThe last main criterion is related to the implementation type of the schemes: \\textit{revelation schemes} imply that actors have to exchange information (such as the willingness-to-pay), and can choose strategically what to reveal, hence the importance of properties such as incentive compatibility. On the opposite, \\textit{t\\^atonnement schemes} involve a convergence of allocations (and often prices) through iterative methods.\n\n\nA key aspect in several t\\^atonnement-based mechanisms is the convergence of the method: here the limits we found are in the convergence speed (especially in dynamic settings: do prices and allocations have time to converge before the setting changes, say, before another EV arrives?). This is barely addressed in the literature, where in addition convergence is only established for some specific types of utility functions, which need validation.\n\n\n\n\n\n\n\n\n\nThe classification highlights the need for game-theoretic models in dynamic settings. While it is extremely difficult to design incentive-compatible schemes in dynamic settings, it seems capital to us to develop game-theoretic approaches, even if based on t\\^atonnement schemes. \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\\begin{table*}[htbp]\n\\caption{A classification of economic schemes for EV charging. A diamond mark indicates papers considering PHEVs (which can use fossile fuel) rather than BEVs (which can only use the electric energy stored in their battery).}\n\\begin{center}\n\\begin{tabular}{|l|l|l|l|}\n\\hline\n\t  \t&Optimization-based approaches\t&\t\t\t&Game-theoretic approaches\\\\\n\\hline\n\\multirow{2}{*}{Static}\t\n\t\t&\\multirow{2}{*}{\\tabular{p{6cm}}\n\t\t\\cite{Galus2009EnergyNetworks}\\PHEV{}\\\\\n\t\tHeuristic demand curtailment per slot\\\\\n\t\t\\cite{Bessa2012Bidding,Franco2015MILP}\\cite{Hutson2008Intelligent}\\PHEV{}\\cite{Yang2014Taxi}\\PHEV{}\n\t\tOptimization made on prediction of unknown future parameters\\\\\n\t\t\\cite{Garzas2012FairDesign}\\\\\n\t\tFair allocation of regulation per slot\\\\\n\t\t\n\t\t\n\t\t\\endtabular}\n\t\t\t\t\t\t\t\t\t&\\tabular{l}\n\t\t\t\t\t\t\t\t\tRevelation\\\\ \n\t\t\t\t\t\t\t\t\tschemes\n\t\t\t\t\t\t\t\t\t\\endtabular\n\t\t\t\t\t\t\t\t\t\t\t\t&\\tabular{p{6cm}}\n\t\t\t\t\t\t\t\t\t\t\t\t\\cite{Galus2008DSM}\\PHEV\\\\\n\t\t\t\t\t\t\t\t\t\t\t\tAuction based on willingness-to-pay, incentive compatibility assumed\\\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\cite{Maille2006Auctions}\n\t\t\t\t\t\t\t\t\t\t\t\t\\\\Auction based on willingness-to-pay, incentive compatiblility proved\n\t\t\t\t\t\t\t\t\t\t\t\t\\endtabular\n\t\t\t\t\t\t\t\t\t\t\t\t\\\\\n\\cline{3-4}&\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t&\\tabular{l}\n\t\t\t\t\t\t\t\t\tT\\^atonnement\\\\ \n\t\t\t\t\t\t\t\t\tschemes\n\t\t\t\t\t\t\t\t\t\\endtabular\n\t\t\t\t\t\t\t\t\t\t\t\t&\\tabular{p{6cm}}\n\\cite{Gan2013OptimalProtocol,Ardakanian2014DistributedControl,Samadi2010DSM,Tushar2012Economics,Rad2010DSM,Beaude2012ChargingGame,Hu2014Congestion,Hu2015CongestionNetwork},\n\\cite{Ma2013Valley}\\PHEV{}\\\\\n\t\t\t\t\t\t\t\t\t\t\t\tStackelberg game between aggregator and EVs, leader is not omniscient (i.e. unaware of user utility function)\\\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\cite{Garzas2012StationSelection}\\\\\n\t\t\t\t\t\t\t\t\t\t\t\tOligopoly game among charging stations\\\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\endtabular\n\t\t\t\t\t\t\t\t\t\t\t\t\\\\\n\\hline\n\n\\multirow{2}{*}{Dynamic}\n\t\t&\\multirow{2}{*}{\\tabular{p{6cm}}\n\t\t\\cite{Liang2012V2GStorage}\\PHEV,~\\cite{Liang2013EnergyDelivery}\\PHEV\\\\\n\t\tEV mobility is modeled as a Markov chain\\\\\n\t\t\\cite{Sortomme2011ChargingStrategies,Vasirani2013VPP,Xie2012Wind},~\\cite{Leterme2014Wind}\\PHEV\\\\\n\t\tForecast accuracies increase as time approaching\\\\\n\t\t\\cite{Qin2011ChargingWaiting,Han2010OptimalV2G,Binetti2015SRTG}\\\\\n\t\tDynamically relaunch a static algorithm\\\\\n\t\t\\\\\n\t\t\\endtabular}\n\t\t\t\t\t\t\t\t\t&\\tabular{l}\n\t\t\t\t\t\t\t\t\tRevelation\\\\ \n\t\t\t\t\t\t\t\t\tschemes\n\t\t\t\t\t\t\t\t\t\\endtabular\t\n\n\t\t\t\t\t\t\t\t\t\t\t\t&\\tabular{p{6cm}}\n\t\t\t\t\t\t\t\t\t\t\t\t\\cite{Gerding2011MechanismDesign}\\\\\n\t\t\t\t\t\t\t\t\t\t\t\tIncentive compatible for dynamically arriving clients.\n\t\t\t\t\t\t\t\t\t\t\t\t\\endtabular \n\t\t\t\t\t\t\t\t\t\t\t\t\\\\\n\\cline{3-4}&\n\t\t\t\t\t\t\t\t\t&\\tabular{l}\n\t\t\t\t\t\t\t\t\tT\\^atonnement\\\\ \n\t\t\t\t\t\t\t\t\tschemes\n\t\t\t\t\t\t\t\t\t\\endtabular\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t&\\tabular{p{6cm}}\n\t\t\t\t\t\t\t\t\t\t\t\t\\cite{Guo2014Rapid}\\\\\n\t\t\t\t\t\t\t\t\t\t\t\tDynamically relaunch a static algorithm\\\\\n\t\t\t\t\t\t\t\t\t\t\t\t\\cite{Gerding2013Mechanism,Gao2013ContractRegulation}\\\\\n\t\t\t\t\t\t\t\t\t\t\t\tSellers learn users' willingness-to-pay dynamically\n\t\t\t\t\t\t\t\t\t\t\t\t\\endtabular\n\t\t\t\t\t\t\t\t\t\t\t\t\\\\\n\n\\hline\t\t\n\\end{tabular}\n\\end{center}\n\\label{tab:Aggregator}\n\\end{table*}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\\section{Conclusion}\n\n\\label{sec:Conclusion}\n\nElectric vehicles, in addition to the prospect of being wholly driven by renewable energy, are not only energy-efficient but also cost-efficient~\\cite{Dickerman2010IntroEV}, and emit less greenhouse gas than fossil-fuel based transportation. The main risk they incur comes from the negative impacts they may have on the grid, mostly caused by uncontrolled recharging superimposing on other loads, which exacerbates the grid aging. Coordinating recharging and/or discharging not only alleviates those negative effects, but can also help improve the grid by participating to services such as frequency regulation and energy storage for (intermittent) renewable energy generation. These opportunities can be realized in the Smart Grid realm, so EVs and Smart Grid are mutually reinforcing.  \nFrom the EV owner's point of view, organized recharging and discharging offer the possibility to reduce energy costs or even generate profits.\n\n\nThis paper surveys the charging managements schemes of the literature, with a focus on economy-driven mechanisms. The proposed models, often based on optimization and/or game-theory tools, range from the simple sharing of a given energy amount among several customers (a classical problem) to more complex settings covering aspects such as uncertainty about future events, user mobility constraints, charging station positions, and new grid services like regulation. While some interesting mechanisms have been proposed, and perform well on simulation scenarios, we observed a quite limited amount of analytical results due to the increasing complexity of the settings (large number of actors, specific constraints of distribution networks and EV batteries) and the economic constraints (nonalignment of actors' objectives). Hence we think that further research is needed to better understand the key principles to apply when designing charging management schemes.\n\nThe present survey highlights the potential of V2G technology to benefit both EV owners and the grid operator, but also the difficulty of distributing those gains to EV owners to incentivize them to cooperate with the grid operator. \n\nFrom the literature review, we witness that management of EV charging processes in smart grids has attracted researchers from diverse domains, and we envision more effort will be devoted to this topic. Several research perspectives are promising from our point of view. Firstly, we consider the trend is pointing at Microgrids~\\cite{Soshinskaya2014Microgrids}, which are systems with multiple distributed generators and consumers that can switch between Island mode and connected mode: the presence of EVs is likely to increase the autonomy of such systems. Another research perspective regards the charging management of fleets of EVs, from a fleet owner perspective. For example, with the technology of driverless cars getting matured, driverless taxi fleet may emerge, offering new possibilities for charging (and service providing) management. \n\nElectric vehicles is an extremely fast-developing field. Technology innovations can reform charging management schemes, for example the roadbed infrastructure would enable charging in motion, which would greatly reduce the reliance on battery capacity and change the understanding (and modeling) of ``plug-in\" time.  Economic models for such scenarios are still to be defined. \n\n\n\n\\begin{thebibliography}{10}\n\\providecommand{\\url}[1]{#1}\n\\csname url@samestyle\\endcsname\n\\providecommand{\\newblock}{\\relax}\n\\providecommand{\\bibinfo}[2]{#2}\n\\providecommand{\\BIBentrySTDinterwordspacing}{\\spaceskip=0pt\\relax}\n\\providecommand{\\BIBentryALTinterwordstretchfactor}{4}\n\\providecommand{\\BIBentryALTinterwordspacing}{\\spaceskip=\\fontdimen2\\font plus\n\\BIBentryALTinterwordstretchfactor\\fontdimen3\\font minus\n  \\fontdimen4\\font\\relax}\n\\providecommand{\\BIBforeignlanguage}[2]{{\n\\expandafter\\ifx\\csname l@#1\\endcsname\\relax\n\\typeout{** WARNING: IEEEtran.bst: No hyphenation pattern has been}\n\\typeout{** loaded for the language `#1'. Using the pattern for}\n\\typeout{** the default language instead.}\n\\else\n\\language=\\csname l@#1\\endcsname\n\\fi\n#2}}\n\\providecommand{\\BIBdecl}{\\relax}\n\\BIBdecl\n\n\\bibitem{Dickerman2010IntroEV}\nL.~Dickerman and J.~Harrison, ``A new car, a new grid,'' \\emph{IEEE Power\n  Energy Mag.}, vol.~8, no.~2, pp. 55--61, 2010.\n\n\\bibitem{Balram2012Impact}\nP.~Balram, T.~Le~Anh, and L.~Bertling~Tjernberg, ``Effects of plug-in electric\n  vehicle charge scheduling on the day-ahead electricity market price,'' in\n  \\emph{IEEE PES International Conference and Exhibition on Innovative Smart\n  Grid Technologies (ISGT Europe)}, Oct. 2012, pp. 1--8.\n\n\\bibitem{Foley2013Impact}\nA.~Foley, B.~Tyther, P.~Calnan, and B.~{\\'O}. Gallach{\\'o}ir, ``Impacts of\n  electric vehicle charging under electricity market operations,''\n  \\emph{Applied Energy}, vol. 101, pp. 93--102, 2013.\n\n\\bibitem{Green2011ImpactReview}\nR.~C. Green, L.~Wang, and M.~Alam, ``The impact of plug-in hybrid electric\n  vehicles on distribution networks: A review and outlook,'' \\emph{Renewable\n  and Sustainable Energy Reviews}, vol.~15, no.~1, pp. 544--553, 2011.\n\n\\bibitem{Shafiee2013Impact}\nS.~Shafiee, M.~Fotuhi-Firuzabad, and M.~Rastegar, ``Investigating the impacts\n  of plug-in hybrid electric vehicles on power distribution systems,''\n  \\emph{IEEE Trans. Smart Grid}, vol.~4, no.~3, pp. 1351--1360, 2013.\n\n\\bibitem{Dow2010Impact}\nL.~Dow, M.~Marshall, L.~Xu, J.~Aguero, and H.~Willis, ``A novel approach for\n  evaluating the impact of electric vehicles on the power distribution\n  system,'' in \\emph{IEEE Power and Energy Society General Meeting}, July 2010,\n  pp. 1--6.\n\n\\bibitem{fudenberg1991game}\nD.~Fudenberg and J.~Tirole, \\emph{Game Theory}.\\hskip 1em plus 0.5em minus\n  0.4em\\relax MIT Press, Cambridge, Massachusetts, 1991.\n\n\\bibitem{Osborne1994course}\nM.~J. Osborne and A.~Rubinstein, \\emph{A Course in Game Theory}.\\hskip 1em plus\n  0.5em minus 0.4em\\relax MIT Press, 1994.\n\n\\bibitem{Fan2013SGCommunications}\nZ.~Fan, P.~Kulkarni, S.~Gormus, C.~Efthymiou, G.~Kalogridis, M.~Sooriyabandara,\n  Z.~Zhu, S.~Lambotharan, and W.~H. Chin, ``Smart grid communications: Overview\n  of research challenges, solutions, and standardization activities,''\n  \\emph{Commun. Surveys Tuts.}, vol.~15, no.~1, pp. 21--38, First Quarter 2013.\n\n\\bibitem{Yan2013SGCommunications}\nY.~Yan, Y.~Qian, H.~Sharif, and D.~Tipper, ``A survey on smart grid\n  communication infrastructures: Motivations, requirements and challenges,''\n  \\emph{Commun. Surveys Tuts.}, vol.~15, no.~1, pp. 5--20, First Quarter 2013.\n\n\\bibitem{Alsabaan2013VehicularCommun}\nM.~Alsabaan, W.~Alasmary, A.~Albasir, and K.~Naik, ``Vehicular networks for a\n  greener environment: A survey,'' \\emph{Commun. Surveys Tuts.}, vol.~15,\n  no.~3, pp. 1372--1388, Third Quarter 2013.\n\n\\bibitem{Yilmaz2012ChargingReview}\nM.~Yilmaz and P.~Krein, ``Review of integrated charging methods for plug-in\n  electric and hybrid vehicles,'' in \\emph{IEEE International Conference on\n  Vehicular Electronics and Safety (ICVES)}, 2012, pp. 346--351.\n\n\\bibitem{Yilmaz2013Charging}\n------, ``Review of battery charger topologies, charging power levels, and\n  infrastructure for plug-in electric and hybrid vehicles,'' \\emph{IEEE Trans.\n  Power Electron.}, vol.~28, no.~5, pp. 2151--2169, May 2013.\n\n\\bibitem{Wu2011InductiveCharging}\nH.~Wu, A.~Gilchrist, K.~Sealy, P.~Israelsen, and J.~Muhs, ``A review on\n  inductive charging for electric vehicles,'' in \\emph{IEEE International\n  Electric Machines and Drives Conference (IEMDC)}, 2011, pp. 143--147.\n\n\\bibitem{Khaligh2012Charging}\nA.~Khaligh and S.~Dusmez, ``Comprehensive topological analysis of conductive\n  and inductive charging solutions for plug-in electric vehicles,'' \\emph{IEEE\n  Trans. Veh. Technol.}, vol.~61, no.~8, pp. 3475--3489, Oct. 2012.\n\n\\bibitem{Shin2012OLEV}\nJ.~Shin, B.~Song, S.~Lee, S.~Shin, Y.~Kim, G.~Jung, and S.~Jeon, ``Contactless\n  power transfer systems for on-line electric vehicle ({OLEV}),'' in \\emph{IEEE\n  International Electric Vehicle Conference (IEVC)}, Mar. 2012, pp. 1--4.\n\n\\bibitem{Lukic2013Inductive}\nS.~Lukic and Z.~Pantic, ``Cutting the cord: Static and dynamic inductive\n  wireless charging of electric vehicles,'' \\emph{IEEE Electrific. Mag.},\n  vol.~1, no.~1, pp. 57--64, Sept. 2013.\n\n\\bibitem{Mohrehkesh2011Wireless}\nS.~Mohrehkesh and T.~Nadeem, ``Toward a wireless charging for battery electric\n  vehicles at traffic intersections,'' in \\emph{14th International IEEE\n  Conference on Intelligent Transportation Systems (ITSC)}, Oct. 2011, pp.\n  113--118.\n\n\\bibitem{Lee2010OLEV}\nS.~Lee, J.~Huh, C.~Park, N.-S. Choi, G.-H. Cho, and C.-T. Rim, ``On-line\n  electric vehicle using inductive power transfer system,'' in \\emph{IEEE\n  Energy Conversion Congress and Exposition ({ECCE})}, Sept. 2010, pp.\n  1598--1601.\n\n\\bibitem{DefTSO}\n{European Parliament and Council of the European Union}, ``{Directive\n  2009/72/EC of the European Parliament and of the Council},'' \\emph{Official\n  Journal of the European Union}, July 2009.\n\n\\bibitem{DefISO}\n{Federal Energy Regulatory Commission}, \\emph{Docket No. RM99-2-000; Order No.\n  2000}, Federal Energy Regulatory Commission, Dec. 1999.\n\n\\bibitem{fudenberg1998theory}\nD.~Fudenberg, \\emph{The theory of learning in games}.\\hskip 1em plus 0.5em\n  minus 0.4em\\relax MIT Press, 1998.\n\n\\bibitem{mankiw2014principles}\nN.~G. Mankiw, \\emph{Principles of Microeconomics}, 7th~ed.\\hskip 1em plus 0.5em\n  minus 0.4em\\relax South-Western College Pub, 2014.\n\n\\bibitem{Gkatzikis2013role}\nL.~Gkatzikis, I.~Koutsopoulos, and T.~Salonidis, ``The role of aggregators in\n  smart grid demand response markets,'' \\emph{IEEE Journal on Selected Areas in\n  Communications}, vol.~31, no.~7, pp. 1247--1257, 2013.\n\n\\bibitem{Galus2008DSM}\nM.~D. Galus and G.~Andersson, ``Demand management of grid connected plug-in\n  hybrid electric vehicles ({PHEV}),'' in \\emph{Proc. of IEEE Energy 2030\n  Conference}, 2008, pp. 1--8.\n\n\\bibitem{Galus2009EnergyNetworks}\n------, ``Integration of plug-in hybrid electric vehicles into energy\n  networks,'' in \\emph{IEEE Bucharest Power Tech Conference}, June 2009, pp.\n  1--8.\n\n\\bibitem{Samadi2010DSM}\nP.~Samadi, A.-H. Mohsenian-Rad, R.~Schober, V.~Wong, and J.~Jatskevich,\n  ``Optimal real-time pricing algorithm based on utility maximization for smart\n  grid,'' in \\emph{IEEE International Conference on Smart Grid Communications\n  (SmartGridComm)}, 2010, pp. 415--420.\n\n\\bibitem{Tushar2012Economics}\nW.~Tushar, W.~Saad, H.~Poor, and D.~Smith, ``Economics of electric vehicle\n  charging: A game theoretic approach,'' \\emph{IEEE Trans. Smart Grid}, vol.~3,\n  no.~4, pp. 1767--1778, 2012.\n\n\\bibitem{Maille2006Auctions}\nP.~Maill\\'e and B.~Tuffin, ``Pricing the internet with multibid auctions,''\n  \\emph{IEEE/ACM Trans. Netw.}, vol.~14, no.~5, pp. 992--1004, Oct. 2006.\n\n\\bibitem{Ardakanian2014DistributedControl}\nO.~Ardakanian, S.~Keshav, and C.~Rosenberg, ``Real-time distributed control for\n  smart electric vehicle chargers: From a static to a dynamic study,''\n  \\emph{IEEE Trans. Smart Grid}, vol.~5, no.~5, pp. 2295--2305, Sept. 2014.\n\n\\bibitem{Qin2011ChargingWaiting}\nH.~Qin and W.~Zhang, ``Charging scheduling with minimal waiting in a network of\n  electric vehicles and charging stations,'' in \\emph{Proc. of the 8th ACM\n  International Workshop on Vehicular Inter-networking}, 2011, pp. 51--60.\n\n\\bibitem{Guo2014Rapid}\nQ.~Guo, S.~Xin, H.~Sun, Z.~Li, and B.~Zhang, ``Rapid-charging navigation of\n  electric vehicles based on real-time power systems and traffic data,''\n  \\emph{IEEE Trans. Smart Grid}, vol.~5, no.~4, pp. 1969--1979, July 2014.\n\n\\bibitem{Liu2014Routing}\nC.~Liu, J.~Wu, and C.~Long, ``Joint charging and routing optimization for\n  electric vehicle navigation systems,'' in \\emph{International Federation of\n  Automatic Control}, Aug. 2014.\n\n\\bibitem{Hu2014Congestion}\nJ.~Hu, S.~You, M.~Lind, and J.~Ostergaard, ``Coordinated charging of electric\n  vehicles for congestion prevention in the distribution grid,'' \\emph{IEEE\n  Trans. Smart Grid}, vol.~5, no.~2, pp. 703--711, Mar. 2014.\n\n\\bibitem{Hu2015CongestionNetwork}\nJ.~Hu, G.~Yang, and H.~Bindner, ``Network constrained transactive control for\n  electric vehicles integration,'' in \\emph{IEEE Power Energy Society General\n  Meeting}, July 2015, pp. 1--5.\n\n\\bibitem{Franco2015MILP}\nJ.~Franco, M.~Rider, and R.~Romero, ``A mixed-integer linear programming model\n  for the electric vehicle charging coordination problem in unbalanced\n  electrical distribution systems,'' \\emph{IEEE Trans. Smart Grid}, vol.~6,\n  no.~5, pp. 2200--2210, Sept. 2015.\n\n\\bibitem{Beaude2012ChargingGame}\nO.~Beaude, S.~Lasaulce, and M.~Hennebel, ``Charging games in networks of\n  electrical vehicles,'' in \\emph{6th International Conference on Network\n  Games, Control and Optimization (NetGCooP)}, 2012, pp. 96--103.\n\n\\bibitem{Rad2010DSM}\nA.-H. Mohsenian-Rad, V.~Wong, J.~Jatskevich, R.~Schober, and A.~Leon-Garcia,\n  ``Autonomous demand-side management based on game-theoretic energy\n  consumption scheduling for the future smart grid,'' \\emph{IEEE Trans. Smart\n  Grid}, vol.~1, no.~3, pp. 320--331, 2010.\n\n\\bibitem{Ma2013Valley}\nZ.~Ma, D.~Callaway, and I.~Hiskens, ``Decentralized charging control of large\n  populations of plug-in electric vehicles,'' \\emph{IEEE Trans. Control Syst.\n  Technol.}, vol.~21, no.~1, pp. 67--78, Jan. 2013.\n\n\\bibitem{Gan2013OptimalProtocol}\nL.~Gan, U.~Topcu, and S.~Low, ``Optimal decentralized protocol for electric\n  vehicle charging,'' \\emph{IEEE Trans. Power Syst.}, vol.~28, no.~2, pp.\n  940--951, May 2013.\n\n\\bibitem{Sortomme2011ChargingStrategies}\nE.~Sortomme and M.~El-Sharkawi, ``Optimal charging strategies for\n  unidirectional {Vehicle-to-Grid},'' \\emph{IEEE Trans. Smart Grid}, vol.~2,\n  no.~1, pp. 131--138, 2011.\n\n\\bibitem{Bessa2012Bidding}\nR.~Bessa, M.~Matos, F.~Soares, and J.~Lopes, ``Optimized bidding of a {EV}\n  aggregation agent in the electricity market,'' \\emph{IEEE Trans. Smart Grid},\n  vol.~3, no.~1, pp. 443--452, Mar. 2012.\n\n\\bibitem{Leterme2014Wind}\nW.~Leterme, F.~Ruelens, B.~Claessens, and R.~Belmans, ``A flexible stochastic\n  optimization method for wind power balancing with {PHEV}s,'' \\emph{IEEE\n  Trans. Smart Grid}, vol.~5, no.~3, pp. 1238--1245, May 2014.\n\n\\bibitem{Vasirani2013VPP}\nM.~Vasirani, R.~Kota, R.~Cavalcante, S.~Ossowski, and N.~Jennings, ``An\n  agent-based approach to virtual power plants of wind power generators and\n  electric vehicles,'' \\emph{IEEE Trans. Smart Grid}, vol.~4, no.~3, pp.\n  1314--1322, Sept. 2013.\n\n\\bibitem{Xie2012Wind}\nL.~Xie, Y.~Gu, A.~Eskandari, and M.~Ehsani, ``Fast {MPC}-based coordination of\n  wind power and battery energy storage systems,'' \\emph{Journal of Energy\n  Engineering}, vol. 138, no.~2, pp. 43--53, 2012.\n\n\\bibitem{Binetti2015SRTG}\nG.~Binetti, A.~Davoudi, D.~Naso, B.~Turchiano, and F.~Lewis, ``Scalable\n  real-time electric vehicles charging with discrete charging rates,''\n  \\emph{IEEE Trans. Smart Grid}, vol.~6, no.~5, pp. 2211--2220, Sept. 2015.\n\n\\bibitem{Conejo2010DRM}\nA.~Conejo, J.~Morales, and L.~Baringo, ``Real-time demand response model,''\n  \\emph{IEEE Trans. Smart Grid}, vol.~1, no.~3, pp. 236--242, 2010.\n\n\\bibitem{Hutson2008Intelligent}\nC.~Hutson, G.~Venayagamoorthy, and K.~Corzine, ``Intelligent scheduling of\n  hybrid and electric vehicle storage capacity in a parking lot for profit\n  maximization in grid power transactions,'' in \\emph{IEEE Energy 2030\n  Conference}, 2008, pp. 1--8.\n\n\\bibitem{Liang2012V2GStorage}\nH.~Liang, B.~J. Choi, W.~Zhuang, and X.~Shen, ``Towards optimal energy\n  store-carry-and-deliver for {PHEV}s via {V2G} system,'' in \\emph{Proc. IEEE\n  INFOCOM}, 2012, pp. 1674--1682.\n\n\\bibitem{Han2010OptimalV2G}\nS.~Han, S.~Han, and K.~Sezaki, ``Development of an optimal {Vehicle-to-Grid}\n  aggregator for frequency regulation,'' \\emph{IEEE Trans. Smart Grid}, vol.~1,\n  no.~1, pp. 65--72, 2010.\n\n\\bibitem{Liang2013EnergyDelivery}\nH.~Liang, B.~J. Choi, W.~Zhuang, and X.~Shen, ``Optimizing the energy delivery\n  via {V2G} systems based on stochastic inventory theory,'' \\emph{IEEE Trans.\n  Smart Grid}, vol.~4, no.~4, pp. 2230--2243, Dec. 2013.\n\n\\bibitem{Yang2014Taxi}\nZ.~Yang, L.~Sun, M.~Ke, Z.~Shi, and J.~Chen, ``Optimal charging strategy for\n  plug-in electric taxi with time-varying profits,'' \\emph{IEEE Trans. Smart\n  Grid}, vol.~5, no.~6, pp. 2787--2797, Nov. 2014.\n\n\\bibitem{Quinn2010V2G}\nC.~Quinn, D.~Zimmerle, and T.~H. Bradley, ``The effect of communication\n  architecture on the availability, reliability, and economics of plug-in\n  hybrid electric vehicle-to-grid ancillary services,'' \\emph{J. Power\n  Sources}, vol. 195, no.~5, pp. 1500--1509, 2010.\n\n\\bibitem{Kamboj2010V2G}\nS.~Kamboj, K.~Decker, K.~Trnka, N.~Pearre, C.~Kern, and W.~Kempton, ``Exploring\n  the formation of electric vehicle coalitions for vehicle-to-grid power\n  regulation,'' in \\emph{AAMAS workshop on agent technologies for energy\n  systems (ATES)}, 2010, pp. 1--8.\n\n\\bibitem{Kamboj2011VandE}\nS.~Kamboj, W.~Kempton, and K.~S. Decker, ``Deploying power grid-integrated\n  electric vehicles as a multi-agent system,'' in \\emph{Proc. of The 10th\n  International Conference on Autonomous Agents and Multiagent Systems\n  (AAMAS)}, 2011, pp. 13--20.\n\n\\bibitem{Garzas2012FairDesign}\nJ.~Escudero-Garzas, A.~Garcia-Armada, and G.~Seco-Granados, ``Fair design of\n  plug-in electric vehicles aggregator for {V2G} regulation,'' \\emph{IEEE\n  Trans. Veh. Technol.}, vol.~61, no.~8, pp. 3406--3419, 2012.\n\n\\bibitem{Sun2013RegulationAllocation}\nS.~Sun, M.~Dong, and B.~Liang, ``Real-time welfare-maximizing regulation\n  allocation in aggregator-{EV}s systems,'' in \\emph{IEEE Conference on\n  Computer Communications Workshops}, Apr. 2013, pp. 13--18.\n\n\\bibitem{Sun2014RegulationAllocation}\n------, ``Real-time welfare-maximizing regulation allocation in dynamic\n  aggregator-{EVs} system,'' \\emph{IEEE Trans. Smart Grid}, vol.~5, no.~3, pp.\n  1397--1409, May 2014.\n\n\\bibitem{Wu2012V2G}\nC.~Wu, H.~Mohsenian-Rad, and J.~Huang, ``Vehicle-to-aggregator interaction\n  game,'' \\emph{IEEE Trans. Smart Grid}, vol.~3, no.~1, pp. 434--442, 2012.\n\n\\bibitem{Wu2012Wind}\n------, ``{PEV}-based reactive power compensation for wind {DG} units: A\n  {Stackelberg} game approach,'' in \\emph{IEEE International Conference on\n  Smart Grid Communications (SmartGridComm)}, 2012, pp. 504--509.\n\n\\bibitem{Gao2013ContractRegulation}\nY.~Gao, Y.~Chen, C.-Y. Wang, and K.~Liu, ``A contract-based approach for\n  ancillary services in {V2G} networks: Optimality and learning,'' in\n  \\emph{Proc. IEEE INFOCOM}, Apr. 2013, pp. 1151--1159.\n\n\\bibitem{Gerding2011MechanismDesign}\nE.~H. Gerding, V.~Robu, S.~Stein, D.~C. Parkes, A.~Rogers, and N.~R. Jennings,\n  ``Online mechanism design for electric vehicle charging,'' in \\emph{Proc. of\n  The 10th International Conference on Autonomous Agents and Multiagent Systems\n  (AAMAS)}, 2011, pp. 811--818.\n\n\\bibitem{Gerding2013Mechanism}\nE.~H. Gerding, S.~Stein, V.~Robu, D.~Zhao, and N.~R. Jennings, ``Two-sided\n  online markets for electric vehicle charging,'' in \\emph{Proc. of the 12th\n  International conference on Autonomous Agents and Multiagent Systems\n  (AAMAS)}, 2013, pp. 989--996.\n\n\\bibitem{Garzas2012StationSelection}\nJ.~Escudero-Garzas and G.~Seco-Granados, ``Charging station selection\n  optimization for plug-in electric vehicles: An oligopolistic game-theoretic\n  framework,'' in \\emph{IEEE PES Innovative Smart Grid Technologies (ISGT)},\n  2012, pp. 1--8.\n\n\\bibitem{vickrey1961counterspeculation}\nW.~Vickrey, ``Counterspeculation, auctions, and competitive sealed tenders,''\n  \\emph{Journal of Finance}, vol.~16, no.~1, pp. 8--37, Mar. 1961.\n\n\\bibitem{clarke1971multipart}\nE.~H. Clarke, ``Multipart pricing of public goods,'' \\emph{Public Choice},\n  vol.~11, pp. 17--33, 1971.\n\n\\bibitem{groves1973incentives}\nT.~Groves, ``Incentives in teams,'' \\emph{Econometrica}, vol.~41, no.~3, pp.\n  617--631, July 1973.\n\n\\bibitem{KELLYF1997fair}\nF.~Kelly, ``Charging and rate control for elastic traffic,'' \\emph{European\n  Transactions on Telecommunications}, vol.~8, no.~1, pp. 33--37, 1997.\n\n\\bibitem{kelly1998rate}\nF.~P. Kelly, A.~K. Maulloo, and D.~K.~H. Tan, ``Rate control in communication\n  networks: Shadow prices, proportional fairness and stability,'' \\emph{Journal\n  of the Operational Research Society}, vol.~49, pp. 237--252, 1998.\n\n\\bibitem{monderer1996potential}\nD.~Monderer and L.~S. Shapley, ``Potential games,'' \\emph{Games and Economic\n  Behaviour}, vol.~14, pp. 124--143, 1996.\n\n\\bibitem{Rad2015UncertainDeparture}\nH.~Mohsenian-Rad and M.~Ghamkhari, ``Optimal charging of electric vehicles with\n  uncertain departure times: A closed-form solution,'' \\emph{IEEE Trans. Smart\n  Grid}, vol.~6, no.~2, pp. 940--942, Mar. 2015.\n\n\\bibitem{bental2009robust}\nA.~Ben-Tal, L.~El~Ghaoui, and A.~Nemirovski, \\emph{Robust Optimization}.\\hskip\n  1em plus 0.5em minus 0.4em\\relax Princeton University Press, 2009.\n\n\\bibitem{Nisan2007Algorithmic}\nN.~Nisan, T.~Roughgarden, E.~Tardos, and V.~V. Vazirani, \\emph{Algorithmic Game\n  Theory}.\\hskip 1em plus 0.5em minus 0.4em\\relax Cambridge University Press,\n  2007.\n\n\\bibitem{Kamien1983Conjectural}\nM.~I. Kamien and N.~L. Schwartz, ``{Conjectural Variations},'' \\emph{Canadian\n  Journal of Economics}, vol.~16, no.~2, pp. 191--211, May 1983.\n\n\\bibitem{Hejazi2014Data}\nH.~Akhavan-Hejazi, H.~Mohsenian-Rad, and A.~Nejat, ``Developing a test data set\n  for electric vehicle applications in smart grid research,'' in \\emph{IEEE\n  80th Vehicular Technology Conference (VTC Fall)}, Sept. 2014, pp. 1--6.\n\n\\bibitem{Gonder2007Data}\n\\BIBentryALTinterwordspacing\nJ.~Gonder, T.~Markel, M.~Thornton, and A.~Simpson, ``Using global positioning\n  system travel data to assess real-world energy use of plug-in hybrid electric\n  vehicles,'' \\emph{Transportation Research Record: Journal of the\n  Transportation Research Board}, vol. 2017, pp. 26--32, 2007. [Online].\n  Available: \\url{http://dx.doi.org/10.3141/2017-04}\n\\BIBentrySTDinterwordspacing\n\n\\bibitem{Kirby2007ancillary}\nB.~Kirby, ``Ancillary services: Technical and commercial insights,''\n  W\\\"artsil\\\"a North America Inc., Tech. Rep., 2007.\n\n\\bibitem{shapley1953value}\nL.~S. Shapley, ``A value for $n$-person games,'' in \\emph{Contributions to the\n  Theory of Games, volume II, Annals of Mathematical Studies}, H.~Kuhn and\n  A.~Tucker, Eds.\\hskip 1em plus 0.5em minus 0.4em\\relax Princeton University\n  Press, 1953, pp. 307--317.\n\n\\bibitem{Kempton1997V2G}\nW.~Kempton and S.~E. Letendre, ``Electric vehicles as a new power source for\n  electric utilities,'' \\emph{Transportation Research Part D: Transport and\n  Environment}, vol.~2, no.~3, pp. 157--175, 1997.\n\n\\bibitem{Kempton2005V2GRevenue}\nW.~Kempton and J.~Tomi{\\'c}, ``Vehicle-to-grid power fundamentals: Calculating\n  capacity and net revenue,'' \\emph{J. Power Sources}, vol. 144, no.~1, pp.\n  268--279, 2005.\n\n\\bibitem{White2011V2G}\nC.~D. White and K.~M. Zhang, ``Using vehicle-to-grid technology for frequency\n  regulation and peak-load reduction,'' \\emph{J. Power Sources}, vol. 196,\n  no.~8, pp. 3972--3980, 2011.\n\n\\bibitem{Zhou2011Battery}\nC.~Zhou, K.~Qian, M.~Allan, and W.~Zhou, ``Modeling of the cost of {EV} battery\n  wear due to {V2G} application in power systems,'' \\emph{IEEE Trans. Energy\n  Convers.}, vol.~26, no.~4, pp. 1041--1050, Dec. 2011.\n\n\\bibitem{Kempton2007Fleets}\nJ.~Tomi{\\'c} and W.~Kempton, ``Using fleets of electric-drive vehicles for grid\n  support,'' \\emph{J. Power Sources}, vol. 168, no.~2, pp. 459--468, 2007.\n\n\\bibitem{Andersson2010V2GSwedenGermany}\nS.-L. Andersson, A.~Elofsson, M.~Galus, L.~G{\\\"o}ransson, S.~Karlsson,\n  F.~Johnsson, and G.~Andersson, ``Plug-in hybrid electric vehicles as\n  regulating power providers: Case studies of {S}weden and {G}ermany,''\n  \\emph{Energy Policy}, vol.~38, no.~6, pp. 2751--2762, 2010.\n\n\\bibitem{Cover2012IT}\nT.~M. Cover and J.~A. Thomas, \\emph{Elements of information theory}.\\hskip 1em\n  plus 0.5em minus 0.4em\\relax John Wiley \\& Sons, 2012.\n\n\\bibitem{Kempton2002V2G}\nS.~Letendre and W.~Kempton, ``The {V2G} concept: A new model for power?''\n  \\emph{Public Utilities Fortnightly}, vol. 140, no.~4, pp. 16--26, Feb. 2002.\n\n\\bibitem{Myerson1978Auction}\nR.~B. Myerson, ``\\BIBforeignlanguage{ru}{Optimal auction design},''\n  \\emph{\\BIBforeignlanguage{ru}{Mathematics of Operations Research}}, vol.~6,\n  no.~1, pp. 58--73, 1978.\n\n\\bibitem{Kempton2005V2RenewableEnergy}\nW.~Kempton and J.~Tomi{\\'c}, ``Vehicle-to-grid power implementation: From\n  stabilizing the grid to supporting large-scale renewable energy,'' \\emph{J.\n  Power Sources}, vol. 144, no.~1, pp. 280--294, 2005.\n\n\\bibitem{Kempton2013Wind}\nC.~Budischak, D.~Sewell, H.~Thomson, L.~Mach, D.~E. Veron, and W.~Kempton,\n  ``Cost-minimized combinations of wind power, solar power and electrochemical\n  storage, powering the grid up to 99.9\\% of the time,'' \\emph{J. Power\n  Sources}, vol. 225, pp. 60--74, 2013.\n\n\\bibitem{Bertsekas2012dynamic}\nD.~P. Bertsekas, \\emph{Dynamic Programming and Optimal Control}, 4th~ed.\\hskip\n  1em plus 0.5em minus 0.4em\\relax Athena Scientific, 2012.\n\n\\bibitem{Puterman2014Markov}\nM.~Puterman, \\emph{Markov Decision Processes: discrete stochastic dynamic\n  programming}.\\hskip 1em plus 0.5em minus 0.4em\\relax John Wiley \\& Sons,\n  2014.\n\n\\bibitem{Soshinskaya2014Microgrids}\nM.~Soshinskaya, W.~H. Crijns-Graus, J.~M. Guerrero, and J.~C. Vasquez,\n  ``Microgrids: Experiences, barriers and success factors,'' \\emph{Renewable\n  and Sustainable Energy Reviews}, vol.~40, pp. 659--672, 2014.\n\n\\end{thebibliography}\n\n\n\n\n\n\n\n\n\n\n\n\n\\begin{IEEEbiographynophoto}{Wenjing~Shuai}\nreceived her B.S. degree from Northwestern Polytechnical University, China, in 2008 and the M.S. degree from Xidian University, China, in 2011, both in Telecommunication. She is currently a Ph.D. candidate in Telecom Bretagne, France.\nHer research interests include electric vehicle charging management and electricity pricing in Smart Grid.\n\\end{IEEEbiographynophoto}\n\n\\begin{IEEEbiographynophoto}{Patrick~Maill\\'e}\ngraduated from Ecole polytechnique and Telecom ParisTech, France, in 2000 and 2002, respectively. He has been an assistant professor at the Networks, Security, Multimedia department of Telecom Bretagne since 2002, where he obtained his Ph.D. in applied mathematics in 2005, followed by a 6-month visit to Columbia University in 2006. His research interests are on game theory and economic concepts applied to telecommunication ecosystems: resource pricing, routing, consequences of user selfishness on network performance.\n\\end{IEEEbiographynophoto}\n\n\n\n\n\n\\begin{IEEEbiographynophoto}{Alexander~Pelov}\nis an Associate Professor of Computer Networks in the \"Networking, Multimedia and Security\" department a Telecom Bretagne, France. His research focuses on networking protocols for Machine-to-Machine communications, energy efficiency in wireless networks, and protocols and algorithms for Smart Grid applications, most notably related to Smart Meters, sub-metering and Electrical Vehicles. He received his M.Sc. (2005) from the University of Provence, France and Ph.D. (2009) from the University of Strasbourg, France, both in Computer science. \n\\end{IEEEbiographynophoto}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n", "itemtype": "equation", "pos": 32601, "prevtext": "\n\n\n\n\\maketitle\n\n\n\\begin{abstract}\nElectric Vehicles (EVs), as their penetration increases, are not only challenging the sustainability of the power grid, but also stimulating and promoting its upgrading. Indeed, EVs can actively reinforce the development of the Smart Grid if their charging processes are properly coordinated through two-way communications, possibly benefiting all types of actors. \n\nBecause grid systems involve a large number of actors with nonaligned objectives, we focus on the economic and incentive aspects, where each actor behaves in its own interest. We indeed believe that the market structure will directly impact the actors' behaviors, and as a result the total benefits that the presence of EVs can earn the society, hence the need for a careful design. \nThis survey provides an overview of economic models considering unidirectional energy flows, but also bidirectional energy flows, i.e., with EVs temporarily providing energy to the grid. We describe and compare the main approaches, summarize the requirements on the supporting communication systems, and propose a classification to highlight the most important results and lacks.\n\\end{abstract}\n\n\n\n\n\n\n\n\\section{Introduction}\n\\label{sec:Intro}\n\n\\IEEEPARstart{D}{iminishing} oil supply and increasing environmental concerns strongly motivate research efforts toward the electrification of transportation, and technological advances have fostered a rapid arrival of Electric Vehicles (EVs) in the market. \nHowever, the charging of EVs has a tremendous impact on the stakeholders in both the electricity and transportation domains, such as electricity producers, power grid operators, policy makers, retailers, and customers~\\cite{Dickerman2010IntroEV}. The EV load can drive electricity prices up~\\cite{Balram2012Impact}, and alter the producers' generation portfolios, resulting in an increase of CO$_2$ emission~\\cite{Foley2013Impact}. \nAdditionally, high penetration with uncontrolled charging threatens the sustainability of distribution networks~\\cite{Green2011ImpactReview,Shafiee2013Impact}. \nFor example, for an EV penetration of 25\\%, almost 30\\% of network facilities would need to be upgraded, while this ratio drops to 5\\% if the charging load can be shifted to less crowded time periods~\\cite{Dow2010Impact}. These research works reach a consensus that EV charging should be controlled to avoid distribution congestion and higher peak-to-average ratios (i.e., demand sporadicity). \n\nAt the same time, the Power Grid is witnessing one of its major evolutions since its conception at the beginning of the past century. \nThe classical structure of electricity being produced in a small number of big, centralized, power plants, and flowing through the transmission and distribution networks to be consumed by end users is being challenged by the increasing penetration of renewable energy sources. \nThe possibility to communicate bidirectionally with all elements of the grid--and as a consequence to achieve unprecedented levels of monitoring and control--serves as a major technological enabler of the new Smart Grid, allowing to accommodate new types of demand and production sources as illustrated in Figure~\\ref{fig:SmartGrid}.\n\n\n\n\n\n\n\n\n\n\n\\begin{figure}[htbp]\n   \\centering\n   \\includegraphics[width=8cm]{SmartGrid.pdf} \n   \\centering\n   \\caption{Actors and energy flows in the Smart Grid}\n   \\label{fig:SmartGrid}\n\\end{figure}\nIn this context, EVs impose new burdens due to the extra demands they constitute, but also open opportunities thanks to the fact that their demands are relatively flexible, and that their batteries can be temporarily used to support the power grid: EVs can be active contributors in the smart grid instead of passive consumers. \n\nThe important aspect stressed in this paper is that EVs cannot be assumed to be directly coordinated by a central entity controlling all charging processes. Indeed, EVs belong to individuals with specific preferences and constraints, who would not relinquish control of the charging process without being properly compensated. Instead, it is reasonable to assume that they react selfishly to management schemes: only when sufficient incentives are offered may EV owners coordinate their charging time and power, i.e., reschedule (directly or by giving some control to an external entity) the charging process rather than recharging their batteries within the shortest delay, which is convenient for them but problematic in the grid operator perspective. \nThose incentives can take several forms, from fixed rewards for letting the grid control the charging, to auctions for energy, or through time-varying prices set by grid operators.\n\nTherefore, we think EV charging must be managed using market mechanisms, where participants are assumed to have different objectives. Hence an appropriate framework to study the EV management schemes is that of economy, and more precisely game theory~\\cite{fudenberg1991game,Osborne1994course} which provides specific tools to model and analyze the interactions among self-interested actors.\n\nThis paper reviews the economy-driven schemes for EV charging management proposed in the literature. While the research on that topic is quite flourishing in the last years, there is to our knowledge no work presenting a comprehensive overview of the different approaches considered. This paper classifies the existing models, highlights their main assumptions and results, in order to compare them and identify the most promising types of mechanisms together with the directions that deserve further research.\n\nEV charging management requires the support of a corresponding communication structure. In some algorithms, information is broadcasted from grid operators to EVs; bidirectional unicast is sometimes needed to coordinate the charging behaviors of specific EVs; finally EVs multicasting to charging stations (with or without station relaying) and stations responding (by unicast, multicast or broadcast) are necessary in reservation-based systems.\n\nThe importance of Information and Communication Technologies on the implementation of a so-called smart grid can never be overemphasized~\\cite{Fan2013SGCommunications,Yan2013SGCommunications}, and specially designed communication systems for vehicles~\\cite{Alsabaan2013VehicularCommun} are also relevant for better scheduling the charging of EVs. Hence charging algorithms and the corresponding communication systems should be considered simultaneously to make the best of their economical and environmental potentials. Existing works in the literature provide general overviews of the requirements and challenges; here we further investigate the economic properties of the charging algorithms, but keep track of their prerequisites on communication systems in terms of the volume and the frequency of information exchanges.\n\nThe remainder of this paper is organized as follows. \nSection~\\ref{sec:EVsSystems} briefly discusses the technical environment of the charging problem, introduces the economic vocabulary and the desirable properties of an EV management scheme. \nThe next two sections present and classify the charging schemes proposed in the literature to exploit the benefits and avoid undesirable outcomes from EVs entering the grid ecosystem: \nSection~\\ref{sec:Unidirectional charging} focuses on \\emph{unidirectional charging} (energy only goes from the grid to the EV batteries) while Section~\\ref{sec:Bidirectional energy trading} allows \\emph{bidirectional energy trading} (the grid can also take energy from the on-board EV batteries). \nSection~\\ref{sec:Communication} summarizes the communication aspects of the schemes (type of exchanges, volume and frequency), while \nSection~\\ref{sec:Mechanism} provides a general classification of all models and approaches, stressing their limitations to highlight the need for further research in specific directions. \nSection~\\ref{sec:Conclusion} concludes the paper. \n\n\n\n\n\n\n\n\\section{Techno-economic environment of EVs}\n\\label{sec:EVsSystems}\n\n\\subsection{Facilities for Electric Vehicle Charging}\n\\label{subsec:Facilities}\n\nThe term ``Electric Vehicle\" can refer to a broad range of technologies. Generally speaking, the extension of this concept covers all vehicles using electric motor(s) for propulsion, including road and rail vehicles, surface and underwater vessels, even electric aircrafts. Since our paper concerns the charging management schemes and their impacts on the grid as well as on their owners from an economic perspective, we narrow the use of ``Electric Vehicle\" to mention a passenger car with a battery that needs refills of electricity from external sources. \nBattery Electric Vehicles (BEV) and Plug-in Hybrid Electric Vehicles (PHEV) are two types of Plug-in Electric Vehicles (PEV); PHEVs differ from BEVs in that the former have a gasoline or diesel engine coexisting with an electric motor.\n\nThe economic mechanisms evoked in this paper mainly differ in the way prices are defined, in the mobility models (if any) of EVs, in the time scale considered, and in the directions for power flows (from the grid to EVs, or both ways). The specificities of EVs--being BEVs or PHEVs--do not play a major role with regard to the economic aspects, and often schemes are proposed that can be indifferently applicable to each type of EV. Hence in this survey we present mechanisms without always specifying the EV type; we do it when it has an influence on the performance or applicability of the scheme.\n\n\n\n\nNote that charging can be performed in diverse ways: EVs can use an on-board or off-board charger~\\cite{Yilmaz2012ChargingReview, Yilmaz2013Charging}, or use inductive charging while parked, thanks to Inductive Power Transmission (IPT) technology~\\cite{Wu2011InductiveCharging, Khaligh2012Charging}. The ultimate experience of IPT is charging while in motion, of which a prototype named On-Line Electric Vehicle (\\textit{OLEV}) has been designed in the Korea Advanced Institute of Science \\& Technology~\\cite{Shin2012OLEV}. Those cases being rare, we can consider in this paper that the charging is done via a physical connection with an on-board plug. \n\n\nTo insure safe electricity delivery to an EV from the source, some particular EV Supply Equipment (EVSE) is needed, which puts tight constraints on how EVs can be recharged (or discharged if possible). \nThe charging rate limit, battery capacity and AC/DC conversion efficiency vary among the different charging facilities and patterns. \n\n\nTwo levels for AC charging and three levels for DC charging are approved by the SAE J1772 standard\\footnote{http://www.sae.org/smartgrid/chargingspeeds.pdf}, as shown in Table~\\ref{fig:SAE_J1772}, giving the estimated time $T$ needed to fully recharge a battery with $25$kWh usable pack size, starting from an initial State Of Charge (SOC) of $20\\%$.\n\\begin{table}[htbp]\n\n\n   \\caption{Charging powers and corresponding charging duration $T$ under the SAE J1772 standard}\n   \\label{fig:SAE_J1772}\n\\begin{tabular}{c|c|c|}\n\\cline{2-3}\n&Level 1&Level 2\\\\\n\\cline{2-3}\n~~~~~AC& $\\sim1.9$kW & $\\sim19.2$kW\\\\\n\\cline{2-3}\n&$T=17$h&$T=1.2$h\\\\\n\\cline{2-3}\n\\end{tabular}\n\\vspace{2ex}\n\\\\\n\\begin{tabular}{c|p{.17\\textwidth}|c|c|}\n\\cline{2-4}\n&\\centering Level 1&Level 2&Level 3\\\\\n\\cline{2-4}\n~~~~~DC&\\centering $\\sim36$kW & $\\sim90$kW& $\\sim240$kW\\\\\n\\cline{2-4}\n&\\centering$T<1$h&$T<20$min&$T<10$min\\\\\n\\cline{2-4}\n\\end{tabular}\n\\end{table}\n\nThere are other charging standard proposals, which roughly correspond to the categories in Table~\\ref{fig:SAE_J1772}. For example CHAdeMO\\footnote{\\url{http://www.chademo.com}} falls into DC Level 2, and Tesla Supercharger overlaps with DC Level 3. \n\n\n\n\n\n\n\n\nAt the other end of the wire stretching out from an EV socket is a charging station. \nFigure~\\ref{fig:charging_facilities} summarizes the main categories in which we can divide the charging stations. \n\\begin{figure}[htbp]\n   \\centering\n   \\includegraphics[width=.5\\textwidth]{ChargingFacilities.pdf} \n   \\centering\n   \\caption{Classification of the charging facilities for EVs}\n   \\label{fig:charging_facilities}\n\\end{figure}\n\\textit{Individual stations} capable of charging a single EV refer to those located in individual homes. \\textit{Parking lots} for EVs are yet to be developed to their full potential: they contain many individual EVSEs in physical proximity, belonging to the same entity. Public EV parkings are open to any EV, while private EV parkings provide access only to a specific fleet of EVs, e.g., owned by a single company. \n\\textit{On-road stations} are relays for EVs on long journeys, they can generally charge EVs at the highest possible rate to minimize the delay.\n\n\\textit{Roadbed infrastructures} for EVs are based on IPT technology~\\cite{Lukic2013Inductive}. We already witness roadbed infrastructures that charge EVs at traffic intersections~\\cite{Mohrehkesh2011Wireless} or even without stopping~\\cite{Lee2010OLEV}. As some EVs can use other types of energy sources, they can be replenished in \\textit{refueling station}, e.g. classical petrol stations, compressed air stations, or \\textit{battery-swapping stations}. \nThose charging solutions are out of the scope of this paper due to the fact that they are either to some extent overlapping with refueling problems for conventional cars, or still in experimental stage.\n\n\n\n\n\\subsection{Electric Vehicles -- An enabler of the Smart Grid and a participant in Electricity markets}\n\\label{subsec:Market}\n\nThe Smart Grid is an evolution of the Power Grid which is expected to lead to a more efficient use of the grid resources, for example with a reduced Peak-to-Average power consumption ratio, faster repairs, self-healing and self-optimizing possibilities, and full integration of renewable energy sources.\n\n\nDemand Response (DR) is the possibility for the power grid to alter the consumption patterns of end users; it can be implemented through various mechanisms. DR was initially used primarily toward large electricity consumers, but the transition to the Smart Grid provides a paradigm shift, where every load, no matter how small, can participate in a DR program. \nEnergy Storage is a key technology for the integration of Renewable Energy Sources to the grid. Pumped-storage hydroelectricity (PSH) accounts for 99\\% of the world bulk storage capacity\\footnote{\\url{http://www.economist.com/node/21548495}}, but there are physical limitations to the quantity of energy that these types of storage can hold. \n\nElectric Vehicles can both participate in DR and serve as Energy Storage facilities. They can respond to DR signals, such as price variations or direct control messages by modulating their power consumption, thus providing necessary flexibility to the grid operator. In some cases, EVs can also inject electricity back to the grid, thus serving as distributed energy sources. These can be leveraged by the network operators to improve renewable energy integration, to help self-healing or to provide ancillary services, so as to reduce the dependency on specialized equipments like diesel generators. \n\n\n\n\\begin{figure}[htbp]\n   \\centering\n   \\includegraphics[width=9cm]{EVactors.pdf} \n   \\centering\n   \\caption{Smart Grid Actors related to EV charging.}\n   \\label{fig:EVactors}\n\\end{figure}\n\n\nFigure~\\ref{fig:EVactors} shows the major entities related to EV charging. \nA Transmission System Operator~\\cite{DefTSO} (TSO, in Europe)--or in some contexts (in North America) an Independent System Operator~\\cite{DefISO} (ISO)--is responsible for operating, ensuring the maintenance of and, if necessary, developing the transmission system in a given area.\nConsumers equipped with energy sources that can deliver electricity to the distribution network are called prosumers.\n\n\n\nIn a classical electricity market, end-users have contracts with an electricity \\textit{retailer}, who buys the electricity produced by \\textit{generators}. \nThe transaction can be brokered via a bilateral agreement or on a wholesale market. \nAs the aggregated energy consumption of a big region can be known with satisfactory precision well in advance, contracts for buying the bulk of the necessary electricity can be done a year or a month ahead on the \\textit{futures market}. \nHowever, electricity consumption is heavily dependent on the weather, thus requires a significant amount of energy to be traded $24$ hours in advance on the \\textit{day-ahead market}. \nFinally, fine adjustments can be made up to an hour ahead, which are traded on the \\textit{intra-day market}. \n\n\n\n\nTo match supply and demand for electricity instantaneously, ISO/TSOs operate ancillary services markets (generally using auctions) where they purchase ancillary services from generators and/or consumers who have the ability to vary their generation or consumption powers. ISO/TSOs also keep a close watch on the efficiency and effectiveness of those markets.\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\\subsection{Dealing with self-interested actors}\n\\label{subsec:Self-interested}\nAs elaborated before, EV charging involves many Smart Grid actors, whose objectives are not necessarily aligned: EV owners want to store enough energy as quickly as possible, and at the lowest cost, whatever the impact on other EVs or on generation costs; electricity producers and retailers are mainly driven by net benefits; while ISOs generally aim to ensure the most efficient use of resources and to maintain the supply-demand balance.\n\nTherefore, when designing mechanisms to decide allocations and prices paid, one has to anticipate that the actors may try to play the system at their advantage. For example, if decisions are made based on signals from users such as their willingness-to-pay, the rules should ensure that reporting untruthful values does not bring any gain to the corresponding actors: such a property is called \\emph{incentive compatibility}.\n\nMore generally, an appropriate framework to study the interactions among several decision-makers is that of game theory~\\cite{fudenberg1991game}. A key notion is the Nash equilibrium, that is an outcome (a decision made by each actor) such that no actor can improve his individual payoff (utility) through an unilateral move. As stable situations, Nash equilibria are often considered to be the expected outcomes from interactions. Hence many of the mechanisms described in this paper rely on that notion.\n\nNash equilibria can be attained when all actors have perfect knowledge of their opponents, their decision sets, and their preferences. But those strong (and often unrealistic) conditions are not necessary: in several cases the Nash equilibria can be reached or approached via some limited information exchanges among actors, or even without such exchanges but just by trying out decisions and \\emph{learning} the best ones~\\cite{fudenberg1998theory}.\n\nTo summarize the EV charging problem setting, we recall the relevant actors and set up the vocabulary as below:\n\n\\begin{itemize}\n\n\\item EV: A physical electric vehicle or its owner who will generally be assumed to have a \\emph{utility function} (or benefit), that represents his preferences. We will mostly use the classical \\emph{quasi-linear utility} model~\\cite{mankiw2014principles}: for a given price and energy allocation, the EV owner utility will be the difference between the owner's \\emph{willingness-to-pay} (or \\emph{valuation}, i.e., the value of energy for him, expressed in monetary units) and the price actually paid.\n\n\\item Aggregator: An entity acting as an intermediary between the demand (retailers/users) and supply (generators, ISO/TSO or charging stations in some scenarios) sides of the electricity market \\cite{Gkatzikis2013role}. When an aggregator is designed to be a representative of a group of EV owners, its utility will be the aggregated user utility. Otherwise, when it acts in its own interest as an intermediate energy supplier, the measure of utility will similarly be the difference between \\emph{revenues} (the monetary gains from their clients) and \\emph{costs}. That difference is often called \\emph{benefit}.\n\n\\item EV charging station: The owner and/or operator of one or several EVSEs in physical proximity, who allows EV recharging and/or discharging with the aim of maximizing revenue, but always under some physical constraints such as local transformer capacity and standard recharging power level. \n\n\\item ISO (or TSO): An entity in charge of operating and maintaining the transmission system in a given area. It sets a constraint for the aggregated EV load according to the transformer capacity, and purchases ancillary services when necessary, in order to maintain the supply-demand balance.\n\n\\end{itemize}\n\n\nThe aggregated utility of all users (here, EVs) is called \\emph{user welfare}, and the aggregated utility of all suppliers (EV charging stations or aggregator) is the \\emph{supplier welfare}. \\emph{Social welfare} (=user welfare+supplier welfare) quantifies the global value of the system for the society, and is computed as the sum of all users' valuations minus all costs (production, transportation, if any). Note that money exchanges do not appear in that measure, since they stay within the society.\n\nTo provide a guideline for future proposals, we list in Table~\\ref{tab:criteria} the main questions raised by EV charging, and summarize from our point of view, the criteria that make a good charging management scheme. Also, we indicate in which sections of this paper those points are addressed.\n\n\n\n\n\n\n\n\n\\begin{table*}[htbp]\n   \\centering\n   \\topcaption{Main questions related to the EV charging problem, and desirable properties}\n   \\label{tab:criteria}\n   \\begin{tabular}{|p{6.5cm}|p{6.5cm}|p{1.3cm}|p{2cm}|}\n   \\hline\n   Question & Criteria & Examples & In this paper \\\\\n   \\hline\n   \\hline\n    How to settle the conflict between EV demand and grid capacity? & A desirable management scheme achieves higher EV satisfaction and/or station revenue, meanwhile lowers the grid burden.&\\cite{Galus2008DSM,Galus2009EnergyNetworks,Samadi2010DSM,Tushar2012Economics,Maille2006Auctions,Ardakanian2014DistributedControl,Qin2011ChargingWaiting,Guo2014Rapid,Liu2014Routing,Hu2014Congestion,Hu2015CongestionNetwork,Franco2015MILP} & Section~\\ref{subsubsec:SharingUsers}, \\ref{subsubsec:SharingFuture}\\\\\n   \\hline\n   How to coordinate the time-flexible EV demand scattered in individual EVs to perform load shedding, peak shaving, and to smooth renewable energy output? & A well designed pricing policy can incentivize participants to shift their demands in a distributed manner, without intrusively taking full control over their charging processes.& \\cite{Beaude2012ChargingGame,Rad2010DSM,Ma2013Valley,Gan2013OptimalProtocol,Sortomme2011ChargingStrategies,Bessa2012Bidding,Leterme2014Wind,Vasirani2013VPP,Xie2012Wind,Binetti2015SRTG} & Section~\\ref{subsubsec:SharingSlots}, \\ref{subsubsec:UniRegulation}, \\ref{subsec:V2GStorage}\\\\\n   \\hline \n   How could an EV owner reduce his/her electricity expenses by paying the time-of-use electricity price? & A satisfying charging program is flexible in order to respect EV owners' travel plans, and is robust to price uncertainty.& \\cite{Conejo2010DRM,Hutson2008Intelligent,Liang2012V2GStorage,Han2010OptimalV2G,Liang2013EnergyDelivery,Yang2014Taxi} & Section~\\ref{subsec:Arbitrage}\\\\\n   \\hline\n   How to dispatch ancillary service tasks as well as the associated revenue among EVs providing such services? & A good allocation satisfies some fairness properties in terms of actor utilities. & \\cite{Quinn2010V2G,Kamboj2010V2G,Kamboj2011VandE,Garzas2012FairDesign,Sun2013RegulationAllocation,Sun2014RegulationAllocation,Wu2012V2G,Wu2012Wind,Gao2013ContractRegulation} & Section~\\ref{subsec:V2GRegulation}\\\\\n   \\hline\n   How to organize the EV charging market between self-interested EV owners and revenue-pursuing charging stations? & A good mechanism should  be incentive compatible and achieve high (near-optimal) user/supplier/social welfare. & \\cite{Gerding2011MechanismDesign,Gerding2013Mechanism,Qin2011ChargingWaiting,Guo2014Rapid,Liu2014Routing,Garzas2012StationSelection} & Section~\\ref{subsec:Dynamic} \\\\\n   \\hline\n   \\end{tabular}\n\\end{table*}\n\n\n\n\n\n\n\n\n\\section{Unidirectional charging mechanisms}\n\\label{sec:Unidirectional charging}\n\n\nIn this section, we assume that energy can only go from the grid to EV batteries.\nElectricity is expensive to store and supply over the grid must match demand at all instants: hence it is not possible for the grid to simply produce in anticipation the power needed to satisfy the charging requests that will occur from possibly many EVs over some periods of time. \nStandby generation units can be swathed on, but incur high costs, hence this is not a satisfying solution either. \nRemark that the generation part is not the only limiting factor: transmission networks and transformer station limits constitute other bottlenecks.\nWe therefore consider here the scenario where several EVs are plugged-in for recharging, but the available energy is not sufficient to feed them all (or producing extra energy incurs high costs), so the aggregator is responsible for allocating the scarce resource among the clients. \n\n\nThis section reviews the main economic approaches to manage the (unidirectional) charging of EVs. \nWe first describe \\emph{static} approaches for energy sharing (where the objective and decisions are based on a snapshot of the system regardless of possible impacts of future variations),\nthen extend the sharing problem to \\emph{dynamic} scenarios (where the uncertainty of future events is taken into account); we also consider the mobility aspects of EVs (involving the choice of locations to charge, and price/distance tradeoffs) and finally point out mechanisms based on \\emph{frequency regulation}.\n\n\n\\subsection {Static unidirectional recharging}\n\n\\subsubsection{Sharing energy efficiently among users}\n\\label{subsubsec:SharingUsers}\n\n\nThis subsection is devoted to the energy allocation problem within one indivisible time slot, i.e., only the current demands are considered and there is no uncertainty considered about future events (variations in supply and/or demand). We start with topology-free models, where each EV's consumption is constrained by its charger and battery, then together with other EVs, jointly curbed by the supply (typically, from their common aggregator). Then we move on to topology based models, where the throughput of the transformers further narrows the feasible choices.\n\n\n\n\\paragraph{Sharing without topology-based constraints}\n\\label{para:WithoutTopology}\nConsider a charging station with several plugged-in EVs demanding electricity. How should the station dispatch the scarce available energy among them? We suppose here that there is no discrimination among EVs caused by the topology of the (sub-)grid they are connected to. Energy supply is considered as a  constant for models in~\\cite{Galus2008DSM,Galus2009EnergyNetworks}, and as a variable in~\\cite{Samadi2010DSM,Tushar2012Economics}. \n\n\n\n\nGalus and Andersson~\\cite{Galus2008DSM} consider a large amount of PHEVs connected to an energy hub which converts gas and electricity to cover a commercial area's heat and electricity needs. \nHence the total energy available to PHEVs is the transferring limit of the hub, minus the commercial area's un-shiftable demand. Each PHEV is assumed to report truthfully to the aggregator an individual (utility) parameter describing its willingness-to-pay for one unit of energy, at every time instant. \nThis value depends on the gap between the current SOC and its target, as well as the time left before its departure. \nThe aggregator then dispatches the available power, based on those parameters collected from all plugged EVs, to maximize the total (declared) value of energy for PHEVs, generally feeding first the EVs with lower SOC and imminent departure. A strong assumption made here is that EV owners do not try to play the system by falsely declaring their utility parameters to obtain higher utilities. The authors extend their work by adding a network operator, in charge of a higher-level dispatch of electricity and gas over all the aggregators~\\cite{Galus2009EnergyNetworks}, thus the supply limit is simultaneously restricted to the capability of the hub and the electricity and gas fed-in to an aggregator by that network operator. \n\n\n\nIn contrast to~\\cite{Galus2008DSM} where energy supply is given as a constraint, Samadi~\\textit{et al.}~\\cite{Samadi2010DSM} let the aggregator decide the amount of electricity to sell in order to maximize social welfare, that is the aggregated benefit of all the self-interested users minus the generation cost. \nThey propose a distributed iterative algorithm where the aggregator updates the unit energy price and each user responds by updating his load (to the utility-maximizing one under the present price) until convergence, at which point \nenergy allocations become effective. \nHere again, no strategic behavior from users is assumed: they react myopically without integrating the fact that their utilities depend only on the converged outcome.\n\n\n\nIn Tushar~\\textit{et al.}'s model~\\cite{Tushar2012Economics}, users are not only informed of the price, but also of the total consumption limit. \nEach user aims to maximize his utility function, while knowing that if total demand exceeds the consumption limit, then none will be allocated any electricity. \nThis scenario is modeled as a Stackelberg game~\\cite{Osborne1994course} (also known as leader-follower game), with the aggregator as the leader, setting prices so as to maximize revenue; and EVs as the followers--price-takers competing for resource through their demands. \nThe leader sets the price first, then the followers send their demand to an intermediary manager, until the unique EV equilibrium for that price is reached. \nThe total consumption is then sent to the leader, who updates the price to achieve a higher revenue; that process being repeated until the revenue is maximized. \n\n\n\n\n\n\\paragraph{Sharing with topology-based constraints}\n\\label{para:WithTopology}\nThe following models share the assumption that EVs are connected at the leaves of a tree-like distributed network. The objective of an allocation can be efficiency~\\cite{Maille2006Auctions} or fairness~\\cite{Ardakanian2014DistributedControl}.\n\n\nMaill\\'e and Tuffin~\\cite{Maille2006Auctions} propose a solution to share resource among self-interested users over a tree structure, through an auction and with the objective of maximizing social welfare. \nThe mechanism was initially defined for bandwidth sharing in telecommunication access networks, but is also applicable to energy: an EV can send several bids to the auctioneer, each with the form of a $(\\text{unit\\_price,quantity})$ pair; the auctioneer then computes energy allocations and prices based on the bids submitted by all  EVs. The number of pairs one EV can submit is chosen as a trade-off between efficiency and (communication and computational) complexity. \nThe mechanism in~\\cite{Maille2006Auctions} follows the principle of Vickrey-Clarke-Groves mechanisms~\\cite{vickrey1961counterspeculation,clarke1971multipart,groves1973incentives}; it incentivizes truthful bidding for the users and guarantees efficient allocation--in the sense of user welfare maximizing, since no costs are assumed here. \n\n\n\nRosenberg and Keshav~\\cite{Ardakanian2014DistributedControl} aim at finding a proportionally fair~\\cite{KELLYF1997fair} sharing of a fixed amount of energy among users. \nThe algorithm consists in each link computing its congestion or \\emph{shadow price}~\\cite{kelly1998rate}, and transmitting downwards the total congestion price from the root of the tree (wherefrom energy is available) to users plugged at leaves; the latter then demand their utility-maximizing amount after receiving the price (assuming logarithmic utility functions). \nSuch a method converges to the proportionally fair allocations. \nNote that users here are not aware of the links capacity limits, so their initial demands might exceed them before reaching convergence, an outcome not occurring in~\\cite{Tushar2012Economics} where users sharing a link know its capacity and act to avoid outstripping it.\n\n\n\n\\paragraph{Example}\n\\label{para:Example}\nNow we illustrate some of those approaches via a simple example. \n\n\n\n\n\nConsider an aggregator having to allocate energy to two users $A$ and $B$ with (non-decreasing) concave quadratic valuation functions $\\theta$ (indicating their willingness-to-pay for energy) as expressed below:\n\n", "index": 1, "text": "\\begin{equation}\\label{benefit function}\n\\theta(x)=\n\\begin{cases}\n- ax^2 + bx & x\\le \\frac{b}{2a}\\\\\n\\frac{b^2}{4a} & x>\\frac{b}{2a},\n\\end{cases}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E1.m1\" class=\"ltx_Math\" alttext=\"\\theta(x)=\\begin{cases}-ax^{2}+bx&amp;x\\leq\\frac{b}{2a}\\\\&#10;\\frac{b^{2}}{4a}&amp;x&gt;\\frac{b}{2a},\\end{cases}\" display=\"block\"><mrow><mrow><mi>\u03b8</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mo>{</mo><mtable columnspacing=\"5pt\" displaystyle=\"true\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mrow><mrow><mo>-</mo><mrow><mi>a</mi><mo>\u2062</mo><msup><mi>x</mi><mn>2</mn></msup></mrow></mrow><mo>+</mo><mrow><mi>b</mi><mo>\u2062</mo><mi>x</mi></mrow></mrow></mtd><mtd columnalign=\"left\"><mrow><mi>x</mi><mo>\u2264</mo><mstyle displaystyle=\"false\"><mfrac><mi>b</mi><mrow><mn>2</mn><mo>\u2062</mo><mi>a</mi></mrow></mfrac></mstyle></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mstyle displaystyle=\"false\"><mfrac><msup><mi>b</mi><mn>2</mn></msup><mrow><mn>4</mn><mo>\u2062</mo><mi>a</mi></mrow></mfrac></mstyle></mtd><mtd columnalign=\"left\"><mrow><mrow><mi>x</mi><mo>&gt;</mo><mstyle displaystyle=\"false\"><mfrac><mi>b</mi><mrow><mn>2</mn><mo>\u2062</mo><mi>a</mi></mrow></mfrac></mstyle></mrow><mo>,</mo></mrow></mtd></mtr></mtable></mrow></mrow></math>", "type": "latex"}]