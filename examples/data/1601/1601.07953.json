[{"file": "1601.07953.tex", "nexttext": "\n\nMeanwhile, the winding number function\n$w_{\\mathcal{A}} \\colon {\\mathbb{R}}^3 \\setminus \u00e2\u0088\u0082A \u00e2\u0086\u0092{\\mathbb{Z}}$\ndetermines for every point\nwhether it is inside the set ${\\mathcal{A}}$ purely by examining the set's oriented\nboundary $\u00e2\u0088\u0082{\\mathcal{A}}$.\n\nThe winding number integrates the signed surface area of $\u00e2\u0088\u0082{\\mathcal{A}}$ projected onto a\nunit ball around a given point ${\\mathbf{{p}}}$, or in polar coordinates and w.l.o.g.\\\n${\\mathbf{{p}}}=\\mathbf{0}$:\n\n\n", "itemtype": "equation", "pos": 855, "prevtext": "\n\n\n\n\n\n\n\n\n\n\n\\maketitle\n\n\n\n\\begin{abstract}\nThe generalized winding number function measures \\emph{insideness} for\narbitrary oriented triangle meshes.\n\nExploiting this, I similarly generalize binary boolean operations to act on\nsuch meshes.\n\nThe resulting operations for union, intersection, difference, etc.\\ avoid\nvolumetric discretization or pre-processing.\n\\end{abstract}\n\n\\section{Booleans \\& Classic Winding Numbers}\n\n\n\nIf ${\\mathcal{A}}\u00e2\u008a\u0082{\\mathbb{R}}^3$ and ${\\mathcal{B}}\u00e2\u008a\u0082{\\mathbb{R}}^3$ are open subregions of space, then their union\ncontains all points in ${\\mathcal{A}}$ \\emph{or} ${\\mathcal{B}}$, their intersection all points in\n${\\mathcal{A}}$ \\emph{and} ${\\mathcal{B}}$, and the difference of ${\\mathcal{B}}$ from ${\\mathcal{A}}$ all points in ${\\mathcal{A}}$\n\\emph{but not} ${\\mathcal{B}}$. Written in set notation, we have respectively:\n\n", "index": 1, "text": "\\begin{align}\n\\label{equ:union}\n{\\mathcal{A}} \u00e2\u0088\u00aa {\\mathcal{B}}         &= \\Set{{\\mathbf{{p}}} | {\\mathbf{{p}}} \u00e2\u0088\u0088 {\\mathcal{A}} \\text{ or } {\\mathbf{{p}}} \u00e2\u0088\u0088 {\\mathcal{B}}}, \\\\\n\\label{equ:intersect}\n{\\mathcal{A}} \u00e2\u0088\u00a9 {\\mathcal{B}}         &= \\Set{{\\mathbf{{p}}} | {\\mathbf{{p}}} \u00e2\u0088\u0088 {\\mathcal{A}} \\text{ and } {\\mathbf{{p}}} \u00e2\u0088\u0088 {\\mathcal{B}}}, \\\\\n\\label{equ:difference}\n{\\mathcal{A}} \\setminus {\\mathcal{B}} &= \\Set{{\\mathbf{{p}}} | {\\mathbf{{p}}} \u00e2\u0088\u0088 {\\mathcal{A}} \\text{ and } {\\mathbf{{p}}} \u00e2\u0088\u0089 {\\mathcal{B}}}.\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E1.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle{\\mathcal{A}}\\unichar{226}\\unichar{136}\\unichar{170}{\\mathcal{B}}\" display=\"inline\"><mrow><mi class=\"ltx_font_mathcaligraphic\">\ud835\udc9c</mi><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>226</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>170</mn><mo>\u2062</mo><mi class=\"ltx_font_mathcaligraphic\">\u212c</mi></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E1.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\lx@Set@V{{\\mathbf{{p}}}}{{\\mathbf{{p}}}\\unichar{226}\\unichar{13%&#10;6}\\unichar{136}{\\mathcal{A}}\\text{ or }{\\mathbf{{p}}}\\unichar{226}\\unichar{136%&#10;}\\unichar{136}{\\mathcal{B}}},\" display=\"inline\"><mrow><mrow><mi/><mo>=</mo><mrow><mo>{</mo><mpadded width=\"+2.8pt\"><mi>\ud835\udc29</mi></mpadded><mo rspace=\"5.3pt\">|</mo><mrow><mi>\ud835\udc29</mi><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>226</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udc9c</mi><mo>\u2062</mo><mtext>\u00a0or\u00a0</mtext><mo>\u2062</mo><mi>\ud835\udc29</mi><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>226</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><mi class=\"ltx_font_mathcaligraphic\">\u212c</mi></mrow><mo>}</mo></mrow></mrow><mo>,</mo></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E2.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle{\\mathcal{A}}\\unichar{226}\\unichar{136}\\unichar{169}{\\mathcal{B}}\" display=\"inline\"><mrow><mi class=\"ltx_font_mathcaligraphic\">\ud835\udc9c</mi><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>226</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>169</mn><mo>\u2062</mo><mi class=\"ltx_font_mathcaligraphic\">\u212c</mi></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E2.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\lx@Set@V{{\\mathbf{{p}}}}{{\\mathbf{{p}}}\\unichar{226}\\unichar{13%&#10;6}\\unichar{136}{\\mathcal{A}}\\text{ and }{\\mathbf{{p}}}\\unichar{226}\\unichar{13%&#10;6}\\unichar{136}{\\mathcal{B}}},\" display=\"inline\"><mrow><mrow><mi/><mo>=</mo><mrow><mo>{</mo><mpadded width=\"+2.8pt\"><mi>\ud835\udc29</mi></mpadded><mo rspace=\"5.3pt\">|</mo><mrow><mi>\ud835\udc29</mi><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>226</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udc9c</mi><mo>\u2062</mo><mtext>\u00a0and\u00a0</mtext><mo>\u2062</mo><mi>\ud835\udc29</mi><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>226</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><mi class=\"ltx_font_mathcaligraphic\">\u212c</mi></mrow><mo>}</mo></mrow></mrow><mo>,</mo></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E3.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle{\\mathcal{A}}\\setminus{\\mathcal{B}}\" display=\"inline\"><mrow><mi class=\"ltx_font_mathcaligraphic\">\ud835\udc9c</mi><mo>\u2216</mo><mi class=\"ltx_font_mathcaligraphic\">\u212c</mi></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E3.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\lx@Set@V{{\\mathbf{{p}}}}{{\\mathbf{{p}}}\\unichar{226}\\unichar{13%&#10;6}\\unichar{136}{\\mathcal{A}}\\text{ and }{\\mathbf{{p}}}\\unichar{226}\\unichar{13%&#10;6}\\unichar{137}{\\mathcal{B}}}.\" display=\"inline\"><mrow><mrow><mi/><mo>=</mo><mrow><mo>{</mo><mpadded width=\"+2.8pt\"><mi>\ud835\udc29</mi></mpadded><mo rspace=\"5.3pt\">|</mo><mrow><mi>\ud835\udc29</mi><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>226</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udc9c</mi><mo>\u2062</mo><mtext>\u00a0and\u00a0</mtext><mo>\u2062</mo><mi>\ud835\udc29</mi><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>226</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>137</mn><mo>\u2062</mo><mi class=\"ltx_font_mathcaligraphic\">\u212c</mi></mrow><mo>}</mo></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07953.tex", "nexttext": "\n\nIf ${\\mathcal{A}}$ is an (embedded) solid, its winding number will be exactly one for\npoints inside ${\\mathcal{A}}$ and exactly zero for points outside.\n\nWe can replace the set inclusions in the definitions of the boolean operations\nin Equations~(\\ref{equ:union}-\\ref{equ:difference}) with winding number\nexpressions:\n\nreplace \\mbox{${\\mathbf{{p}}} \u00e2\u0088\u0088 {\\mathcal{X}}$} with $w_{\\mathcal{X}}({\\mathbf{{p}}}) = 1$ and ${\\mathbf{{p}}} \u00e2\u0088\u0089 {\\mathcal{X}}$ with $w_{\\mathcal{X}}({\\mathbf{{p}}}) =0$.\n\n\\paragraph{Algorithm}\nThis immediately reveals an algorithm for conducting boolean operations on\n\\emph{solid}\n\n\\footnote{A solid triangle mesh is the oriented boundary of solid region: its\ninduced winding number is exactly zero or one for any point not on the mesh.}\n\ntriangle meshes ${A}$ and ${B}$\nwith vertices at general positions in space ${A}$ and ${B}$.\n\nRefine each mesh at mutual triangle-triangle intersections with the other so\nthat intersections lie only at vertices and along edges (see, e.g.,\n\\cite{Jacobson:WN:2013}).\n\nFor each triangle $t_a$ of ${A}$, determine its winding number with respect to\n${B}$, e.g., by evaluating $w_{B}({\\mathbf{{t}}}_a)$ where ${\\mathbf{{t}}}_a$ is the triangle $t_a$'s\nbarycenter.\n\nLikewise determine for each triangle $t_b$ of ${B}$ its winding number with\nrespect to ${A}$.\n\nFinally---depending on the boolean operation---keep, keep-and-flip, or discard\neach triangle from ${A}$ and ${B}$.\n\nFor example, for ${\\mathcal{A}} \\setminus {\\mathcal{B}}$ (see {Figure~\\ref{fig:{teaser}}}),\n\n\n", "itemtype": "equation", "pos": 1847, "prevtext": "\n\nMeanwhile, the winding number function\n$w_{\\mathcal{A}} \\colon {\\mathbb{R}}^3 \\setminus \u00e2\u0088\u0082A \u00e2\u0086\u0092{\\mathbb{Z}}$\ndetermines for every point\nwhether it is inside the set ${\\mathcal{A}}$ purely by examining the set's oriented\nboundary $\u00e2\u0088\u0082{\\mathcal{A}}$.\n\nThe winding number integrates the signed surface area of $\u00e2\u0088\u0082{\\mathcal{A}}$ projected onto a\nunit ball around a given point ${\\mathbf{{p}}}$, or in polar coordinates and w.l.o.g.\\\n${\\mathbf{{p}}}=\\mathbf{0}$:\n\n\n", "index": 3, "text": "\\begin{equation}\nw_{\\mathcal{A}}({\\mathbf{{p}}}) = \\iint\\limits_{\u00e2\u0088\u0082{\\mathcal{A}}} \\sin{\u00cf\u0086} \\,d\u00ce\u00b8\\,d\u00cf\u0086, = \\begin{cases}\n1 & \\text{ if ${\\mathbf{{p}}} \u00e2\u0088\u0088 {\\mathcal{A}}$}, \\\\\n0 & \\text{ otherwise (${\\mathbf{{p}}} \u00e2\u0088\u0089 {\\mathcal{A}}$)}.\n\\end{cases}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E4.m1\" class=\"ltx_Math\" alttext=\"w_{\\mathcal{A}}({\\mathbf{{p}}})=\\iint\\limits_{\\unichar{226}\\unichar{136}%&#10;\\unichar{130}{\\mathcal{A}}}\\sin{\\unichar{207}\\unichar{134}}\\,d\\unichar{206}%&#10;\\unichar{184}\\,d\\unichar{207}\\unichar{134},=\\begin{cases}1&amp;\\text{ if ${\\mathbf%&#10;{{p}}}\\unichar{226}\\unichar{136}\\unichar{136}{\\mathcal{A}}$},\\\\&#10;0&amp;\\text{ otherwise (${\\mathbf{{p}}}\\unichar{226}\\unichar{136}\\unichar{137}{%&#10;\\mathcal{A}}$)}.\\end{cases}\" display=\"block\"><mrow><msub><mi>w</mi><mi class=\"ltx_font_mathcaligraphic\">\ud835\udc9c</mi></msub><mrow><mo stretchy=\"false\">(</mo><mi>\ud835\udc29</mi><mo stretchy=\"false\">)</mo></mrow><mo>=</mo><munder><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u222c</mo><mrow><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>226</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>130</mn><mo>\u2062</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udc9c</mi></mrow></munder><mi>sin</mi><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mn>207</mn><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mpadded width=\"+1.7pt\"><mn>134</mn></mpadded><mi>d</mi><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mn>206</mn><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mpadded width=\"+1.7pt\"><mn>184</mn></mpadded><mi>d</mi><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mn>207</mn><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mn>134</mn><mo>,</mo><mo>=</mo><mrow><mo>{</mo><mtable columnspacing=\"5pt\" displaystyle=\"true\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mn>1</mn></mtd><mtd columnalign=\"left\"><mrow><mrow><mtext>\u00a0if\u00a0</mtext><mrow><mi>\ud835\udc29</mi><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>226</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udc9c</mi></mrow></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mn>0</mn></mtd><mtd columnalign=\"left\"><mrow><mrow><mtext>\u00a0otherwise (</mtext><mrow><mi>\ud835\udc29</mi><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>226</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>137</mn><mo>\u2062</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udc9c</mi></mrow><mtext>)</mtext></mrow><mo>.</mo></mrow></mtd></mtr></mtable></mrow></mrow></math>", "type": "latex"}, {"file": "1601.07953.tex", "nexttext": "\n\nFor non-general position meshes, if the barycenter ${\\mathbf{{t}}}_a$ from a triangle of\n${A}$ lies exactly on ${B}$ (e.g., due to coplanar overlaps), \n\nthe winding number $w_{B}({\\mathbf{{t}}}_a)$ is undefined and this algorithm will fail.\n\nCoplanar overlaps can be handled by identifying perfectly coplanar triangles\nduring triangle-triangle intersection resolution.\n\nFor each pair of resolved ``duplicate'' triangles $t_a$ and $t_b$, either keep\none or discard both depending on the operation.\n\nFor example, if conducting the difference of ${\\mathcal{B}}$ from ${\\mathcal{A}}$, then discard both\nif $t_a$ and $t_b$ have the same orientation and keep $t_a$ otherwise.\n\nThe classic notion of the winding number applies to any closed oriented\nsurface, not just those bounding a solid.\n\nThe winding number for such surfaces will be a possibly negative integer\nindicating \\emph{how many times} a point is inside the surface.\n\nWe can immediately generalize our algorithm to handle any immersed closed\noriented triangle meshes by replacing $w_{X}({\\mathbf{{p}}}) = 1$ with $w_{X}({\\mathbf{{p}}}) > 0$.\n\nAlternatively, if we consider ``inside-out'' regions as inside then replace\n$w_{X}({\\mathbf{{p}}}) = 1$ with $|w_{X}({\\mathbf{{p}}})| > 0$.\n\n\n\n\n\n\\begin{figure}[t]\n\\includegraphics[width=\\linewidth]{ab-generalized-winding-number}\n\\caption{Holey, non-manifold triangle meshes ${A}$ and ${B}$ each induce a\ngeneralized winding number function on the other's faces, useful for boolean\noperations such as ${A} \\setminus {B}$.}\n\\label{fig:teaser}\n\\end{figure}\n\n\\section{Generalized Winding Numbers}\nJacobson et al.\\ \n\\shortcite{Jacobson:WN:2013}\ndefine the generalized winding number $w_{X} \\colon {\\mathbb{R}}^3\\setminus\n{X}\u00e2\u0086\u0092{\\mathbb{R}}$ for arbitrary oriented triangle meshes as the sum of the signed solid\nangles $\u00ce\u00a9_t$ subtended by each triangle $t$:\n\n\n", "itemtype": "equation", "pos": 3636, "prevtext": "\n\nIf ${\\mathcal{A}}$ is an (embedded) solid, its winding number will be exactly one for\npoints inside ${\\mathcal{A}}$ and exactly zero for points outside.\n\nWe can replace the set inclusions in the definitions of the boolean operations\nin Equations~(\\ref{equ:union}-\\ref{equ:difference}) with winding number\nexpressions:\n\nreplace \\mbox{${\\mathbf{{p}}} \u00e2\u0088\u0088 {\\mathcal{X}}$} with $w_{\\mathcal{X}}({\\mathbf{{p}}}) = 1$ and ${\\mathbf{{p}}} \u00e2\u0088\u0089 {\\mathcal{X}}$ with $w_{\\mathcal{X}}({\\mathbf{{p}}}) =0$.\n\n\\paragraph{Algorithm}\nThis immediately reveals an algorithm for conducting boolean operations on\n\\emph{solid}\n\n\\footnote{A solid triangle mesh is the oriented boundary of solid region: its\ninduced winding number is exactly zero or one for any point not on the mesh.}\n\ntriangle meshes ${A}$ and ${B}$\nwith vertices at general positions in space ${A}$ and ${B}$.\n\nRefine each mesh at mutual triangle-triangle intersections with the other so\nthat intersections lie only at vertices and along edges (see, e.g.,\n\\cite{Jacobson:WN:2013}).\n\nFor each triangle $t_a$ of ${A}$, determine its winding number with respect to\n${B}$, e.g., by evaluating $w_{B}({\\mathbf{{t}}}_a)$ where ${\\mathbf{{t}}}_a$ is the triangle $t_a$'s\nbarycenter.\n\nLikewise determine for each triangle $t_b$ of ${B}$ its winding number with\nrespect to ${A}$.\n\nFinally---depending on the boolean operation---keep, keep-and-flip, or discard\neach triangle from ${A}$ and ${B}$.\n\nFor example, for ${\\mathcal{A}} \\setminus {\\mathcal{B}}$ (see {Figure~\\ref{fig:{teaser}}}),\n\n\n", "index": 5, "text": "\\begin{align}\n\\forall\\,t_a \u00e2\u0088\u0088 {A} & \\begin{cases}\n  \\text{keep\\hphantom{-and-flip}}    & \\text{ if $w_{B}({\\mathbf{{t}}}_a) = 0$}, \\\\\n  \\text{discard}                     & \\text{ otherwise $\\left(w_{B}({\\mathbf{{t}}}_a) = 1\\right)$},\n\\end{cases}\\\\\n\\forall\\,t_b \u00e2\u0088\u0088 {B} & \\begin{cases}\n  \\text{keep-and-flip}               & \\text{ if $w_{A}({\\mathbf{{t}}}_b) = 1$}, \\\\\n  \\text{discard}                     & \\text{ otherwise $\\left(w_{A}({\\mathbf{{t}}}_b) = 0\\right)$}.\n\\end{cases}\n\\end{align}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E5.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle\\forall\\,t_{a}\\unichar{226}\\unichar{136}\\unichar{136}{A}\" display=\"inline\"><mrow><mo rspace=\"4.2pt\">\u2200</mo><mrow><msub><mi>t</mi><mi>a</mi></msub><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>226</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><mi>A</mi></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E5.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle\\begin{cases}\\text{keep\\hphantom{-and-flip}}&amp;\\text{ if $w_{B}({%&#10;\\mathbf{{t}}}_{a})=0$},\\\\&#10;\\text{discard}&amp;\\text{ otherwise $\\left(w_{B}({\\mathbf{{t}}}_{a})=1\\right)$},%&#10;\\end{cases}\" display=\"inline\"><mrow><mo>{</mo><mtable columnspacing=\"5pt\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mrow><mtext>keep</mtext><mtext>-and-flip</mtext></mrow></mtd><mtd columnalign=\"left\"><mrow><mrow><mtext>\u00a0if\u00a0</mtext><mrow><mrow><msub><mi>w</mi><mi>B</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>\ud835\udc2d</mi><mi>a</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mn>0</mn></mrow></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mtext>discard</mtext></mtd><mtd columnalign=\"left\"><mrow><mrow><mtext>\u00a0otherwise\u00a0</mtext><mrow><mo>(</mo><mrow><mrow><msub><mi>w</mi><mi>B</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>\ud835\udc2d</mi><mi>a</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mn>1</mn></mrow><mo>)</mo></mrow></mrow><mo>,</mo></mrow></mtd></mtr></mtable></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E6.m1\" class=\"ltx_Math\" alttext=\"\\displaystyle\\forall\\,t_{b}\\unichar{226}\\unichar{136}\\unichar{136}{B}\" display=\"inline\"><mrow><mo rspace=\"4.2pt\">\u2200</mo><mrow><msub><mi>t</mi><mi>b</mi></msub><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>226</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><mi>B</mi></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E6.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle\\begin{cases}\\text{keep-and-flip}&amp;\\text{ if $w_{A}({\\mathbf{{t}}}%&#10;_{b})=1$},\\\\&#10;\\text{discard}&amp;\\text{ otherwise $\\left(w_{A}({\\mathbf{{t}}}_{b})=0\\right)$}.%&#10;\\end{cases}\" display=\"inline\"><mrow><mo>{</mo><mtable columnspacing=\"5pt\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mtext>keep-and-flip</mtext></mtd><mtd columnalign=\"left\"><mrow><mrow><mtext>\u00a0if\u00a0</mtext><mrow><mrow><msub><mi>w</mi><mi>A</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>\ud835\udc2d</mi><mi>b</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mn>1</mn></mrow></mrow><mo>,</mo></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mtext>discard</mtext></mtd><mtd columnalign=\"left\"><mrow><mrow><mtext>\u00a0otherwise\u00a0</mtext><mrow><mo>(</mo><mrow><mrow><msub><mi>w</mi><mi>A</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>\ud835\udc2d</mi><mi>b</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mn>0</mn></mrow><mo>)</mo></mrow></mrow><mo>.</mo></mrow></mtd></mtr></mtable></mrow></math>", "type": "latex"}, {"file": "1601.07953.tex", "nexttext": "\n\n\nThis smooth function measures for each point in space \\emph{how much it is\ninside} ${\\mathcal{X}}$.\n\nFor example, a punctured sphere will induce a winding number value close to one\ninside and far from the hole, and a value close to zero outside and far from\nthe hole.\n\nNear the hole, the value will smoothly transition from near one to near zero\npassing through one half close by the hole.\n\nWe may immediately generalize the boolean algorithm in the previous section to\narbitrary oriented triangle meshes.\n\nSimply replace  $w_{X}({\\mathbf{{p}}}) = 1$ with $w_{X}({\\mathbf{{p}}}) > 1/2$;\n\nalternatively, with $|w_{X}({\\mathbf{{p}}})| > 1/2$ if treating negative regions as inside.\n\n\n\n\n\n\n\n\n\n\n\nThis proposed method avoids volumetric discretization of Jacobson et al.\\\n\\shortcite{Jacobson:WN:2013} but enjoys their hierarchical winding number\nevaluation.\n\n\n\n\n\n\nComputing the generalized winding number as a floating point summation could\npotentially lead to incorrect assignment due to round-off.\n\n\n\nIf evaluation points (i.e., barycenters from the \\emph{other} mesh) are not\nvery close to open boundaries then this is a non-issue.\n\n\\bibliographystyle{acmsiggraph}\n\\bibliography{references}\n\n\n\n", "itemtype": "equation", "pos": 5985, "prevtext": "\n\nFor non-general position meshes, if the barycenter ${\\mathbf{{t}}}_a$ from a triangle of\n${A}$ lies exactly on ${B}$ (e.g., due to coplanar overlaps), \n\nthe winding number $w_{B}({\\mathbf{{t}}}_a)$ is undefined and this algorithm will fail.\n\nCoplanar overlaps can be handled by identifying perfectly coplanar triangles\nduring triangle-triangle intersection resolution.\n\nFor each pair of resolved ``duplicate'' triangles $t_a$ and $t_b$, either keep\none or discard both depending on the operation.\n\nFor example, if conducting the difference of ${\\mathcal{B}}$ from ${\\mathcal{A}}$, then discard both\nif $t_a$ and $t_b$ have the same orientation and keep $t_a$ otherwise.\n\nThe classic notion of the winding number applies to any closed oriented\nsurface, not just those bounding a solid.\n\nThe winding number for such surfaces will be a possibly negative integer\nindicating \\emph{how many times} a point is inside the surface.\n\nWe can immediately generalize our algorithm to handle any immersed closed\noriented triangle meshes by replacing $w_{X}({\\mathbf{{p}}}) = 1$ with $w_{X}({\\mathbf{{p}}}) > 0$.\n\nAlternatively, if we consider ``inside-out'' regions as inside then replace\n$w_{X}({\\mathbf{{p}}}) = 1$ with $|w_{X}({\\mathbf{{p}}})| > 0$.\n\n\n\n\n\n\\begin{figure}[t]\n\\includegraphics[width=\\linewidth]{ab-generalized-winding-number}\n\\caption{Holey, non-manifold triangle meshes ${A}$ and ${B}$ each induce a\ngeneralized winding number function on the other's faces, useful for boolean\noperations such as ${A} \\setminus {B}$.}\n\\label{fig:teaser}\n\\end{figure}\n\n\\section{Generalized Winding Numbers}\nJacobson et al.\\ \n\\shortcite{Jacobson:WN:2013}\ndefine the generalized winding number $w_{X} \\colon {\\mathbb{R}}^3\\setminus\n{X}\u00e2\u0086\u0092{\\mathbb{R}}$ for arbitrary oriented triangle meshes as the sum of the signed solid\nangles $\u00ce\u00a9_t$ subtended by each triangle $t$:\n\n\n", "index": 7, "text": "\\begin{equation}\n\nw_{X}({\\mathbf{{p}}}) = \u00e2\u0088\u0091\\limits_{t \u00e2\u0088\u0088 {X}} \\frac{1}{4\u00cf\u0080} \u00ce\u00a9_t({\\mathbf{{p}}}).\n\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E7.m1\" class=\"ltx_Math\" alttext=\"\\par&#10; w_{X}({\\mathbf{{p}}})=\\unichar{226}\\unichar{136}\\unichar{145}\\limits_{t%&#10;\\unichar{226}\\unichar{136}\\unichar{136}{X}}\\frac{1}{4\\unichar{207}\\unichar{128%&#10;}}\\unichar{206}\\unichar{169}_{t}({\\mathbf{{p}}}).\\par&#10;\" display=\"block\"><mrow><mrow><mrow><msub><mi>w</mi><mi>X</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>\ud835\udc29</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>226</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><munder><mn>145</mn><mrow><mi>t</mi><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>226</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>136</mn><mo>\u2062</mo><mi>X</mi></mrow></munder><mo>\u2062</mo><mfrac><mn>1</mn><mrow><mn>4</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>207</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>128</mn></mrow></mfrac><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><mn>206</mn><mo>\u2062</mo><merror class=\"ltx_ERROR undefined undefined\"><mtext>\\unichar</mtext></merror><mo>\u2062</mo><msub><mn>169</mn><mi>t</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>\ud835\udc29</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}]