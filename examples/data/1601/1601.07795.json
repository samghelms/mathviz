[{"file": "1601.07795.tex", "nexttext": "\n\nwhere $P_{nm}$ is the transmit power of SBS $n$ to user $m$.\n\nSince in small cell networks the number of SBSs is large, the user cannot acquire the statistical information of \nall channels to all SBSs. Consequently, in order to make the model realistic, we assume that at the time of SBS selection, the user does not have any information about channel quality, amount of harvested energy and/or network traffic. After the energy harvesting (inactive) step and at the beginning of transmission (active) step, every SBS acquires the channel state information (CSI) of assigned users by using pilot signals, in order to allocate the required energy. This task is performed sequentially according to the selection order, i.e., on a first-come first-served basis. The SBS stops as soon as all energy is allocated, and the remaining users are denied services. Transmission is performed either sequentially or simultaneously, depending on the number of antennas and frequency resources available at the SBS. For every SBS $m$, the energy harvesting and transmission protocol is summarized in \\textbf{Algorithm \\ref{Alg:Trans}}. Note that SBSs and/or users are not required to be synchronized.\n\n\\begin{algorithm}\n\\caption{Energy Harvesting and Transmission Model}\n\\label{Alg:Trans}\n\\small\n\\begin{algorithmic}[1]\n\\FOR{Period $j=1,2,...$}\n\\STATE For $0<t<T_{m}$, \n       \\begin{itemize}\n        \\item The SBS harvests energy. \n        \\item Given no information, a set $\\mathcal{N}_{m}$ of users selects SBS $m \\in \\mathcal{M}$ for transmission \n             (Section \\ref{sec:Bandit}).  \n       \\end{itemize}\n\\STATE By using a broadcast signal, the SBS announces to the network that it enters the active (transmission) mode. \t\t\t\n\\STATE For $t>T_{m}$, \n       \\begin{itemize}\n        \\item The SBS knows the amount of its harvested energy. \n        \\item On a first-come first-served basis, the SBS serves its assigned users as follows: \n        \\begin{itemize}\n           \\item It obtains CSI by using pilot signals;\n           \\item By signaling from the user, it acquires the required QoS information; \n           \\item It calculates and allocates the required energy;\n           \\item Transmission is performed. \n       \\end{itemize}\n       \\end{itemize}\n\\STATE By using a broadcast signal, the SBS announces to the network that it enters the inactive (energy harvesting) mode.\t\t\t\n\\ENDFOR       \n\\end{algorithmic}\n\\end{algorithm}\n\n\\begin{remark}\n\nTraditionally, each user can associate to a single SBS; multiple simultaneous associations, however, would enhance the system throughput and reduce the outage ratio, particularly for cell edge users. In contrast to most previous works, our proposed user association scheme is also applicable to the network model in which every user $n \\in \\mathcal{N}$ is allowed to associate to multiple SBSs, say, a set $\\mathcal{M}_{n} \\subseteq \\mathcal{M}$ with cardinality $M_{n}$. In particular, in Section \\ref{sec:Bandit}, we will describe that by using the proposed selection policy, user $n$ simply selects \n$M_{n}$ SBSs instead of one SBS only. Such user can be thus regarded as multiple (i.e., $M_{n}$) virtual users, each of them associated to a single SBS. Clearly, this interpretation gives rise to invisible changes in network characteristics; for instance, visible network traffic is lighter than the true one, as every physical user that arrives in the network would act as multiple virtual users. Nonetheless, imprecise network characteristics do not affect the performance of the proposed selection method due to the following reason: As we will see later, selections are performed in a distributed manner by users, which are assumed to have no prior information. More precisely, all \\textit{true} network characteristics are learned through successive interactions with the environment. Therefore, the hidden effects are learned as well.\n\\end{remark}\n\n\\section{Analytical Models of Energy Harvesting and Energy Consumption}\n\\label{sec:energyModel}\n\nBefore proceeding to the user association problem, in this section we describe the analytical models of energy harvesting as well as energy consumption.\n\n\\subsection{Energy Harvesting}\n\\label{subsec:energyHar}\n\nIntuitively, energy harvesting is of opportunistic nature; as a result, the amount of harvested energy is \na random variable, which, may not be easily attributed to some well-known probability distribution \nfunction. In fact, according to \\cite{Lee11:EMS}, many distributions such as geometric distribution, Poisson \ndistribution, transformed Poisson distribution as well as Markovian model are not adequate to model the random \nharvested energy, and a combination of distribution functions should be used for analytical modeling. In this \npaper, we propose to use a compound Poisson model for energy harvesting, as described in the following. \n\nFor every SBS $m \\in \\mathcal{M}$, the energy arrival, $K_{m}$, is modeled by a Poisson Process with rate $\\lambda_{m}$; that is, $K_{m} \\sim \\textup{Poi}(\\lambda_{m})$. Moreover, at every arrival, the amount of harvested energy, denoted by \n$X_{m,i}$, is modeled as a random variable following exponential distribution with parameter $\\mu_{m,i}$; i.e., \n$X_{m,i} \\sim \\textup{Exp}(\\mu_{m,i})$. We assume that each SBS continues to harvest the energy until the \n$k_{m}$-th arrival. If $\\mu_{m,i}$ is known at SBS $m$, $k_{m}$ can be selected according to its storage capacity; otherwise it is simply selected randomly. Afterward, transmission (active) step starts. As a result, the duration of the energy harvesting (inactive) step, $T_{m}$, is a random variable itself. As it is well-known, for any Poisson process with rate $\\lambda$, the inter-arrival time follows an exponential distribution with parameter $\\lambda$. Thus, $T_{m}$ has the distribution of the sum of $k_{m}$ independent and identically-distributed (i.i.d.) exponential random variables, which, according to the following lemma, is an Erlang distribution with parameters $k_{m}$ and $\\lambda_{m}$, i.e, $T_{m} \\sim \\textup{Erl}(k_{m},\\lambda_{m})$. \n\n\\begin{lemma}[\\cite{Amari97:CFE}]\n\\label{lm:ExpSumIid}\nLet $X_{i}$, $i \\in \\left \\{1,...,k \\right \\}$, be i.i.d. random variables, where $X_{i} \\sim \n\\textup{Exp}(\\lambda)$. Then $S=\\sum_{i=1}^{k}X_{i}$ follows an Erlang distribution with parameters \n$k$ and $\\lambda$, i.e., $S \\sim \\textup{Erl}(k,\\lambda)$, so that\n\n\n", "itemtype": "equation", "pos": 13667, "prevtext": "\n\n\\title{Distributed User Association in Energy Harvesting Small Cell Networks: A Probabilistic Model}\n\n\n\\author{\n\\IEEEauthorblockN{Setareh Maghsudi and Ekram Hossain, \\textit{Fellow, IEEE}\\\\}\n\\thanks{The authors are with the Department of Electrical and Computer Engineering, University \nof Manitoba, Winnipeg, MB, Canada (e-mails: \\{setareh.maghsudi, ekram.hossain\\}@umanitoba.ca).}\n}\n\n\\maketitle\n\n\n\\begin{abstract}\n\nWe consider a distributed downlink user association problem in a small cell network, where small \ncells obtain the required energy for providing wireless services to users through ambient energy \nharvesting. Since energy harvesting is opportunistic in nature, the amount of harvested energy is \na random variable, without any a priori known characteristics. Moreover, since users arrive in the network \nrandomly and require different wireless services, the energy consumption is a random variable as \nwell. In this paper, we propose a probabilistic framework to mathematically model and analyze the \nrandom behavior of energy harvesting and energy consumption in dense small cell networks. Furthermore, as \nacquiring (even statistical) channel and network knowledge is very costly in a distributed dense \nnetwork, we develop a bandit-theoretical formulation for distributed user association when no \ninformation is available at users. \n\n\\end{abstract}\n\n\n\n{\\em Keywords}: Small cell networks, energy harvesting,  distributed user association, uncertainty, bandit theory.\n\n\n\n\\section{Introduction}\n\\label{sec:Introduction}\n\nIn order to cope with the ever-increasing need for mobile services, future wireless networks are foreseen to deploy dense small cells to underlay the legacy macro cellular networks. This concept takes advantage from low power short-range base stations that offload macro cell traffic \\cite{Hossain14:ETG}, \\cite{Fodor12:DAN}. As usual, these advantages come at some cost; more specifically, system designers face a variety of new challenges in order to realize the concept of small cell networks. Examples of challenges include synchronization \\cite{Zou15:NSDS}, resource allocation \\cite{Amin15:APG}, interference mitigation \\cite{Zhang15:ROIM}, handover management \\cite{Zhang15:CIM}, and user association, which is the focus of this paper, as described in the following.\n\n\\subsection{Motivation and Contribution}\n\\label{subsec:Contribution}\n\nUser association is a fundamental problem in wireless communications that has been under intensive investigation in the past decade; however, due to structural differences between dense small cell networks and conventional cellular networks, the association methods developed to be applied in the latter might not be efficient when used in the former; consequently, it becomes imperative to search for new approaches that are specifically tailored for the emerging networking concepts, including 5G small cell networks. In the following, we review important existing works. In \n\\cite{Semiari14:MTP}, matching theory is applied to solve the user association problem in dense small cell networks. A similar work is \\cite{Namvar14:ACM}, where the authors propose a context-aware user-cell association approach that exploits the information about the velocity and trajectory of users. While taking the quality of service (QoS) requirements into account, matching theory is used to design a novel algorithm to solve the user association problem. Reference \\cite{Saad14:CAG} formulates the uplink user association as a college admission game and proposes an algorithm based on coalitional games to solve the problem. Joint user association and resource allocation is investigated in \n\\cite{Chen15:JUA}, and a belief propagation algorithm is proposed for joint user association, sub-channel allocation, and power control. Energy-efficient and traffic-aware user association are studied in \\cite{Mesodiakaki14:EEU} and \n\\cite{Elbassiouny15:TAU}, correspondingly. The results show that exploiting the available context-aware information, for example, users' measurements and requirements, as well as knowledge of the network, can improve energy- and spectrum-efficiency when performing the user association. A cross-layer framework for user association control in wireless networks is investigated in \\cite{Athanasiou09:ACL}. Load balancing through efficient user association is investigated in \n\\cite{Ye13:UAL}. In a large body of previous research works, the proposed user association scheme is centralized or only partially distributed, which necessitates the availability of global channel state information (CSI) at least at a central node, resulting in high computational cost and/or overhead. Therefore, it is necessary to develop distributed user association schemes that are able to cope with information shortage.\n\n\nFurthermore, in a dense small cell network, unlike the conventional cellular networks, small cells are irregularly deployed; hence, not all of them can be connected to a power grid. Therefore, the required energy for small cells may need to be harvested locally from the ambient environment \\cite{Sudeva11:EHS}, rather than being provided by using a fixed power supply. By using this concept, not only the small cells become self-healing but also frequent recharge of fixed power supply and/or the cost and waste of transferring the energy from a power beacon can be avoided. This sort of energy-independence is in particular feasible in small cell networks, since small cells normally provide limited services to a small number of users; that is, the energy obtained through energy harvesting might suffice to satisfy users' requirements. Nonetheless, since energy harvesting is opportunistic in general, uncertainty is a natural attribute of the amount of residual energy in small cells. In the presence of uncertainty, distributed user association becomes even more challenging, since assignment is performed \\textit{before} any information regarding the amount of energy in each small cell is disclosed. \n\nIn a vast majority of existing literature, the proposed user association method is designated for a specific energy harvesting model, for example, random Poisson process \\cite{Song14:TUA} or Bernoulli energy arrival \\cite{Yu15:EHP}. Nonetheless, according to \\cite{Lee11:EMS}, many distributions such as geometric distribution, Poisson distribution, transformed Poisson distribution as well as Markovian model are not adequate to model the random harvested energy; as a result, it is important to look for new analytical models for random energy harvesting, which includes a combination of distribution functions. In addition, it is clear that a strong dependency between the user association method and the model of energy harvesting reduces the method's applicability. User association in conjunction with energy harvesting in small cell network is also considered in \\cite{Sakr15:AMT}. Therein, stochastic geometry is used to develop a modeling framework for $K$-tier uplink cellular networks with RF energy harvesting from the concurrent cellular transmissions.\n\nIn this paper, we consider a distributed small cell network with energy harvesting, where all network characteristics, including frequency of energy arrival, energy intensity, quality of wireless channels, as well as user arrival at every small base station \n(SBS), are non-deterministic and hence, uncertain. This stands in sharp contrast with most previous works, in which only some of the network characteristics are regarded as random variables. We develop a new analytical model for energy harvesting, and we define the notion of successful transmission under uncertainty. We then derive a formula for success probability in this random environment. Assuming that no central controller exists and also users are not provided with any channel and network information, we cast the distributed user association problem as a multi-armed bandit problem with sleeping arms, and we solve the formulated problem using some algorithmic solution. Unlike many previous works, the proposed user allocation scheme is distributed, does not require any information at users, and does not depend on the specific model of energy harvesting; thus it is highly flexible and offers more applicability in comparison with state-of-the-art solutions. \n\n\\subsection{Paper Organization}\n\\label{subsec:Organization}\n\nThe paper is organized as follows. In Section \\ref{sec:SysMod}, we describe the small cell network model \ntogether with energy harvesting and transmission protocols. In Section \\ref{sec:energyModel}, we propose \ntwo probabilistic models to analyze energy harvesting and energy consumption in small cell networks. In \nSection \\ref{sec:Problem} we present the user association problem. Bandit-theoretical model of the formulated \nuser association problem is described in Section \\ref{sec:Bandit}. Section \\ref{sec:Numeric} includes \nnumerical analysis and discussions. Section \\ref{sec:Conclusion} concludes the paper.\n\n\\section{System and Transmission Model}\n\\label{sec:SysMod}\n\nWe consider a dense small cell network consisting of a set $\\mathcal{M}$ of $M$ small cells and a set $\\mathcal{N}$ of $N$ users. Data packets are transmitted to the users in the downlink in successive  transmission rounds. For every transmission round, each user is associated to only one\\footnote{However, as will be discussed later in this paper, the proposed solution is also applicable to the case where every user might associate to multiple SBSs of its choice.}~small cell of its own choice. That is, every user selects an SBS by itself, which implies that the association is performed in a distributed manner. Multiple users can be served by a single SBS. By $\\mathcal{N}_{m}$ we denote the set of $N_{m}$ users to be served by SBS $m \\in \\mathcal{M}$. For the transmission of every data packet, every user $n$ requires a specific quality of service (QoS) that is expressed in terms of a minimum data rate $r_{n,\\min}$. If communicating via SBS $m \\in \\mathcal{M}$, the QoS of a user $n$ is satisfied when it is allocated some energy $q_{nm}$. As mentioned before, unlike conventional cellular infrastructures, in a small cell network, SBSs are irregularly deployed so that many of them cannot be attached to a power grid. Therefore, we investigate a scenario in which every small cell obtains the energy through local ambient energy harvesting, for instance, by attracting and converting the solar or wind energy. We assume that energy harvesting is independent across small cells. Since energy harvesting is random in nature, in each small cell the amount of harvested energy is a random variable. We assume that every SBS uses a \\textit{harvest-use} strategy. For an SBS $m \\in \\mathcal{M}$, this scheme is briefly described in the following. \n\nThe SBS operates \\textit{periodically} in two consecutive steps, namely, energy harvesting (inactive) and data transmitting (active). In the first step, which lasts for some time denoted by $T_{m}$, the SBS harvests the energy. During this time, that is, before any information about the amount of harvested energy is disclosed, SBS $m$ is selected by some users, in a distributed manner, as service provider. At the end of energy harvesting step, the SBS announces to the network (for instance, by using a broadcast signal), that it starts the second step, i.e., it enters the active mode. Transmissions are performed in the second step, which lasts until either the energy is exhausted or all assigned users are served. The end of this step and re-entering the inactive mode is also announced to the network. For simplicity, we assume that no energy is stored and transferred from one period to the other. In other words, the number of users to be served by every SBS is large enough so that the residual energy at the end of second step can be neglected compared to the newly harvested energy. Every SBS allocates energy to users on a first-come first-served basis; therefore, the number of users that can be served by every SBS depends on the amount of harvested energy. We assume that at every SBS $m$, the allocated energy to each user cannot exceed a maximum amount, say, $q_{m,\\max}$. Intuitively, this assumption improves the energy efficiency of the network by providing incentive to users to select an SBS to whom they have high channel quality, so that the required energy does not exceed the threshold. In case the required energy is larger than the allowed amount, transmission is still performed, but clearly with some quality of service lower than requested. \n\nWe assume that each small cell is provided with sufficient spectrum resources to guarantee orthogonal transmission to its assigned users; that is, inside every small cell, transmissions are corrupted only by zero-mean additive white Gaussian noise (AWGN) with variance $N_{0}$. For each small cell $m \\in \\mathcal{M}$, the intercell interference experienced by every user $n \\in \\mathcal{N}_{m}$, denoted by $I_{nm} \\geq 0$, is regarded as noise and is assumed to be fixed and known. The real-valued channel coefficient between \nuser $n \\in \\mathcal{N}_{m}$ and small cell $m \\in \\mathcal{M}$ is denoted by $h_{nm}$. We assume frequency non-selective  block fading channel model, where $h_{nm}$ is Rayleigh-distributed and remains fixed during the transmission of every packet for all $n \\in \\mathcal{N}$ and $m \\in \\mathcal{M}$.\\footnote{Although we focus on Rayleigh fading model for our analysis of energy consumption, the proposed association method does not depend on the channel fading model.}~For each $n \\in \\mathcal{N}_{m}$, the achievable transmission rate is given by\n\n\n", "index": 1, "text": "\\begin{equation}\n\\label{eq:Rate}\nr_{nm}(h_{nm})=\\log \\left(1+ \\frac{P_{nm}\\left| h_{nm} \\right|^{2}}{N_{0}+I_{nm}} \\right),\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E1.m1\" class=\"ltx_Math\" alttext=\"r_{nm}(h_{nm})=\\log\\left(1+\\frac{P_{nm}\\left|h_{nm}\\right|^{2}}{N_{0}+I_{nm}}%&#10;\\right),\" display=\"block\"><mrow><mrow><mrow><msub><mi>r</mi><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>h</mi><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mi>log</mi><mo>\u2061</mo><mrow><mo>(</mo><mrow><mn>1</mn><mo>+</mo><mfrac><mrow><msub><mi>P</mi><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow></msub><mo>\u2062</mo><msup><mrow><mo>|</mo><msub><mi>h</mi><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow></msub><mo>|</mo></mrow><mn>2</mn></msup></mrow><mrow><msub><mi>N</mi><mn>0</mn></msub><mo>+</mo><msub><mi>I</mi><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow></msub></mrow></mfrac></mrow><mo>)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\n\\end{lemma}\n\nPhysically, this model can be explained as follows. An arrival corresponds to an event when energy harvesting is possible; the amount of energy, however, is not equal at all arrivals. For instance, assume that the energy is harvested from the wind by using anemometer. When the wind intensity is larger than a specific threshold, then some energy can be obtained. A higher wind intensity, however, results in larger amount of energy, and \\textit{vice versa}. We model this phenomenon by using exponential distribution, since in most environments intensive weather conditions are unlikely; that is, at a single event, it is unlikely that the SBS harvests a very large amount of energy. Moreover, this model implies some sort of worst-case analysis, since in any exponential distribution with some fixed parameter, smaller values are more likely to happen than larger ones. The required number of arrivals to fill the storage capacity can be selected based on the weather forecast. It should be noted that, in this paper, the user association scheme does not assume any information on energy harvesting or channel quality, and therefore is not affected by the probabilistic model of energy harvesting. \n\nNow we are in a position to formalize the proposed energy harvesting model. Let $Y_{m}$ be the stored energy at small cell $m \\in \\mathcal{M}$, at the end of energy harvesting period. Then we have\n\n\n", "itemtype": "equation", "pos": 20200, "prevtext": "\n\nwhere $P_{nm}$ is the transmit power of SBS $n$ to user $m$.\n\nSince in small cell networks the number of SBSs is large, the user cannot acquire the statistical information of \nall channels to all SBSs. Consequently, in order to make the model realistic, we assume that at the time of SBS selection, the user does not have any information about channel quality, amount of harvested energy and/or network traffic. After the energy harvesting (inactive) step and at the beginning of transmission (active) step, every SBS acquires the channel state information (CSI) of assigned users by using pilot signals, in order to allocate the required energy. This task is performed sequentially according to the selection order, i.e., on a first-come first-served basis. The SBS stops as soon as all energy is allocated, and the remaining users are denied services. Transmission is performed either sequentially or simultaneously, depending on the number of antennas and frequency resources available at the SBS. For every SBS $m$, the energy harvesting and transmission protocol is summarized in \\textbf{Algorithm \\ref{Alg:Trans}}. Note that SBSs and/or users are not required to be synchronized.\n\n\\begin{algorithm}\n\\caption{Energy Harvesting and Transmission Model}\n\\label{Alg:Trans}\n\\small\n\\begin{algorithmic}[1]\n\\FOR{Period $j=1,2,...$}\n\\STATE For $0<t<T_{m}$, \n       \\begin{itemize}\n        \\item The SBS harvests energy. \n        \\item Given no information, a set $\\mathcal{N}_{m}$ of users selects SBS $m \\in \\mathcal{M}$ for transmission \n             (Section \\ref{sec:Bandit}).  \n       \\end{itemize}\n\\STATE By using a broadcast signal, the SBS announces to the network that it enters the active (transmission) mode. \t\t\t\n\\STATE For $t>T_{m}$, \n       \\begin{itemize}\n        \\item The SBS knows the amount of its harvested energy. \n        \\item On a first-come first-served basis, the SBS serves its assigned users as follows: \n        \\begin{itemize}\n           \\item It obtains CSI by using pilot signals;\n           \\item By signaling from the user, it acquires the required QoS information; \n           \\item It calculates and allocates the required energy;\n           \\item Transmission is performed. \n       \\end{itemize}\n       \\end{itemize}\n\\STATE By using a broadcast signal, the SBS announces to the network that it enters the inactive (energy harvesting) mode.\t\t\t\n\\ENDFOR       \n\\end{algorithmic}\n\\end{algorithm}\n\n\\begin{remark}\n\nTraditionally, each user can associate to a single SBS; multiple simultaneous associations, however, would enhance the system throughput and reduce the outage ratio, particularly for cell edge users. In contrast to most previous works, our proposed user association scheme is also applicable to the network model in which every user $n \\in \\mathcal{N}$ is allowed to associate to multiple SBSs, say, a set $\\mathcal{M}_{n} \\subseteq \\mathcal{M}$ with cardinality $M_{n}$. In particular, in Section \\ref{sec:Bandit}, we will describe that by using the proposed selection policy, user $n$ simply selects \n$M_{n}$ SBSs instead of one SBS only. Such user can be thus regarded as multiple (i.e., $M_{n}$) virtual users, each of them associated to a single SBS. Clearly, this interpretation gives rise to invisible changes in network characteristics; for instance, visible network traffic is lighter than the true one, as every physical user that arrives in the network would act as multiple virtual users. Nonetheless, imprecise network characteristics do not affect the performance of the proposed selection method due to the following reason: As we will see later, selections are performed in a distributed manner by users, which are assumed to have no prior information. More precisely, all \\textit{true} network characteristics are learned through successive interactions with the environment. Therefore, the hidden effects are learned as well.\n\\end{remark}\n\n\\section{Analytical Models of Energy Harvesting and Energy Consumption}\n\\label{sec:energyModel}\n\nBefore proceeding to the user association problem, in this section we describe the analytical models of energy harvesting as well as energy consumption.\n\n\\subsection{Energy Harvesting}\n\\label{subsec:energyHar}\n\nIntuitively, energy harvesting is of opportunistic nature; as a result, the amount of harvested energy is \na random variable, which, may not be easily attributed to some well-known probability distribution \nfunction. In fact, according to \\cite{Lee11:EMS}, many distributions such as geometric distribution, Poisson \ndistribution, transformed Poisson distribution as well as Markovian model are not adequate to model the random \nharvested energy, and a combination of distribution functions should be used for analytical modeling. In this \npaper, we propose to use a compound Poisson model for energy harvesting, as described in the following. \n\nFor every SBS $m \\in \\mathcal{M}$, the energy arrival, $K_{m}$, is modeled by a Poisson Process with rate $\\lambda_{m}$; that is, $K_{m} \\sim \\textup{Poi}(\\lambda_{m})$. Moreover, at every arrival, the amount of harvested energy, denoted by \n$X_{m,i}$, is modeled as a random variable following exponential distribution with parameter $\\mu_{m,i}$; i.e., \n$X_{m,i} \\sim \\textup{Exp}(\\mu_{m,i})$. We assume that each SBS continues to harvest the energy until the \n$k_{m}$-th arrival. If $\\mu_{m,i}$ is known at SBS $m$, $k_{m}$ can be selected according to its storage capacity; otherwise it is simply selected randomly. Afterward, transmission (active) step starts. As a result, the duration of the energy harvesting (inactive) step, $T_{m}$, is a random variable itself. As it is well-known, for any Poisson process with rate $\\lambda$, the inter-arrival time follows an exponential distribution with parameter $\\lambda$. Thus, $T_{m}$ has the distribution of the sum of $k_{m}$ independent and identically-distributed (i.i.d.) exponential random variables, which, according to the following lemma, is an Erlang distribution with parameters $k_{m}$ and $\\lambda_{m}$, i.e, $T_{m} \\sim \\textup{Erl}(k_{m},\\lambda_{m})$. \n\n\\begin{lemma}[\\cite{Amari97:CFE}]\n\\label{lm:ExpSumIid}\nLet $X_{i}$, $i \\in \\left \\{1,...,k \\right \\}$, be i.i.d. random variables, where $X_{i} \\sim \n\\textup{Exp}(\\lambda)$. Then $S=\\sum_{i=1}^{k}X_{i}$ follows an Erlang distribution with parameters \n$k$ and $\\lambda$, i.e., $S \\sim \\textup{Erl}(k,\\lambda)$, so that\n\n\n", "index": 3, "text": "\\begin{equation}\n\\label{eq:Erlang}\nf_{S}(s)=\\frac{\\lambda^{k}}{(k-1)!}s^{(k-1)}\\textup{exp}(-\\lambda s).\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E2.m1\" class=\"ltx_Math\" alttext=\"f_{S}(s)=\\frac{\\lambda^{k}}{(k-1)!}s^{(k-1)}\\textup{exp}(-\\lambda s).\" display=\"block\"><mrow><mrow><mrow><msub><mi>f</mi><mi>S</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>s</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mfrac><msup><mi>\u03bb</mi><mi>k</mi></msup><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow><mo lspace=\"0pt\" rspace=\"3.5pt\">!</mo></mrow></mfrac><mo>\u2062</mo><msup><mi>s</mi><mrow><mo stretchy=\"false\">(</mo><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></msup><mo>\u2062</mo><mtext>exp</mtext><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mo>-</mo><mrow><mi>\u03bb</mi><mo>\u2062</mo><mi>s</mi></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nwhere, by the discussion above, $k_{m}$ is the required number of energy arrival events to stop the inactive mode, \nand $X_{m,i} \\sim \\textup{Exp}(\\mu_{m,i})$ is the amount of harvested energy at the $i$-th event. In what follows, we derive the probability density function of $Y_{m}$. In doing so, we distinguish the following two cases: i) Energy arrivals are independent and identically-distributed; ii) Energy arrivals are independent, but distributions are not identical. \n\n\\subsubsection{Independent, identically-distributed energy arrivals}\n\\label{ssubsec:i.i.d-HarEnergy}\n\nLet the intensity of energy arrivals be modeled by i.i.d. random variables so that $\\mu_{m,i}=\\mu_{m}$ for \n$i \\in \\{1,...,k_{m}\\}$. Then by (\\ref{eq:Energy}) and according to Lemma \\ref{lm:ExpSumIid}, we have $Y_{m} \n\\sim \\textup{Erl}(k_{m},\\mu_{m})$.\\\\ \n\\textbf{Normal Approximation-} According to the central limit theorem, in case $k_{m}$ is large enough, for instance \n$k_{m}>30$, $Y_{m}$ can be approximated by a normal random variable with mean $\\frac{k_{m}}{\\mu_{m}}$ and variance \n$\\frac{k_{m}}{\\mu_{m}^{2}}$; i.e., $Y_{m} \\sim \\textup{Nor}(k_{m}/\\mu_{m}, k_{m}/\\mu_{m}^{2})$. \n\n\\subsubsection{Independent, non-identically-distributed energy arrivals}\n\\label{ssubsec:i.ni.d-HarEnergy}\n\nBefore proceeding to calculate $f_{Y}(y)$ for independent but non-identical (i.ni.d.) $X_{t}$, \nwe state the following lemma. \n\n\\begin{lemma}[\\cite{Yao90:OPA}]\n\\label{lm:ExpSum}\nLet $X_{i} \\sim \\textup{Exp}(\\mu_{i})$, $i \\in \\left \\{1,...,k \\right\\}$, and $S=\\sum_{i=1}^{k}\nX_{i}$. The probability density function of $S$ is given by\n\n\n", "itemtype": "equation", "pos": 21734, "prevtext": "\n\n\\end{lemma}\n\nPhysically, this model can be explained as follows. An arrival corresponds to an event when energy harvesting is possible; the amount of energy, however, is not equal at all arrivals. For instance, assume that the energy is harvested from the wind by using anemometer. When the wind intensity is larger than a specific threshold, then some energy can be obtained. A higher wind intensity, however, results in larger amount of energy, and \\textit{vice versa}. We model this phenomenon by using exponential distribution, since in most environments intensive weather conditions are unlikely; that is, at a single event, it is unlikely that the SBS harvests a very large amount of energy. Moreover, this model implies some sort of worst-case analysis, since in any exponential distribution with some fixed parameter, smaller values are more likely to happen than larger ones. The required number of arrivals to fill the storage capacity can be selected based on the weather forecast. It should be noted that, in this paper, the user association scheme does not assume any information on energy harvesting or channel quality, and therefore is not affected by the probabilistic model of energy harvesting. \n\nNow we are in a position to formalize the proposed energy harvesting model. Let $Y_{m}$ be the stored energy at small cell $m \\in \\mathcal{M}$, at the end of energy harvesting period. Then we have\n\n\n", "index": 5, "text": "\\begin{equation}\n\\label{eq:Energy}\nY_{m}=\\sum_{i=1}^{k_{m}}X_{m,i},\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E3.m1\" class=\"ltx_Math\" alttext=\"Y_{m}=\\sum_{i=1}^{k_{m}}X_{m,i},\" display=\"block\"><mrow><mrow><msub><mi>Y</mi><mi>m</mi></msub><mo>=</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><msub><mi>k</mi><mi>m</mi></msub></munderover><msub><mi>X</mi><mrow><mi>m</mi><mo>,</mo><mi>i</mi></mrow></msub></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nwith \n\n\n", "itemtype": "equation", "pos": 23429, "prevtext": "\n\nwhere, by the discussion above, $k_{m}$ is the required number of energy arrival events to stop the inactive mode, \nand $X_{m,i} \\sim \\textup{Exp}(\\mu_{m,i})$ is the amount of harvested energy at the $i$-th event. In what follows, we derive the probability density function of $Y_{m}$. In doing so, we distinguish the following two cases: i) Energy arrivals are independent and identically-distributed; ii) Energy arrivals are independent, but distributions are not identical. \n\n\\subsubsection{Independent, identically-distributed energy arrivals}\n\\label{ssubsec:i.i.d-HarEnergy}\n\nLet the intensity of energy arrivals be modeled by i.i.d. random variables so that $\\mu_{m,i}=\\mu_{m}$ for \n$i \\in \\{1,...,k_{m}\\}$. Then by (\\ref{eq:Energy}) and according to Lemma \\ref{lm:ExpSumIid}, we have $Y_{m} \n\\sim \\textup{Erl}(k_{m},\\mu_{m})$.\\\\ \n\\textbf{Normal Approximation-} According to the central limit theorem, in case $k_{m}$ is large enough, for instance \n$k_{m}>30$, $Y_{m}$ can be approximated by a normal random variable with mean $\\frac{k_{m}}{\\mu_{m}}$ and variance \n$\\frac{k_{m}}{\\mu_{m}^{2}}$; i.e., $Y_{m} \\sim \\textup{Nor}(k_{m}/\\mu_{m}, k_{m}/\\mu_{m}^{2})$. \n\n\\subsubsection{Independent, non-identically-distributed energy arrivals}\n\\label{ssubsec:i.ni.d-HarEnergy}\n\nBefore proceeding to calculate $f_{Y}(y)$ for independent but non-identical (i.ni.d.) $X_{t}$, \nwe state the following lemma. \n\n\\begin{lemma}[\\cite{Yao90:OPA}]\n\\label{lm:ExpSum}\nLet $X_{i} \\sim \\textup{Exp}(\\mu_{i})$, $i \\in \\left \\{1,...,k \\right\\}$, and $S=\\sum_{i=1}^{k}\nX_{i}$. The probability density function of $S$ is given by\n\n\n", "index": 7, "text": "\\begin{equation}\n\\label{eq:ExpSumN}\nf_{S}(s)=\\sum_{i=1}^{k}A_{i}e^{-\\mu_{i}s}, \n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E4.m1\" class=\"ltx_Math\" alttext=\"f_{S}(s)=\\sum_{i=1}^{k}A_{i}e^{-\\mu_{i}s},\" display=\"block\"><mrow><mrow><mrow><msub><mi>f</mi><mi>S</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>s</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mrow><msub><mi>A</mi><mi>i</mi></msub><mo>\u2062</mo><msup><mi>e</mi><mrow><mo>-</mo><mrow><msub><mi>\u03bc</mi><mi>i</mi></msub><mo>\u2062</mo><mi>s</mi></mrow></mrow></msup></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\n\\end{lemma}\n\nThus, if energy arrivals are not identically-distributed, $f_{Y}(y)$ can be concluded from Lemma \\ref{lm:ExpSum}.\\\\\n\n\\textbf{Normal Approximation-} In i.ni.d. case, the central limit theorem can be still applied, provided that the \n\\textit{Lyapunov condition} is satisfied \\cite{Billingsley86:PaM}. Roughly speaking, the condition implies that for large enough $k_{m}$, the contribution of every $X_{m,i}$ to the sum $Y_{m}$ is limited. Then, \n$Y_{m} \\sim \\textup{Nor}(\\sum_{i=1}^{k_{m}} 1/\\mu_{i,m},\\sum_{i=1}^{k_{m}} 1/\\mu_{i,m}^{2})$.     \n\n\nIt is clear that the distribution expressed in (\\ref{eq:ExpSumN}) is difficult to trace. In what follows, \nwe describe a condition under which i.ni.d. sums can be approximated by i.i.d. sums, so that for the \ni.ni.d. case, $f_{Y}(y)$ can be approximated by an Erlang distribution, given in (\\ref{eq:Erlang}). To this end, we proceed to the following proposition.\n\n\\begin{proposition}\n\\label{Pr:Approx}\nLet $S=\\sum_{i=1}^{k}X_{i}$, where $X_{i} \\sim \\textup{Exp}(\\mu_{i})$. Also, let $Q=\\sum_{i=1}^{k}Y_{i}$, where \n$Y_{i} \\sim \\textup{Exp}(\\mu)$, with $\\mu=\\left(\\frac{1}{k}\\sum_{i=1}^{k}\\frac{1}{\\mu_{i}}\\right)^{-1}$. Define \n$d=S-Q$ and let use $\\textup{Pr}\\left[ I \\right]$ to denote the occurrence probability of some event $I$. Then \n\n\n", "itemtype": "equation", "pos": 23532, "prevtext": "\n\nwith \n\n\n", "index": 9, "text": "\\begin{equation}\nA_{i}=\\prod_{j=1,j\\neq i}^{k}\\frac{\\mu_{j}}{\\mu_{j}-\\mu_{i}}. \n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E5.m1\" class=\"ltx_Math\" alttext=\"A_{i}=\\prod_{j=1,j\\neq i}^{k}\\frac{\\mu_{j}}{\\mu_{j}-\\mu_{i}}.\" display=\"block\"><mrow><mrow><msub><mi>A</mi><mi>i</mi></msub><mo>=</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u220f</mo><mrow><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mo>,</mo><mrow><mi>j</mi><mo>\u2260</mo><mi>i</mi></mrow></mrow><mi>k</mi></munderover><mfrac><msub><mi>\u03bc</mi><mi>j</mi></msub><mrow><msub><mi>\u03bc</mi><mi>j</mi></msub><mo>-</mo><msub><mi>\u03bc</mi><mi>i</mi></msub></mrow></mfrac></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nwhere  $\\sigma^{2}_{k}$ is the sample variance of $\\frac{1}{\\mu_{i}}$, $i \\in \\left \n\\{1,...,k \\right \\}$, defined as \n\n\n", "itemtype": "equation", "pos": 24927, "prevtext": "\n\n\\end{lemma}\n\nThus, if energy arrivals are not identically-distributed, $f_{Y}(y)$ can be concluded from Lemma \\ref{lm:ExpSum}.\\\\\n\n\\textbf{Normal Approximation-} In i.ni.d. case, the central limit theorem can be still applied, provided that the \n\\textit{Lyapunov condition} is satisfied \\cite{Billingsley86:PaM}. Roughly speaking, the condition implies that for large enough $k_{m}$, the contribution of every $X_{m,i}$ to the sum $Y_{m}$ is limited. Then, \n$Y_{m} \\sim \\textup{Nor}(\\sum_{i=1}^{k_{m}} 1/\\mu_{i,m},\\sum_{i=1}^{k_{m}} 1/\\mu_{i,m}^{2})$.     \n\n\nIt is clear that the distribution expressed in (\\ref{eq:ExpSumN}) is difficult to trace. In what follows, \nwe describe a condition under which i.ni.d. sums can be approximated by i.i.d. sums, so that for the \ni.ni.d. case, $f_{Y}(y)$ can be approximated by an Erlang distribution, given in (\\ref{eq:Erlang}). To this end, we proceed to the following proposition.\n\n\\begin{proposition}\n\\label{Pr:Approx}\nLet $S=\\sum_{i=1}^{k}X_{i}$, where $X_{i} \\sim \\textup{Exp}(\\mu_{i})$. Also, let $Q=\\sum_{i=1}^{k}Y_{i}$, where \n$Y_{i} \\sim \\textup{Exp}(\\mu)$, with $\\mu=\\left(\\frac{1}{k}\\sum_{i=1}^{k}\\frac{1}{\\mu_{i}}\\right)^{-1}$. Define \n$d=S-Q$ and let use $\\textup{Pr}\\left[ I \\right]$ to denote the occurrence probability of some event $I$. Then \n\n\n", "index": 11, "text": "\\begin{equation}\n\\label{eq:dProb}\n\\textup{Pr}\\left [\\left|d \\right|\\geq \\delta^{2}\\right] \\leq \\frac{k\\sigma_{k}^{2}}{\\delta^{2}},\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E6.m1\" class=\"ltx_Math\" alttext=\"\\textup{Pr}\\left[\\left|d\\right|\\geq\\delta^{2}\\right]\\leq\\frac{k\\sigma_{k}^{2}}%&#10;{\\delta^{2}},\" display=\"block\"><mrow><mtext>Pr</mtext><mrow><mo>[</mo><mo>|</mo><mi>d</mi><mo>|</mo><mo>\u2265</mo><msup><mi>\u03b4</mi><mn>2</mn></msup><mo>]</mo></mrow><mo>\u2264</mo><mfrac><mrow><mi>k</mi><mo>\u2062</mo><msubsup><mi>\u03c3</mi><mi>k</mi><mn>2</mn></msubsup></mrow><msup><mi>\u03b4</mi><mn>2</mn></msup></mfrac><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\n\\end{proposition}\n\n\n\\begin{IEEEproof}\nIt is known that for any random variable $X \\sim \\textup{Exp}(\\mu)$, $\\textup{E}\\left[X \\right]=\\frac{1}{\\mu}$ and \n$\\textup{Var}\\left[X \\right]=\\frac{1}{\\mu^{2}}$. Therefore, $\\textup{E}[S]=\\sum_{i=1}^{k}\\frac{1}{\\mu_{i}}$ and \n$\\textup{Var} \\left[S\\right]=\\sum_{i=1}^{k} \\frac{1}{\\mu_{i}^{2}}$. Similarly, $\\textup{E} \\left[Q \\right]=\\frac{k}{\\mu}$ and $\\textup{Var}\\left[Q \\right]=\\frac{k}{\\mu^{2}}$, which, by the definition of $\\mu$, yields $\\textup{E}\\left[Q \\right]=\n\\sum_{i=1}^{k}\\frac{1}{\\mu_{i}}$ and $\\textup{Var} \\left[Q \\right]=\n\\frac{1}{k}\\left(\\sum_{i=1}^{k}\\frac{1}{\\mu_{i}^{2}}\\right)^{2}$. Then the Chebyshev inequality \\cite{Papoulis03} yields\n\n\n", "itemtype": "equation", "pos": 25194, "prevtext": "\n\nwhere  $\\sigma^{2}_{k}$ is the sample variance of $\\frac{1}{\\mu_{i}}$, $i \\in \\left \n\\{1,...,k \\right \\}$, defined as \n\n\n", "index": 13, "text": "\\begin{equation}\n\\label{eq:var}\n\\sigma^{2}_{k}=\\frac{1}{k}\\sum_{i=1}^{k}\\frac{1}{\\mu_{i}^{2}}-\\left (\\frac{1}{k}\n\\sum_{i=1}^{k}\\frac{1}{\\mu_{i}} \\right)^{2}.\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E7.m1\" class=\"ltx_Math\" alttext=\"\\sigma^{2}_{k}=\\frac{1}{k}\\sum_{i=1}^{k}\\frac{1}{\\mu_{i}^{2}}-\\left(\\frac{1}{k%&#10;}\\sum_{i=1}^{k}\\frac{1}{\\mu_{i}}\\right)^{2}.\" display=\"block\"><mrow><mrow><msubsup><mi>\u03c3</mi><mi>k</mi><mn>2</mn></msubsup><mo>=</mo><mrow><mrow><mfrac><mn>1</mn><mi>k</mi></mfrac><mo>\u2062</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mfrac><mn>1</mn><msubsup><mi>\u03bc</mi><mi>i</mi><mn>2</mn></msubsup></mfrac></mrow></mrow><mo>-</mo><msup><mrow><mo>(</mo><mrow><mfrac><mn>1</mn><mi>k</mi></mfrac><mo>\u2062</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mfrac><mn>1</mn><msub><mi>\u03bc</mi><mi>i</mi></msub></mfrac></mrow></mrow><mo>)</mo></mrow><mn>2</mn></msup></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\n\\end{IEEEproof}\n\nFrom Proposition \\ref{Pr:Approx}, it can be concluded that for $\\sigma_{k}^{2} \\to 0$, it holds $P_{S}\\approx P_{Q}$. In words, this can be described as follows. Let $X_{1},...,X_{k}$ be $k$ i.ni.d. exponential random variables. If their mean values are located near each other (i.e., if mean values exhibit small variance), then the probability distribution of their sum can be approximated by that of $k$ i.i.d. exponential random variables, say $Y_{1},...,Y_{k}$, with the identical mean being the average of mean values of $X_{1},...,X_{k}$. The approximation is shown in Fig. \\ref{Approx} for four i.ni.d. exponential distributions, namely, $X_{1}\\sim \\textup{Exp}(3)$, $X_{2}\\sim \\textup{Exp}(4)$, $X_{3}\\sim \\textup{Exp}(6)$, and $X_{4}\\sim \\textup{Exp}(8)$. It can be seen that the proposed approximation performs very well, despite its simple form. \n\n\\begin{figure}[t]\n\\centering\n\\includegraphics[width=0.45\\textwidth]{./Approx.pdf}\n\\caption{Approximation of $f_{S}(s), S=\\sum_{i=1}^{4}X_{i}$. $X_{i}$, $i \\in \\left \\{1,...,4\\right\\}$ are exponential random variables with $\\mu_{1}=3$, $\\mu_{2}=4$, $\\mu_{3}=6$, and $\\mu_{4}=8$.}\n\\label{Approx}\n\\end{figure}\n\n\nThus, provided that the variance of the random amount of harvested energy is relatively steady for $k_{m}$ arrivals, \n(\\ref{eq:Energy}) can be approximated as \n\n\n", "itemtype": "equation", "pos": 26070, "prevtext": "\n\n\\end{proposition}\n\n\n\\begin{IEEEproof}\nIt is known that for any random variable $X \\sim \\textup{Exp}(\\mu)$, $\\textup{E}\\left[X \\right]=\\frac{1}{\\mu}$ and \n$\\textup{Var}\\left[X \\right]=\\frac{1}{\\mu^{2}}$. Therefore, $\\textup{E}[S]=\\sum_{i=1}^{k}\\frac{1}{\\mu_{i}}$ and \n$\\textup{Var} \\left[S\\right]=\\sum_{i=1}^{k} \\frac{1}{\\mu_{i}^{2}}$. Similarly, $\\textup{E} \\left[Q \\right]=\\frac{k}{\\mu}$ and $\\textup{Var}\\left[Q \\right]=\\frac{k}{\\mu^{2}}$, which, by the definition of $\\mu$, yields $\\textup{E}\\left[Q \\right]=\n\\sum_{i=1}^{k}\\frac{1}{\\mu_{i}}$ and $\\textup{Var} \\left[Q \\right]=\n\\frac{1}{k}\\left(\\sum_{i=1}^{k}\\frac{1}{\\mu_{i}^{2}}\\right)^{2}$. Then the Chebyshev inequality \\cite{Papoulis03} yields\n\n\n", "index": 15, "text": "\\begin{equation}\n\\begin{aligned}\n\\textup{Pr}\\left [\\left|d \\right|\\geq \\delta^{2}\\right]\\leq \\frac{1}{\\delta^{2}}& \n\\left(\\sum_{i=1}^{k}\\frac{1}{\\mu_{i}^{2}}-\\frac{1}{k}\\left(\\sum_{i=1}^{k}\n\\frac{1}{\\mu_{i}} \\right)^{2} \\right)\\\\ \n\\leq~&\\frac{k\\sigma_{k}^{2}}{\\delta^{2}}. \n\\end{aligned}\n\n\n\n\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E8X.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle\\textup{Pr}\\left[\\left|d\\right|\\geq\\delta^{2}\\right]\\leq\\frac{1}{%&#10;\\delta^{2}}\" display=\"inline\"><mrow><mtext>Pr</mtext><mrow><mo>[</mo><mo>|</mo><mi>d</mi><mo>|</mo><mo>\u2265</mo><msup><mi>\u03b4</mi><mn>2</mn></msup><mo>]</mo></mrow><mo>\u2264</mo><mstyle displaystyle=\"true\"><mfrac><mn>1</mn><msup><mi>\u03b4</mi><mn>2</mn></msup></mfrac></mstyle></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E8X.m3\" class=\"ltx_Math\" alttext=\"\\displaystyle\\left(\\sum_{i=1}^{k}\\frac{1}{\\mu_{i}^{2}}-\\frac{1}{k}\\left(\\sum_{%&#10;i=1}^{k}\\frac{1}{\\mu_{i}}\\right)^{2}\\right)\" display=\"inline\"><mrow><mo>(</mo><mrow><mrow><mstyle displaystyle=\"true\"><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover></mstyle><mstyle displaystyle=\"true\"><mfrac><mn>1</mn><msubsup><mi>\u03bc</mi><mi>i</mi><mn>2</mn></msubsup></mfrac></mstyle></mrow><mo>-</mo><mrow><mstyle displaystyle=\"true\"><mfrac><mn>1</mn><mi>k</mi></mfrac></mstyle><mo>\u2062</mo><msup><mrow><mo>(</mo><mrow><mstyle displaystyle=\"true\"><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover></mstyle><mstyle displaystyle=\"true\"><mfrac><mn>1</mn><msub><mi>\u03bc</mi><mi>i</mi></msub></mfrac></mstyle></mrow><mo>)</mo></mrow><mn>2</mn></msup></mrow></mrow><mo>)</mo></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E8Xa.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle\\leq\" display=\"inline\"><mo>\u2264</mo></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E8Xa.m3\" class=\"ltx_Math\" alttext=\"\\displaystyle\\frac{k\\sigma_{k}^{2}}{\\delta^{2}}.\" display=\"inline\"><mrow><mstyle displaystyle=\"true\"><mfrac><mrow><mi>k</mi><mo>\u2062</mo><msubsup><mi>\u03c3</mi><mi>k</mi><mn>2</mn></msubsup></mrow><msup><mi>\u03b4</mi><mn>2</mn></msup></mfrac></mstyle><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nwhere $X'_{m,i} \\sim \\textup{Exp}(\\mu_{m})$ for $i \\in \\{1,...,k_{m}\\}$, and \n\n\n", "itemtype": "equation", "pos": 27725, "prevtext": "\n\n\\end{IEEEproof}\n\nFrom Proposition \\ref{Pr:Approx}, it can be concluded that for $\\sigma_{k}^{2} \\to 0$, it holds $P_{S}\\approx P_{Q}$. In words, this can be described as follows. Let $X_{1},...,X_{k}$ be $k$ i.ni.d. exponential random variables. If their mean values are located near each other (i.e., if mean values exhibit small variance), then the probability distribution of their sum can be approximated by that of $k$ i.i.d. exponential random variables, say $Y_{1},...,Y_{k}$, with the identical mean being the average of mean values of $X_{1},...,X_{k}$. The approximation is shown in Fig. \\ref{Approx} for four i.ni.d. exponential distributions, namely, $X_{1}\\sim \\textup{Exp}(3)$, $X_{2}\\sim \\textup{Exp}(4)$, $X_{3}\\sim \\textup{Exp}(6)$, and $X_{4}\\sim \\textup{Exp}(8)$. It can be seen that the proposed approximation performs very well, despite its simple form. \n\n\\begin{figure}[t]\n\\centering\n\\includegraphics[width=0.45\\textwidth]{./Approx.pdf}\n\\caption{Approximation of $f_{S}(s), S=\\sum_{i=1}^{4}X_{i}$. $X_{i}$, $i \\in \\left \\{1,...,4\\right\\}$ are exponential random variables with $\\mu_{1}=3$, $\\mu_{2}=4$, $\\mu_{3}=6$, and $\\mu_{4}=8$.}\n\\label{Approx}\n\\end{figure}\n\n\nThus, provided that the variance of the random amount of harvested energy is relatively steady for $k_{m}$ arrivals, \n(\\ref{eq:Energy}) can be approximated as \n\n\n", "index": 17, "text": "\\begin{equation}\n\\label{eq:EnergyT}\nY_{m}=\\sum_{i=1}^{k_{m}}X'_{m,i},\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E9.m1\" class=\"ltx_Math\" alttext=\"Y_{m}=\\sum_{i=1}^{k_{m}}X^{\\prime}_{m,i},\" display=\"block\"><mrow><mrow><msub><mi>Y</mi><mi>m</mi></msub><mo>=</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><msub><mi>k</mi><mi>m</mi></msub></munderover><msubsup><mi>X</mi><mrow><mi>m</mi><mo>,</mo><mi>i</mi></mrow><mo>\u2032</mo></msubsup></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nThus the probability density function of $Y_{m}$ can be approximated as that of a Poisson sum of i.i.d. exponential random variables.  \n\n\\subsection{Energy Consumption}\n\\label{subsec:enCons}\n\nWe assume that users arrive at every SBS according to some Poisson process. More precisely, every SBS $m \\in \\mathcal{M}$ is selected by $L_{m}$ users according to a Poisson process with rate $\\alpha_{m}$, i.e., $L_{m}\\sim \n\\textup{Poi}(\\alpha_{m})$. Thus the number of users that select SBS $m$ during a time interval of length $t$, denoted by \n$L_{m,t}$, follows a Poisson distribution with rate $\\alpha_{m}t$. Note that at the end of inactive time, the total number of users that select an SBS $m \\in \\mathcal{M}$, shown by $L_{m,T}$, does not follow a Poisson distribution, since the inactive interval, $T_{m}$, is itself a random variable. We omit the subscript $m$ for the simplicity of the notation. Then, \n\n\n", "itemtype": "equation", "pos": 27890, "prevtext": "\n\nwhere $X'_{m,i} \\sim \\textup{Exp}(\\mu_{m})$ for $i \\in \\{1,...,k_{m}\\}$, and \n\n\n", "index": 19, "text": "\\begin{equation}\n\\label{eq:EnergyTT}\n\\mu_{m}=\\left(\\frac{1}{k_{m}}\\sum_{i=1}^{k_{m}}\\frac{1}{\\mu_{m,i}} \\right)^{-1}.\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E10.m1\" class=\"ltx_Math\" alttext=\"\\mu_{m}=\\left(\\frac{1}{k_{m}}\\sum_{i=1}^{k_{m}}\\frac{1}{\\mu_{m,i}}\\right)^{-1}.\" display=\"block\"><mrow><mrow><msub><mi>\u03bc</mi><mi>m</mi></msub><mo>=</mo><msup><mrow><mo>(</mo><mrow><mfrac><mn>1</mn><msub><mi>k</mi><mi>m</mi></msub></mfrac><mo>\u2062</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><msub><mi>k</mi><mi>m</mi></msub></munderover><mfrac><mn>1</mn><msub><mi>\u03bc</mi><mrow><mi>m</mi><mo>,</mo><mi>i</mi></mrow></msub></mfrac></mrow></mrow><mo>)</mo></mrow><mrow><mo>-</mo><mn>1</mn></mrow></msup></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\n\nWithout loss of generality, we assume that the required energy equals the transmission power. Therefore, \nby (\\ref{eq:Energy}), for a user $n \\in \\mathcal{N}_{m}$ that requires a minimum transmission rate $r_{n,\\min}$, the required energy, $q_{nm}=p_{nm}$, is calculated as \n\n\n", "itemtype": "equation", "pos": 28931, "prevtext": "\n\nThus the probability density function of $Y_{m}$ can be approximated as that of a Poisson sum of i.i.d. exponential random variables.  \n\n\\subsection{Energy Consumption}\n\\label{subsec:enCons}\n\nWe assume that users arrive at every SBS according to some Poisson process. More precisely, every SBS $m \\in \\mathcal{M}$ is selected by $L_{m}$ users according to a Poisson process with rate $\\alpha_{m}$, i.e., $L_{m}\\sim \n\\textup{Poi}(\\alpha_{m})$. Thus the number of users that select SBS $m$ during a time interval of length $t$, denoted by \n$L_{m,t}$, follows a Poisson distribution with rate $\\alpha_{m}t$. Note that at the end of inactive time, the total number of users that select an SBS $m \\in \\mathcal{M}$, shown by $L_{m,T}$, does not follow a Poisson distribution, since the inactive interval, $T_{m}$, is itself a random variable. We omit the subscript $m$ for the simplicity of the notation. Then, \n\n\n", "index": 21, "text": "\\begin{equation}\n\\label{eq:NumUser}\n\\begin{aligned}\nf_{L_{T}}(l) &= \\int_{t=0}^{\\infty} \\textup{Pr}\\left[T=t\\right]\\left (f_{Y}(y) |T=t \\right )dt\\\\ \n&=\\int_{t=0}^{\\infty} \\frac{\\left(1/\\lambda \\right)^k}{(k-1)!}t^{(k-1)}e^{-\\frac{t}{\\lambda}} \n\\cdot \\frac{(\\alpha t)^{l}e^{-\\alpha t}}{l!}dt\\\\\n&= \\frac{\\alpha^{l}\\lambda^{k}(l+k-1)!}{l!(k-1)!}\\left(\\lambda+\\alpha \\right )^{-(l+k)}.\n\\end{aligned}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E11X.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{L_{T}}(l)\" display=\"inline\"><mrow><msub><mi>f</mi><msub><mi>L</mi><mi>T</mi></msub></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>l</mi><mo stretchy=\"false\">)</mo></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E11X.m3\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\int_{t=0}^{\\infty}\\textup{Pr}\\left[T=t\\right]\\left(f_{Y}(y)|T=t%&#10;\\right)dt\" display=\"inline\"><mrow><mo>=</mo><mstyle displaystyle=\"true\"><msubsup><mo largeop=\"true\" symmetric=\"true\">\u222b</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant=\"normal\">\u221e</mi></msubsup></mstyle><mtext>Pr</mtext><mrow><mo>[</mo><mi>T</mi><mo>=</mo><mi>t</mi><mo>]</mo></mrow><mrow><mo>(</mo><msub><mi>f</mi><mi>Y</mi></msub><mrow><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow><mo stretchy=\"false\">|</mo><mi>T</mi><mo>=</mo><mi>t</mi><mo>)</mo></mrow><mi>d</mi><mi>t</mi></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E11Xa.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\int_{t=0}^{\\infty}\\frac{\\left(1/\\lambda\\right)^{k}}{(k-1)!}t^{(%&#10;k-1)}e^{-\\frac{t}{\\lambda}}\\cdot\\frac{(\\alpha t)^{l}e^{-\\alpha t}}{l!}dt\" display=\"inline\"><mrow><mi/><mo>=</mo><mrow><mstyle displaystyle=\"true\"><msubsup><mo largeop=\"true\" symmetric=\"true\">\u222b</mo><mrow><mi>t</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant=\"normal\">\u221e</mi></msubsup></mstyle><mrow><mrow><mrow><mstyle displaystyle=\"true\"><mfrac><msup><mrow><mo>(</mo><mrow><mn>1</mn><mo>/</mo><mi>\u03bb</mi></mrow><mo>)</mo></mrow><mi>k</mi></msup><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow><mo lspace=\"0pt\" rspace=\"3.5pt\">!</mo></mrow></mfrac></mstyle><mo>\u2062</mo><msup><mi>t</mi><mrow><mo stretchy=\"false\">(</mo><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow></msup><mo>\u2062</mo><msup><mi>e</mi><mrow><mo>-</mo><mfrac><mi>t</mi><mi>\u03bb</mi></mfrac></mrow></msup></mrow><mo>\u22c5</mo><mstyle displaystyle=\"true\"><mfrac><mrow><msup><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b1</mi><mo>\u2062</mo><mi>t</mi></mrow><mo stretchy=\"false\">)</mo></mrow><mi>l</mi></msup><mo>\u2062</mo><msup><mi>e</mi><mrow><mo>-</mo><mrow><mi>\u03b1</mi><mo>\u2062</mo><mi>t</mi></mrow></mrow></msup></mrow><mrow><mi>l</mi><mo lspace=\"0pt\" rspace=\"3.5pt\">!</mo></mrow></mfrac></mstyle></mrow><mo>\u2062</mo><mrow><mo>\ud835\udc51</mo><mi>t</mi></mrow></mrow></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E11Xb.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\frac{\\alpha^{l}\\lambda^{k}(l+k-1)!}{l!(k-1)!}\\left(\\lambda+%&#10;\\alpha\\right)^{-(l+k)}.\" display=\"inline\"><mrow><mrow><mi/><mo>=</mo><mrow><mstyle displaystyle=\"true\"><mfrac><mrow><msup><mi>\u03b1</mi><mi>l</mi></msup><mo>\u2062</mo><msup><mi>\u03bb</mi><mi>k</mi></msup><mo>\u2062</mo><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mrow><mi>l</mi><mo>+</mo><mi>k</mi></mrow><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow><mo lspace=\"0pt\" rspace=\"3.5pt\">!</mo></mrow></mrow><mrow><mrow><mi>l</mi><mo lspace=\"0pt\" rspace=\"3.5pt\">!</mo></mrow><mo>\u2062</mo><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow><mo lspace=\"0pt\" rspace=\"3.5pt\">!</mo></mrow></mrow></mfrac></mstyle><mo>\u2062</mo><msup><mrow><mo>(</mo><mrow><mi>\u03bb</mi><mo>+</mo><mi>\u03b1</mi></mrow><mo>)</mo></mrow><mrow><mo>-</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>l</mi><mo>+</mo><mi>k</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></msup></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nAs described in Section \\ref{sec:SysMod}, let $H_{nm}$ be a random variable following Rayleigh distribution with parameter $\\frac{1}{\\sqrt{2\\beta_{nm}}}$. Then a random variable $X_{nm}=\\left| H_{nm} \\right|^{2}$ follows exponential distribution with parameter $\\beta_{nm}$, i.e., $X_{nm}\\sim \\textup{Exp} (\\beta_{nm})$. In the following, we omit subscripts $m$ and $n$ unless they are necessary to avoid ambiguity. Then, by (\\ref{eq:Energy}) and due to the basic probability rule: \n$f_{Q}(q)=f_{X}(x)\\left| \\frac{dx}{dq}\\right|$ for $q=g(x)$, the distribution of $Q$, denoted by $f_{Q}(q)$, follows as\n\n\n", "itemtype": "equation", "pos": 29621, "prevtext": "\n\n\nWithout loss of generality, we assume that the required energy equals the transmission power. Therefore, \nby (\\ref{eq:Energy}), for a user $n \\in \\mathcal{N}_{m}$ that requires a minimum transmission rate $r_{n,\\min}$, the required energy, $q_{nm}=p_{nm}$, is calculated as \n\n\n", "index": 23, "text": "\\begin{equation}\n\\label{eq:UserEne}\nq_{nm}=\\frac{N_{0}+I_{nm}}{\\left| h_{nm} \\right|^{2}}\\left(\\exp(r_{m,\\min})-1 \\right).\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E12.m1\" class=\"ltx_Math\" alttext=\"q_{nm}=\\frac{N_{0}+I_{nm}}{\\left|h_{nm}\\right|^{2}}\\left(\\exp(r_{m,\\min})-1%&#10;\\right).\" display=\"block\"><mrow><mrow><msub><mi>q</mi><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow></msub><mo>=</mo><mrow><mfrac><mrow><msub><mi>N</mi><mn>0</mn></msub><mo>+</mo><msub><mi>I</mi><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow></msub></mrow><msup><mrow><mo>|</mo><msub><mi>h</mi><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow></msub><mo>|</mo></mrow><mn>2</mn></msup></mfrac><mo>\u2062</mo><mrow><mo>(</mo><mrow><mrow><mi>exp</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>r</mi><mrow><mi>m</mi><mo>,</mo><mi>min</mi></mrow></msub><mo stretchy=\"false\">)</mo></mrow></mrow><mo>-</mo><mn>1</mn></mrow><mo>)</mo></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nwith $\\theta= \\beta \\left(N_{0}+I\\right)\\left(\\exp(r_{\\min})-1\\right)$, and we assume $r_{\\min}$ is selected so that \n$\\theta>0$.\n\n\nNow, assume that user $n$ selects SBS $m$ at time $0<t+\\delta t<T_{m}$, $\\delta \\approx 0$. As users are \nserved on a first-come first-served basis, the already-consumed energy at SBS $m \\in \\mathcal{M}$, i.e., \nthe amount of energy that is already allocated, is given by\n\n\n", "itemtype": "equation", "pos": 30364, "prevtext": "\n\nAs described in Section \\ref{sec:SysMod}, let $H_{nm}$ be a random variable following Rayleigh distribution with parameter $\\frac{1}{\\sqrt{2\\beta_{nm}}}$. Then a random variable $X_{nm}=\\left| H_{nm} \\right|^{2}$ follows exponential distribution with parameter $\\beta_{nm}$, i.e., $X_{nm}\\sim \\textup{Exp} (\\beta_{nm})$. In the following, we omit subscripts $m$ and $n$ unless they are necessary to avoid ambiguity. Then, by (\\ref{eq:Energy}) and due to the basic probability rule: \n$f_{Q}(q)=f_{X}(x)\\left| \\frac{dx}{dq}\\right|$ for $q=g(x)$, the distribution of $Q$, denoted by $f_{Q}(q)$, follows as\n\n\n", "index": 25, "text": "\\begin{equation}\n\\label{eq:EnePDF}\nf_{Q}(q)=\\left(\\frac{\\theta}{q^{2}}\\right)\\exp\\left(-\\frac{\\theta}{q} \\right),\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E13.m1\" class=\"ltx_Math\" alttext=\"f_{Q}(q)=\\left(\\frac{\\theta}{q^{2}}\\right)\\exp\\left(-\\frac{\\theta}{q}\\right),\" display=\"block\"><mrow><mrow><mrow><msub><mi>f</mi><mi>Q</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>q</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mrow><mo>(</mo><mfrac><mi>\u03b8</mi><msup><mi>q</mi><mn>2</mn></msup></mfrac><mo>)</mo></mrow><mo>\u2062</mo><mrow><mi>exp</mi><mo>\u2061</mo><mrow><mo>(</mo><mrow><mo>-</mo><mfrac><mi>\u03b8</mi><mi>q</mi></mfrac></mrow><mo>)</mo></mrow></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nThe distribution of $Q_{im}$ is given by (\\ref{eq:EnePDF}), so that the exact distribution of $Z_{nm}$ can be calculated by using the Laplace transform; nonetheless, its exact distribution has a complicated form since the energy consumption of users, $Q_{im}$, are i.ni.d., yielding the Laplace transform of $Q$ to include the modified Bessel function. Moreover, its first and second moments do not exist. As a result, in order to make $Z_{nm}$ computationally traceable, we confine our attention to the worst-case scenario, where every user $n$ assumes that all prior users in the queue are allocated the maximum allowed energy $q_{m,\\max}$; in other words, every user calculates the distribution of an upper-bound of the allocated energy. Therefore we redefine $Z_{nm}$ as\n\n\n", "itemtype": "equation", "pos": 30899, "prevtext": "\n\nwith $\\theta= \\beta \\left(N_{0}+I\\right)\\left(\\exp(r_{\\min})-1\\right)$, and we assume $r_{\\min}$ is selected so that \n$\\theta>0$.\n\n\nNow, assume that user $n$ selects SBS $m$ at time $0<t+\\delta t<T_{m}$, $\\delta \\approx 0$. As users are \nserved on a first-come first-served basis, the already-consumed energy at SBS $m \\in \\mathcal{M}$, i.e., \nthe amount of energy that is already allocated, is given by\n\n\n", "index": 27, "text": "\\begin{equation}\n\\label{eq:ConEne}\nZ_{nm}=\\sum_{i=1}^{L_{m,t}}q_{im}.\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E14.m1\" class=\"ltx_Math\" alttext=\"Z_{nm}=\\sum_{i=1}^{L_{m,t}}q_{im}.\" display=\"block\"><mrow><mrow><msub><mi>Z</mi><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow></msub><mo>=</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><msub><mi>L</mi><mrow><mi>m</mi><mo>,</mo><mi>t</mi></mrow></msub></munderover><msub><mi>q</mi><mrow><mi>i</mi><mo>\u2062</mo><mi>m</mi></mrow></msub></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nThus $Z_{nm}$ is uniquely defined by $L_{m,t}$, which is the number of arrivals in a Poisson process with rate $\\alpha t$. That is,\n\n\n", "itemtype": "equation", "pos": 31761, "prevtext": "\n\nThe distribution of $Q_{im}$ is given by (\\ref{eq:EnePDF}), so that the exact distribution of $Z_{nm}$ can be calculated by using the Laplace transform; nonetheless, its exact distribution has a complicated form since the energy consumption of users, $Q_{im}$, are i.ni.d., yielding the Laplace transform of $Q$ to include the modified Bessel function. Moreover, its first and second moments do not exist. As a result, in order to make $Z_{nm}$ computationally traceable, we confine our attention to the worst-case scenario, where every user $n$ assumes that all prior users in the queue are allocated the maximum allowed energy $q_{m,\\max}$; in other words, every user calculates the distribution of an upper-bound of the allocated energy. Therefore we redefine $Z_{nm}$ as\n\n\n", "index": 29, "text": "\\begin{equation}\n\\label{eq:CoEneT}\nZ_{nm}=\\sum_{i=1}^{L_{m,t}}q_{m,\\max}=L_{m,t}q_{m,\\max}.\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E15.m1\" class=\"ltx_Math\" alttext=\"Z_{nm}=\\sum_{i=1}^{L_{m,t}}q_{m,\\max}=L_{m,t}q_{m,\\max}.\" display=\"block\"><mrow><mrow><msub><mi>Z</mi><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow></msub><mo>=</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><msub><mi>L</mi><mrow><mi>m</mi><mo>,</mo><mi>t</mi></mrow></msub></munderover><msub><mi>q</mi><mrow><mi>m</mi><mo>,</mo><mi>max</mi></mrow></msub></mrow><mo>=</mo><mrow><msub><mi>L</mi><mrow><mi>m</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>\u2062</mo><msub><mi>q</mi><mrow><mi>m</mi><mo>,</mo><mi>max</mi></mrow></msub></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\n\\textbf{Normal Approximation-} If $\\alpha t$ is large enough, $f_{Z}(z)$ can be approximated by normal distribution. More precisely, for $\\alpha t>1000$, $f_{Z}(z) \\approx \\textup{Nor}(q_{\\max}\\alpha t,q_{\\max}^{2} \\alpha t)$; in words, a Poisson distribution with rate $\\alpha t$ is approximated by a normal distribution with mean and variance both equal to $\\alpha t$. The normal approximation can be used already from $\\alpha t>10$; however a correction factor should be included so that a good approximation is guaranteed.      \n\n\nAt SBS $m \\in \\mathcal{M}$ and for every user $n \\in \\mathcal{N}$, the residual energy is then calculated as \n\n\n", "itemtype": "equation", "pos": 32002, "prevtext": "\n\nThus $Z_{nm}$ is uniquely defined by $L_{m,t}$, which is the number of arrivals in a Poisson process with rate $\\alpha t$. That is,\n\n\n", "index": 31, "text": "\\begin{equation}\n\\label{eq:CoEnPdf}\nf_{Z}(z)= \\frac{(\\alpha t)^{z/q_{\\max}} e^{-\\alpha t}}{(z/q_{\\max})!}.\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E16.m1\" class=\"ltx_Math\" alttext=\"f_{Z}(z)=\\frac{(\\alpha t)^{z/q_{\\max}}e^{-\\alpha t}}{(z/q_{\\max})!}.\" display=\"block\"><mrow><mrow><mrow><msub><mi>f</mi><mi>Z</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>z</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mfrac><mrow><msup><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b1</mi><mo>\u2062</mo><mi>t</mi></mrow><mo stretchy=\"false\">)</mo></mrow><mrow><mi>z</mi><mo>/</mo><msub><mi>q</mi><mi>max</mi></msub></mrow></msup><mo>\u2062</mo><msup><mi>e</mi><mrow><mo>-</mo><mrow><mi>\u03b1</mi><mo>\u2062</mo><mi>t</mi></mrow></mrow></msup></mrow><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>z</mi><mo>/</mo><msub><mi>q</mi><mi>max</mi></msub></mrow><mo stretchy=\"false\">)</mo></mrow><mo lspace=\"0pt\" rspace=\"3.5pt\">!</mo></mrow></mfrac></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nThe exact distribution of $R$ is calculated as follows:\n\n\n", "itemtype": "equation", "pos": 32771, "prevtext": "\n\n\\textbf{Normal Approximation-} If $\\alpha t$ is large enough, $f_{Z}(z)$ can be approximated by normal distribution. More precisely, for $\\alpha t>1000$, $f_{Z}(z) \\approx \\textup{Nor}(q_{\\max}\\alpha t,q_{\\max}^{2} \\alpha t)$; in words, a Poisson distribution with rate $\\alpha t$ is approximated by a normal distribution with mean and variance both equal to $\\alpha t$. The normal approximation can be used already from $\\alpha t>10$; however a correction factor should be included so that a good approximation is guaranteed.      \n\n\nAt SBS $m \\in \\mathcal{M}$ and for every user $n \\in \\mathcal{N}$, the residual energy is then calculated as \n\n\n", "index": 33, "text": "\\begin{equation}\n\\label{eq:ReEn}\nR_{nm}=Y_{m}-Z_{nm}.\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E17.m1\" class=\"ltx_Math\" alttext=\"R_{nm}=Y_{m}-Z_{nm}.\" display=\"block\"><mrow><mrow><msub><mi>R</mi><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow></msub><mo>=</mo><mrow><msub><mi>Y</mi><mi>m</mi></msub><mo>-</mo><msub><mi>Z</mi><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow></msub></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nThus,\n\n\n", "itemtype": "equation", "pos": 32898, "prevtext": "\n\nThe exact distribution of $R$ is calculated as follows:\n\n\n", "index": 35, "text": "\\begin{equation}\n\\label{eq:ReEnPdfO}\n\\begin{aligned}\nF_{R}(r)&=\\textup{Pr}\\left[R\\leq r \\right] \\\\ \n&=\\sum_{z=0}^{\\infty}\\textup{Pr}\\left [Y-z \\leq r \\right]f_{Z}(z)\\\\\n&=\\sum_{z=0}^{\\infty}F_{Y}(z+r)f_{Z}(z).\\\\\n\\end{aligned}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E18X.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle F_{R}(r)\" display=\"inline\"><mrow><msub><mi>F</mi><mi>R</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>r</mi><mo stretchy=\"false\">)</mo></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E18X.m3\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\textup{Pr}\\left[R\\leq r\\right]\" display=\"inline\"><mrow><mo>=</mo><mtext>Pr</mtext><mrow><mo>[</mo><mi>R</mi><mo>\u2264</mo><mi>r</mi><mo>]</mo></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E18Xa.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\sum_{z=0}^{\\infty}\\textup{Pr}\\left[Y-z\\leq r\\right]f_{Z}(z)\" display=\"inline\"><mrow><mo>=</mo><mstyle displaystyle=\"true\"><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>z</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant=\"normal\">\u221e</mi></munderover></mstyle><mtext>Pr</mtext><mrow><mo>[</mo><mi>Y</mi><mo>-</mo><mi>z</mi><mo>\u2264</mo><mi>r</mi><mo>]</mo></mrow><msub><mi>f</mi><mi>Z</mi></msub><mrow><mo stretchy=\"false\">(</mo><mi>z</mi><mo stretchy=\"false\">)</mo></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E18Xb.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\sum_{z=0}^{\\infty}F_{Y}(z+r)f_{Z}(z).\" display=\"inline\"><mrow><mrow><mi/><mo>=</mo><mrow><mstyle displaystyle=\"true\"><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>z</mi><mo>=</mo><mn>0</mn></mrow><mi mathvariant=\"normal\">\u221e</mi></munderover></mstyle><mrow><msub><mi>F</mi><mi>Y</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>z</mi><mo>+</mo><mi>r</mi></mrow><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><msub><mi>f</mi><mi>Z</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>z</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nThe final expression of $f_{R}(r)$ in (\\ref{eq:ReEnPdfT}) cannot be further simplified. Since this form is difficult to work with, we approximate $f_{R}(r)$ as follows. \\\\\n\\textbf{Normal Approximation-} We use the normal approximations of $Y$ and $Z$, described in Sections \\ref{sec:energyModel} and \\ref{subsec:enCons}, respectively. Then, if $Y_{m} \\sim \\textup{Nor}(\\frac{k_{m}}{\\mu_{m}}, \\frac{k_{m}}{\\mu_{m}^{2}})$ and $Z \\sim \\textup{Nor}(q_{\\max}\\alpha t , q_{\\max}^{2}\\alpha t)$, one concludes that $R \\sim \\textup{Nor}(\\frac{k_{m}}{\\mu_{m}}-q_{\\max}\\alpha t, \\frac{k_{m}}{\\mu_{m}^{2}}+q_{\\max}^{2}\\alpha t)$.\n\n\\section{User Association Problem}\n\\label{sec:Problem}\n\nUpon arrival in the network, every user $n \\in \\mathcal{N}$ needs to select an SBS for the transmission of every packet. Thus, SBS selection is performed successively. In the rest of the paper, we call every round of selection as one \n\\textit{trial}. As described in Section \\ref{sec:SysMod}, we assume that users do not have any information about the channel qualities, as well as energy harvesting and user traffic profiles of small cells. Despite lack of knowledge, every user is interested in making successful decisions, as defined below. \n\n\\begin{definition}[Successful Selection]\n\\label{de:SucSel}\nA selection is successful if the following two conditions are satisfied\n\n\\begin{itemize}\n\\item $q_{nm}\\leq q_{m,\\max}$, and\n\\item $R_{nm}\\geq q_{nm}$.\n\\end{itemize}\n\n\\end{definition}\n\nIn words, at every transmission, desired is to select an SBS for which: i) The required energy to guarantee the desired QoS is less than the maximum allowed energy; and ii) By the time of selection, the residual energy at the SBS is larger than the required energy. Thus, for every user $n$, the success probability when connecting to SBS $m$, denoted by \n$p_{nm,s}$, is given by\n\n\n", "itemtype": "equation", "pos": 33146, "prevtext": "\n\nThus,\n\n\n", "index": 37, "text": "\\begin{equation}\n\\label{eq:ReEnPdfT}\n\\begin{aligned}\nf_{R}(r)&=\\sum_{z=\\max \\{0,-r\\}}^{\\infty}f_{Y}(z+r)f_{Z}(z)\\\\ \n&=\\frac{e^{-\\alpha t} \\mu^{k}}{(k-1)!}\\sum_{z=\\max \\{0,-r\\}}^{\\infty} \n\\frac{(\\alpha t)^{z/q_{\\max}} (z+r)^{k-1}e^{-\\mu(z+r)}}{(z/q_{\\max})!}.\\\\\n\\end{aligned}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E19X.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle f_{R}(r)\" display=\"inline\"><mrow><msub><mi>f</mi><mi>R</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>r</mi><mo stretchy=\"false\">)</mo></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E19X.m3\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\sum_{z=\\max\\{0,-r\\}}^{\\infty}f_{Y}(z+r)f_{Z}(z)\" display=\"inline\"><mrow><mi/><mo>=</mo><mrow><mstyle displaystyle=\"true\"><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>z</mi><mo>=</mo><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">{</mo><mn>0</mn><mo>,</mo><mrow><mo>-</mo><mi>r</mi></mrow><mo stretchy=\"false\">}</mo></mrow></mrow></mrow><mi mathvariant=\"normal\">\u221e</mi></munderover></mstyle><mrow><msub><mi>f</mi><mi>Y</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>z</mi><mo>+</mo><mi>r</mi></mrow><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><msub><mi>f</mi><mi>Z</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>z</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E19Xa.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=\\frac{e^{-\\alpha t}\\mu^{k}}{(k-1)!}\\sum_{z=\\max\\{0,-r\\}}^{\\infty%&#10;}\\frac{(\\alpha t)^{z/q_{\\max}}(z+r)^{k-1}e^{-\\mu(z+r)}}{(z/q_{\\max})!}.\" display=\"inline\"><mrow><mrow><mi/><mo>=</mo><mrow><mstyle displaystyle=\"true\"><mfrac><mrow><msup><mi>e</mi><mrow><mo>-</mo><mrow><mi>\u03b1</mi><mo>\u2062</mo><mi>t</mi></mrow></mrow></msup><mo>\u2062</mo><msup><mi>\u03bc</mi><mi>k</mi></msup></mrow><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy=\"false\">)</mo></mrow><mo lspace=\"0pt\" rspace=\"3.5pt\">!</mo></mrow></mfrac></mstyle><mo>\u2062</mo><mrow><mstyle displaystyle=\"true\"><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>z</mi><mo>=</mo><mrow><mi>max</mi><mo>\u2061</mo><mrow><mo stretchy=\"false\">{</mo><mn>0</mn><mo>,</mo><mrow><mo>-</mo><mi>r</mi></mrow><mo stretchy=\"false\">}</mo></mrow></mrow></mrow><mi mathvariant=\"normal\">\u221e</mi></munderover></mstyle><mstyle displaystyle=\"true\"><mfrac><mrow><msup><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\u03b1</mi><mo>\u2062</mo><mi>t</mi></mrow><mo stretchy=\"false\">)</mo></mrow><mrow><mi>z</mi><mo>/</mo><msub><mi>q</mi><mi>max</mi></msub></mrow></msup><mo>\u2062</mo><msup><mrow><mo stretchy=\"false\">(</mo><mrow><mi>z</mi><mo>+</mo><mi>r</mi></mrow><mo stretchy=\"false\">)</mo></mrow><mrow><mi>k</mi><mo>-</mo><mn>1</mn></mrow></msup><mo>\u2062</mo><msup><mi>e</mi><mrow><mo>-</mo><mrow><mi>\u03bc</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>z</mi><mo>+</mo><mi>r</mi></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></msup></mrow><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mi>z</mi><mo>/</mo><msub><mi>q</mi><mi>max</mi></msub></mrow><mo stretchy=\"false\">)</mo></mrow><mo lspace=\"0pt\" rspace=\"3.5pt\">!</mo></mrow></mfrac></mstyle></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nand the failure probability yields $p'_{nm,s}=1-p_{nm,s}$. The integral in (\\ref{eq:SucPro}) cannot be calculated in \nclosed-form, even if normal approximation is used for $f_{R}(r)$. Nonetheless, given $q_{\\max}$, $p_{nm,s}$ can be calculated numerically. In order to derive an explicit formula, one approach would be to develop a lower-bound for the success probability by requiring that $R_{nm} \\geq q_{m,\\max}$, so that the dependency on $q$ is eliminated. Formally,   \n\n\n", "itemtype": "equation", "pos": 35282, "prevtext": "\n\nThe final expression of $f_{R}(r)$ in (\\ref{eq:ReEnPdfT}) cannot be further simplified. Since this form is difficult to work with, we approximate $f_{R}(r)$ as follows. \\\\\n\\textbf{Normal Approximation-} We use the normal approximations of $Y$ and $Z$, described in Sections \\ref{sec:energyModel} and \\ref{subsec:enCons}, respectively. Then, if $Y_{m} \\sim \\textup{Nor}(\\frac{k_{m}}{\\mu_{m}}, \\frac{k_{m}}{\\mu_{m}^{2}})$ and $Z \\sim \\textup{Nor}(q_{\\max}\\alpha t , q_{\\max}^{2}\\alpha t)$, one concludes that $R \\sim \\textup{Nor}(\\frac{k_{m}}{\\mu_{m}}-q_{\\max}\\alpha t, \\frac{k_{m}}{\\mu_{m}^{2}}+q_{\\max}^{2}\\alpha t)$.\n\n\\section{User Association Problem}\n\\label{sec:Problem}\n\nUpon arrival in the network, every user $n \\in \\mathcal{N}$ needs to select an SBS for the transmission of every packet. Thus, SBS selection is performed successively. In the rest of the paper, we call every round of selection as one \n\\textit{trial}. As described in Section \\ref{sec:SysMod}, we assume that users do not have any information about the channel qualities, as well as energy harvesting and user traffic profiles of small cells. Despite lack of knowledge, every user is interested in making successful decisions, as defined below. \n\n\\begin{definition}[Successful Selection]\n\\label{de:SucSel}\nA selection is successful if the following two conditions are satisfied\n\n\\begin{itemize}\n\\item $q_{nm}\\leq q_{m,\\max}$, and\n\\item $R_{nm}\\geq q_{nm}$.\n\\end{itemize}\n\n\\end{definition}\n\nIn words, at every transmission, desired is to select an SBS for which: i) The required energy to guarantee the desired QoS is less than the maximum allowed energy; and ii) By the time of selection, the residual energy at the SBS is larger than the required energy. Thus, for every user $n$, the success probability when connecting to SBS $m$, denoted by \n$p_{nm,s}$, is given by\n\n\n", "index": 39, "text": "\\begin{equation}\n\\label{eq:SucPro}\np_{nm,s}=\\int_{q=0}^{q_{\\max}}\\int_{r=q}^{\\infty}f_{R}(r)f_{Q}(q) dq dr,\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E20.m1\" class=\"ltx_Math\" alttext=\"p_{nm,s}=\\int_{q=0}^{q_{\\max}}\\int_{r=q}^{\\infty}f_{R}(r)f_{Q}(q)dqdr,\" display=\"block\"><mrow><mrow><msub><mi>p</mi><mrow><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow><mo>,</mo><mi>s</mi></mrow></msub><mo>=</mo><mrow><msubsup><mo largeop=\"true\" symmetric=\"true\">\u222b</mo><mrow><mi>q</mi><mo>=</mo><mn>0</mn></mrow><msub><mi>q</mi><mi>max</mi></msub></msubsup><mrow><msubsup><mo largeop=\"true\" symmetric=\"true\">\u222b</mo><mrow><mi>r</mi><mo>=</mo><mi>q</mi></mrow><mi mathvariant=\"normal\">\u221e</mi></msubsup><mrow><msub><mi>f</mi><mi>R</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>r</mi><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><msub><mi>f</mi><mi>Q</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>q</mi><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mrow><mo>\ud835\udc51</mo><mi>q</mi></mrow><mo>\u2062</mo><mrow><mo>\ud835\udc51</mo><mi>r</mi></mrow></mrow></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nwhere for any random variable $X$, $F_{X}(x)$ denotes the cumulative density function. Then, by using the normal approximation of the first term in the right-hand-side of (\\ref{eq:SucProUp}), $p_{nm,s}$ is approximated as\n\n\n", "itemtype": "equation", "pos": 35881, "prevtext": "\n\nand the failure probability yields $p'_{nm,s}=1-p_{nm,s}$. The integral in (\\ref{eq:SucPro}) cannot be calculated in \nclosed-form, even if normal approximation is used for $f_{R}(r)$. Nonetheless, given $q_{\\max}$, $p_{nm,s}$ can be calculated numerically. In order to derive an explicit formula, one approach would be to develop a lower-bound for the success probability by requiring that $R_{nm} \\geq q_{m,\\max}$, so that the dependency on $q$ is eliminated. Formally,   \n\n\n", "index": 41, "text": "\\begin{equation}\n\\label{eq:SucProUp}\n\\begin{aligned}\np_{nm,s} & \\geq \\textup{Pr}\\left [R_{nm}\\geq q_{m,\\max} \\right]\\cdot \\textup{Pr}\\left[ q_{nm}<q_{m,\\max} \\right] \\\\ \n& = (1-F_{R}(q_{m,\\max})) F_{Q}(q_{m,\\max}),\n\\end{aligned}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E21X.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle p_{nm,s}\" display=\"inline\"><msub><mi>p</mi><mrow><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow><mo>,</mo><mi>s</mi></mrow></msub></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E21X.m3\" class=\"ltx_Math\" alttext=\"\\displaystyle\\geq\\textup{Pr}\\left[R_{nm}\\geq q_{m,\\max}\\right]\\cdot\\textup{Pr}%&#10;\\left[q_{nm}&lt;q_{m,\\max}\\right]\" display=\"inline\"><mrow><mo>\u2265</mo><mtext>Pr</mtext><mrow><mo>[</mo><msub><mi>R</mi><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow></msub><mo>\u2265</mo><msub><mi>q</mi><mrow><mi>m</mi><mo>,</mo><mi>max</mi></mrow></msub><mo>]</mo></mrow><mo>\u22c5</mo><mtext>Pr</mtext><mrow><mo>[</mo><msub><mi>q</mi><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow></msub><mo>&lt;</mo><msub><mi>q</mi><mrow><mi>m</mi><mo>,</mo><mi>max</mi></mrow></msub><mo>]</mo></mrow></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E21Xa.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle=(1-F_{R}(q_{m,\\max}))F_{Q}(q_{m,\\max}),\" display=\"inline\"><mrow><mrow><mi/><mo>=</mo><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mn>1</mn><mo>-</mo><mrow><msub><mi>F</mi><mi>R</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>q</mi><mrow><mi>m</mi><mo>,</mo><mi>max</mi></mrow></msub><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><msub><mi>F</mi><mi>Q</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>q</mi><mrow><mi>m</mi><mo>,</mo><mi>max</mi></mrow></msub><mo stretchy=\"false\">)</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nwhere $\\textup{erf}(\\cdot)$ is the error function. Fig. \\ref{Fig:Success} depicts the success probability as a function of involved parameters. Note that according to our system model, the intensity of energy arrivals is inversely proportional to $\\mu$, and $\\theta$ is inversely related to channel quality. As expected, the figure shows that the success probability decreases with increasing $\\mu$ and $\\theta$. Similarly, it decreases with increasing $\\alpha$ (or $\\alpha t$), which is directly related to the number of users in the queue, i.e., the already-allocated (consumed) energy at the time the SBS is selected by the user. Moreover, for some fixed $k$ and $\\alpha$ (which determine the duration of inactive step and queue length), smaller $q_{\\max}$ increases the success probability, since for every user, smaller $q_{\\max}$ results in smaller amount of already-consumed energy, so that a larger number of users can be served. Note that selecting $q_{\\max}$ very small would also have an adverse effect, since many users with weak channels cannot meet the required QoS, although larger number of users are served. Similarly, for fixed $q_{\\max}$ and $\\alpha$, larger $k$ results in higher success probability, since it implies that more energy is stored during the inactive mode. Note that choosing $k$ too large results in delayed services. \n\n\n\\begin{figure*}[t]\n\\centering\n\\includegraphics[width=0.90\\textwidth]{./Success.pdf}\n\\caption{Probability of successful selection as a function of inverse energy intensity ($\\mu$), inverse channel quality ($\\theta$), and SBS's user traffic ($\\alpha$).}\n\\label{Fig:Success}\n\\end{figure*}\n\n \nFor every user $n \\in \\mathcal{N}$, the number of packets to be transmitted is denoted by $J_{n}$, which we assume is large enough. Moreover, based on our previous discussion, for every user $n \\in \\mathcal{N}$, when selecting each SBS \n$m \\in \\mathcal{M}$, the reward can be regarded as a Bernoulli random variable with success probability \n$p_{nm,s}(\\cdot)$, which is lower-bounded as given in (\\ref{eq:SucProApF}). Thus, at every selection (transmission) round $j=1,...,J_{n}$, we define the following utility (reward) function for user $n$, if some SBS $m \\in \\mathcal{M}$ is selected:\n\n\n", "itemtype": "equation", "pos": 36349, "prevtext": "\n\nwhere for any random variable $X$, $F_{X}(x)$ denotes the cumulative density function. Then, by using the normal approximation of the first term in the right-hand-side of (\\ref{eq:SucProUp}), $p_{nm,s}$ is approximated as\n\n\n", "index": 43, "text": "\\begin{equation}\n\\label{eq:SucProApF}\n\\begin{aligned}\np_{nm,s}(\\mu,\\alpha,\\theta,t)\\geq \\hspace{100pt}&\\\\\n\\left(\\frac{1}{2}-\\frac{1}{2}\\textup{erf}\\left(\\frac{q_{m,\\max}-\\frac{k_{m}}{\\mu_{m}}+q_{m,\\max}\\alpha_{m} t}{\\sqrt{2}\n\\left(\\frac{k_{m}}{\\mu_{m}^{2}}+q_{m,\\max}^{2}\\alpha_{m}t \\right)}\\right) \\right) & \\exp \\left(\\frac{-\\theta_{nm}}{q_{m,\\max}} \\right),\\\\\n\\end{aligned}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E22X.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle p_{nm,s}(\\mu,\\alpha,\\theta,t)\\geq\" display=\"inline\"><mrow><mrow><msub><mi>p</mi><mrow><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow><mo>,</mo><mi>s</mi></mrow></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>\u03bc</mi><mo>,</mo><mi>\u03b1</mi><mo>,</mo><mi>\u03b8</mi><mo>,</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>\u2265</mo><mi/></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E22Xa.m2\" class=\"ltx_Math\" alttext=\"\\displaystyle\\left(\\frac{1}{2}-\\frac{1}{2}\\textup{erf}\\left(\\frac{q_{m,\\max}-%&#10;\\frac{k_{m}}{\\mu_{m}}+q_{m,\\max}\\alpha_{m}t}{\\sqrt{2}\\left(\\frac{k_{m}}{\\mu_{m%&#10;}^{2}}+q_{m,\\max}^{2}\\alpha_{m}t\\right)}\\right)\\right)\" display=\"inline\"><mrow><mo>(</mo><mrow><mstyle displaystyle=\"true\"><mfrac><mn>1</mn><mn>2</mn></mfrac></mstyle><mo>-</mo><mrow><mstyle displaystyle=\"true\"><mfrac><mn>1</mn><mn>2</mn></mfrac></mstyle><mo>\u2062</mo><mtext>erf</mtext><mo>\u2062</mo><mrow><mo>(</mo><mstyle displaystyle=\"true\"><mfrac><mrow><mrow><msub><mi>q</mi><mrow><mi>m</mi><mo>,</mo><mi>max</mi></mrow></msub><mo>-</mo><mfrac><msub><mi>k</mi><mi>m</mi></msub><msub><mi>\u03bc</mi><mi>m</mi></msub></mfrac></mrow><mo>+</mo><mrow><msub><mi>q</mi><mrow><mi>m</mi><mo>,</mo><mi>max</mi></mrow></msub><mo>\u2062</mo><msub><mi>\u03b1</mi><mi>m</mi></msub><mo>\u2062</mo><mi>t</mi></mrow></mrow><mrow><msqrt><mn>2</mn></msqrt><mo>\u2062</mo><mrow><mo>(</mo><mrow><mfrac><msub><mi>k</mi><mi>m</mi></msub><msubsup><mi>\u03bc</mi><mi>m</mi><mn>2</mn></msubsup></mfrac><mo>+</mo><mrow><msubsup><mi>q</mi><mrow><mi>m</mi><mo>,</mo><mi>max</mi></mrow><mn>2</mn></msubsup><mo>\u2062</mo><msub><mi>\u03b1</mi><mi>m</mi></msub><mo>\u2062</mo><mi>t</mi></mrow></mrow><mo>)</mo></mrow></mrow></mfrac></mstyle><mo>)</mo></mrow></mrow></mrow><mo>)</mo></mrow></math>\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E22Xa.m3\" class=\"ltx_Math\" alttext=\"\\displaystyle\\exp\\left(\\frac{-\\theta_{nm}}{q_{m,\\max}}\\right),\" display=\"inline\"><mrow><mrow><mi>exp</mi><mo>\u2061</mo><mrow><mo>(</mo><mstyle displaystyle=\"true\"><mfrac><mrow><mo>-</mo><msub><mi>\u03b8</mi><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow></msub></mrow><msub><mi>q</mi><mrow><mi>m</mi><mo>,</mo><mi>max</mi></mrow></msub></mfrac></mstyle><mo>)</mo></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nSince SBSs are not synchronized, and the duration of active and inactive steps are random, at each trial \n$j=1,...,J_{n}$, only a set of SBSs $\\mathcal{M}_{j} \\subseteq \\mathcal{M}$ is available. Now, let $\\mathcal{O}$ be the set of all SBS selection strategies (decision making policies). Moreover, assume that user $n \\in \\mathcal{N}$ selects some SBS $m_{n,j}^{(\\sigma)}$ at each step $j$, according to some selection policy $\\sigma \\in \\mathcal{O}$, which results in some (instantaneous) utility $u_{n,j}\\left(m_{n,j}^{(\\sigma)} \\right)$. Then the (accumulated) utility of policy $\\sigma$ yields\n\n\n", "itemtype": "equation", "pos": 38978, "prevtext": "\n\nwhere $\\textup{erf}(\\cdot)$ is the error function. Fig. \\ref{Fig:Success} depicts the success probability as a function of involved parameters. Note that according to our system model, the intensity of energy arrivals is inversely proportional to $\\mu$, and $\\theta$ is inversely related to channel quality. As expected, the figure shows that the success probability decreases with increasing $\\mu$ and $\\theta$. Similarly, it decreases with increasing $\\alpha$ (or $\\alpha t$), which is directly related to the number of users in the queue, i.e., the already-allocated (consumed) energy at the time the SBS is selected by the user. Moreover, for some fixed $k$ and $\\alpha$ (which determine the duration of inactive step and queue length), smaller $q_{\\max}$ increases the success probability, since for every user, smaller $q_{\\max}$ results in smaller amount of already-consumed energy, so that a larger number of users can be served. Note that selecting $q_{\\max}$ very small would also have an adverse effect, since many users with weak channels cannot meet the required QoS, although larger number of users are served. Similarly, for fixed $q_{\\max}$ and $\\alpha$, larger $k$ results in higher success probability, since it implies that more energy is stored during the inactive mode. Note that choosing $k$ too large results in delayed services. \n\n\n\\begin{figure*}[t]\n\\centering\n\\includegraphics[width=0.90\\textwidth]{./Success.pdf}\n\\caption{Probability of successful selection as a function of inverse energy intensity ($\\mu$), inverse channel quality ($\\theta$), and SBS's user traffic ($\\alpha$).}\n\\label{Fig:Success}\n\\end{figure*}\n\n \nFor every user $n \\in \\mathcal{N}$, the number of packets to be transmitted is denoted by $J_{n}$, which we assume is large enough. Moreover, based on our previous discussion, for every user $n \\in \\mathcal{N}$, when selecting each SBS \n$m \\in \\mathcal{M}$, the reward can be regarded as a Bernoulli random variable with success probability \n$p_{nm,s}(\\cdot)$, which is lower-bounded as given in (\\ref{eq:SucProApF}). Thus, at every selection (transmission) round $j=1,...,J_{n}$, we define the following utility (reward) function for user $n$, if some SBS $m \\in \\mathcal{M}$ is selected:\n\n\n", "index": 45, "text": "\\begin{equation}\n\\label{eq:Utility}\nu_{n,j}(m)=\\begin{cases}\n1 & \\textup{if} \\hspace{5pt} r_{nm}\\geq r_{n,\\min} \\\\ \n0 & \\textup{otherwise (o.w.)} \n\\end{cases}.\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E23.m1\" class=\"ltx_Math\" alttext=\"u_{n,j}(m)=\\begin{cases}1&amp;\\textup{if}\\hskip 5.0ptr_{nm}\\geq r_{n,\\min}\\\\&#10;0&amp;\\textup{otherwise (o.w.)}\\end{cases}.\" display=\"block\"><mrow><mrow><mrow><msub><mi>u</mi><mrow><mi>n</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>m</mi><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mo>{</mo><mtable columnspacing=\"5pt\" displaystyle=\"true\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mn>1</mn></mtd><mtd columnalign=\"left\"><mrow><mrow><mpadded width=\"+5pt\"><mtext>if</mtext></mpadded><mo>\u2062</mo><msub><mi>r</mi><mrow><mi>n</mi><mo>\u2062</mo><mi>m</mi></mrow></msub></mrow><mo>\u2265</mo><msub><mi>r</mi><mrow><mi>n</mi><mo>,</mo><mi>min</mi></mrow></msub></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mn>0</mn></mtd><mtd columnalign=\"left\"><mtext>otherwise (o.w.)</mtext></mtd></mtr></mtable></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nIn words, the reward of the policy is the accumulated reward achieved by selecting actions suggested by that policy over the entire transmission horizon. Ideally, every user $n$ wants to use some policy $\\sigma \\in \\mathcal{O}$ so as to solve the following optimization problem in order to obtain the achievable reward of the best selection policy: \n\n\n", "itemtype": "equation", "pos": 39755, "prevtext": "\n\nSince SBSs are not synchronized, and the duration of active and inactive steps are random, at each trial \n$j=1,...,J_{n}$, only a set of SBSs $\\mathcal{M}_{j} \\subseteq \\mathcal{M}$ is available. Now, let $\\mathcal{O}$ be the set of all SBS selection strategies (decision making policies). Moreover, assume that user $n \\in \\mathcal{N}$ selects some SBS $m_{n,j}^{(\\sigma)}$ at each step $j$, according to some selection policy $\\sigma \\in \\mathcal{O}$, which results in some (instantaneous) utility $u_{n,j}\\left(m_{n,j}^{(\\sigma)} \\right)$. Then the (accumulated) utility of policy $\\sigma$ yields\n\n\n", "index": 47, "text": "\\begin{equation}\n\\label{eq:UtilitySigma}\nU_{n,\\sigma}=\\sum_{j=1}^{J_{n}}u_{n,j}\\left(m_{n,j}^{(\\sigma)}\\right).\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E24.m1\" class=\"ltx_Math\" alttext=\"U_{n,\\sigma}=\\sum_{j=1}^{J_{n}}u_{n,j}\\left(m_{n,j}^{(\\sigma)}\\right).\" display=\"block\"><mrow><mrow><msub><mi>U</mi><mrow><mi>n</mi><mo>,</mo><mi>\u03c3</mi></mrow></msub><mo>=</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><msub><mi>J</mi><mi>n</mi></msub></munderover><mrow><msub><mi>u</mi><mrow><mi>n</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>\u2062</mo><mrow><mo>(</mo><msubsup><mi>m</mi><mrow><mi>n</mi><mo>,</mo><mi>j</mi></mrow><mrow><mo stretchy=\"false\">(</mo><mi>\u03c3</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo>)</mo></mrow></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\n In order to solve problem (\\ref{eq:OptProb}), every user faces the following difficulties: i) Statistical information of energy harvesting, channel quality and SBS traffic is not available; ii) Success probability is time-varying: it depends on the length of time interval beginning at the time an SBS enters the inactive mode until it is selected by the user; iii) The set of available SBSs (i.e., those that can be selected for transmission) varies at every transmission round, since the length of inactive and active steps are non-deterministic. As a result, the solution is infeasible and the user might revert to a less ambitious goal. \n\nLet $\\mathfrak{O}$ be an ordering (permutation) of $M$ SBSs. We use $\\mathfrak{O} \\left(\\mathcal{M}_{j} \\right)$ to denote the best choice in $\\mathcal{M}_{j}$ that is highest ranked in $\\mathfrak{O}$. Also, an \\textit{$\\mathfrak{O}$-policy} corresponding to the ordering $\\mathfrak{O}$ is the policy that selects, at each time trial $j$, the action $\\mathfrak{O} \\left(\\mathcal{M}_{j} \\right)$, i.e., the available action that is highest ranked by $\\mathfrak{O}$ \\cite{Kleinberg10:RBS}. If user $n \\in \\mathcal{N}$ uses policy $\\mathfrak{O}$, the reward is given by\n\n\n", "itemtype": "equation", "pos": 40234, "prevtext": "\n\nIn words, the reward of the policy is the accumulated reward achieved by selecting actions suggested by that policy over the entire transmission horizon. Ideally, every user $n$ wants to use some policy $\\sigma \\in \\mathcal{O}$ so as to solve the following optimization problem in order to obtain the achievable reward of the best selection policy: \n\n\n", "index": 49, "text": "\\begin{equation}\n\\label{eq:OptProb}\n\\underset{\\sigma \\in \\mathcal{O}}{\\textup{maximize}} \\hspace{5pt} U_{n,\\sigma}.\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E25.m1\" class=\"ltx_Math\" alttext=\"\\underset{\\sigma\\in\\mathcal{O}}{\\textup{maximize}}\\hskip 5.0ptU_{n,\\sigma}.\" display=\"block\"><mrow><mrow><mpadded width=\"+5pt\"><munder accentunder=\"true\"><mtext>maximize</mtext><mrow><mi>\u03c3</mi><mo>\u2208</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udcaa</mi></mrow></munder></mpadded><mo>\u2062</mo><msub><mi>U</mi><mrow><mi>n</mi><mo>,</mo><mi>\u03c3</mi></mrow></msub></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nMoreover, for every $n$, by $\\mathfrak{O}^{*}$ we denote an ordering that solves the optimization problem in (\\ref{eq:OptProb}), i.e., the best ordering, that yields a reward $U_{n,\\mathfrak{O}^{*}}:= U_{n}^{*}$. Then the \\textit{regret} of any selection policy $\\sigma$ is defined as \n\n\n", "itemtype": "equation", "pos": 41578, "prevtext": "\n\n In order to solve problem (\\ref{eq:OptProb}), every user faces the following difficulties: i) Statistical information of energy harvesting, channel quality and SBS traffic is not available; ii) Success probability is time-varying: it depends on the length of time interval beginning at the time an SBS enters the inactive mode until it is selected by the user; iii) The set of available SBSs (i.e., those that can be selected for transmission) varies at every transmission round, since the length of inactive and active steps are non-deterministic. As a result, the solution is infeasible and the user might revert to a less ambitious goal. \n\nLet $\\mathfrak{O}$ be an ordering (permutation) of $M$ SBSs. We use $\\mathfrak{O} \\left(\\mathcal{M}_{j} \\right)$ to denote the best choice in $\\mathcal{M}_{j}$ that is highest ranked in $\\mathfrak{O}$. Also, an \\textit{$\\mathfrak{O}$-policy} corresponding to the ordering $\\mathfrak{O}$ is the policy that selects, at each time trial $j$, the action $\\mathfrak{O} \\left(\\mathcal{M}_{j} \\right)$, i.e., the available action that is highest ranked by $\\mathfrak{O}$ \\cite{Kleinberg10:RBS}. If user $n \\in \\mathcal{N}$ uses policy $\\mathfrak{O}$, the reward is given by\n\n\n", "index": 51, "text": "\\begin{equation}\n\\label{eq:Utility}\nU_{n,\\mathfrak{O}}= \\sum_{j=1}^{J_{n}} u_{n,j}(\\mathfrak{O} \\left(\\mathcal{M}_{j} \\right)).\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E26.m1\" class=\"ltx_Math\" alttext=\"U_{n,\\mathfrak{O}}=\\sum_{j=1}^{J_{n}}u_{n,j}(\\mathfrak{O}\\left(\\mathcal{M}_{j}%&#10;\\right)).\" display=\"block\"><mrow><mrow><msub><mi>U</mi><mrow><mi>n</mi><mo>,</mo><mi>\ud835\udd12</mi></mrow></msub><mo>=</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><msub><mi>J</mi><mi>n</mi></msub></munderover><mrow><msub><mi>u</mi><mrow><mi>n</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mrow><mi>\ud835\udd12</mi><mo>\u2062</mo><mrow><mo>(</mo><msub><mi class=\"ltx_font_mathcaligraphic\">\u2133</mi><mi>j</mi></msub><mo>)</mo></mrow></mrow><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nwhere $\\mathbb{E}\\left[\\cdot \\right]$ is the mathematical expectation which is taken with respect to the random choices of the algorithm as well as the randomness in the utility function. In words, the regret of an algorithm is defined as the expected difference between the accumulated utility achieved by that algorithm and the maximum achievable utility. Then, every user $n$ opts to minimize the regret, i.e., to solve the following optimization problem:\n\n\n", "itemtype": "equation", "pos": 42009, "prevtext": "\n\nMoreover, for every $n$, by $\\mathfrak{O}^{*}$ we denote an ordering that solves the optimization problem in (\\ref{eq:OptProb}), i.e., the best ordering, that yields a reward $U_{n,\\mathfrak{O}^{*}}:= U_{n}^{*}$. Then the \\textit{regret} of any selection policy $\\sigma$ is defined as \n\n\n", "index": 53, "text": "\\begin{equation}\n\\label{eq:regret}\nd_{n,\\sigma}= \\mathbb{E}\\left[U_{n}^{*}-\\sum_{j=1}^{J_{n}}u_{n,j}\\left(m_{n,j}^{\\sigma}\\right) \\right],\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E27.m1\" class=\"ltx_Math\" alttext=\"d_{n,\\sigma}=\\mathbb{E}\\left[U_{n}^{*}-\\sum_{j=1}^{J_{n}}u_{n,j}\\left(m_{n,j}^%&#10;{\\sigma}\\right)\\right],\" display=\"block\"><mrow><mrow><msub><mi>d</mi><mrow><mi>n</mi><mo>,</mo><mi>\u03c3</mi></mrow></msub><mo>=</mo><mrow><mi>\ud835\udd3c</mi><mo>\u2062</mo><mrow><mo>[</mo><mrow><msubsup><mi>U</mi><mi>n</mi><mo>*</mo></msubsup><mo>-</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><msub><mi>J</mi><mi>n</mi></msub></munderover><mrow><msub><mi>u</mi><mrow><mi>n</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>\u2062</mo><mrow><mo>(</mo><msubsup><mi>m</mi><mrow><mi>n</mi><mo>,</mo><mi>j</mi></mrow><mi>\u03c3</mi></msubsup><mo>)</mo></mrow></mrow></mrow></mrow><mo>]</mo></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nIn the next section we show that problem (\\ref{eq:regretMin}) can be cast and solved as an adversarial multi-armed bandit game with sleeping arms. \n\n\\begin{remark}\n\\label{re:action}\nIn case a user $n \\in \\mathcal{N}$ intends to select a set $\\mathcal{M}_{n} \\subseteq \\mathcal{M}$ of SBSs with cardinality $M_{n}>1$, every combination of $M_{n}$ out of $M$ SBSs is regarded as a \\textit{multi-SBS} or \n\\textit{super-SBS}. That is, a set of multi-SBSs is defined as $\\mathcal{M}'=C\\left(M, M_{n}\\right)$, with its cardinality being $M'=\\binom{M}{M_{n}}=\\frac{M!}{(M-M_{n})!M_{n}!}$. Consider a multi-SBS $m' \\in \\mathcal{M}'$ that consists of \n$M_{n}$ SBSs labeled as $1,...,M_{n}$. Let $\\mathbb{I}_{i}$ denote the availability of any SBS or multi-SBS $i$, so that \n$\\mathbb{I}_{i}=1$ if $i$ is available (inactive mode) and $\\mathbb{I}_{i}=0$ otherwise. Then the availability of \nmulti-SBS $m'$ is defined as\n\n\n", "itemtype": "equation", "pos": 42624, "prevtext": "\n\nwhere $\\mathbb{E}\\left[\\cdot \\right]$ is the mathematical expectation which is taken with respect to the random choices of the algorithm as well as the randomness in the utility function. In words, the regret of an algorithm is defined as the expected difference between the accumulated utility achieved by that algorithm and the maximum achievable utility. Then, every user $n$ opts to minimize the regret, i.e., to solve the following optimization problem:\n\n\n", "index": 55, "text": "\\begin{equation}\n\\label{eq:regretMin}\n\\underset{\\sigma \\in \\mathcal{O}}{\\textup{minimze}}\\hspace{5pt}d_{n,\\sigma}.\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E28.m1\" class=\"ltx_Math\" alttext=\"\\underset{\\sigma\\in\\mathcal{O}}{\\textup{minimze}}\\hskip 5.0ptd_{n,\\sigma}.\" display=\"block\"><mrow><mrow><mpadded width=\"+5pt\"><munder accentunder=\"true\"><mtext>minimze</mtext><mrow><mi>\u03c3</mi><mo>\u2208</mo><mi class=\"ltx_font_mathcaligraphic\">\ud835\udcaa</mi></mrow></munder></mpadded><mo>\u2062</mo><msub><mi>d</mi><mrow><mi>n</mi><mo>,</mo><mi>\u03c3</mi></mrow></msub></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nwhich means that a multi-SBS $m'$ is available only if all of its included SBSs are available. Moreover, the achieved utility through multi-SBS $m'$ yields\n\n\n", "itemtype": "equation", "pos": 43665, "prevtext": "\n\nIn the next section we show that problem (\\ref{eq:regretMin}) can be cast and solved as an adversarial multi-armed bandit game with sleeping arms. \n\n\\begin{remark}\n\\label{re:action}\nIn case a user $n \\in \\mathcal{N}$ intends to select a set $\\mathcal{M}_{n} \\subseteq \\mathcal{M}$ of SBSs with cardinality $M_{n}>1$, every combination of $M_{n}$ out of $M$ SBSs is regarded as a \\textit{multi-SBS} or \n\\textit{super-SBS}. That is, a set of multi-SBSs is defined as $\\mathcal{M}'=C\\left(M, M_{n}\\right)$, with its cardinality being $M'=\\binom{M}{M_{n}}=\\frac{M!}{(M-M_{n})!M_{n}!}$. Consider a multi-SBS $m' \\in \\mathcal{M}'$ that consists of \n$M_{n}$ SBSs labeled as $1,...,M_{n}$. Let $\\mathbb{I}_{i}$ denote the availability of any SBS or multi-SBS $i$, so that \n$\\mathbb{I}_{i}=1$ if $i$ is available (inactive mode) and $\\mathbb{I}_{i}=0$ otherwise. Then the availability of \nmulti-SBS $m'$ is defined as\n\n\n", "index": 57, "text": "\\begin{equation}\n\\label{eq:AvailMult}\n\\mathbb{I}_{m'}=\\prod_{i=1}^{M_{n}}\\mathbb{I}_{i},\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E29.m1\" class=\"ltx_Math\" alttext=\"\\mathbb{I}_{m^{\\prime}}=\\prod_{i=1}^{M_{n}}\\mathbb{I}_{i},\" display=\"block\"><mrow><mrow><msub><mi>\ud835\udd40</mi><msup><mi>m</mi><mo>\u2032</mo></msup></msub><mo>=</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u220f</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><msub><mi>M</mi><mi>n</mi></msub></munderover><msub><mi>\ud835\udd40</mi><mi>i</mi></msub></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nthat is, the reward of every multi-SBS is the aggregate reward of its individual components.\n\\end{remark}\n\n\\section{Bandit-Theoretical Model and Solution}\n\\label{sec:Bandit}\n\nMulti-armed bandit is a class of online optimization problems, where an agent, given no prior information, selects an arm from a finite set of arms in successive trials. Upon being pulled, every arm produces some reward, which is drawn from the reward generating process of that arm. The agent observes only the reward of the played arm and not those of other arms. \nBandits can be classified based on the reward generating process of arms. For instance, in \\textit{adversarial bandits}, the instantaneous rewards of arms cannot be attributed to a specific probability distribution; that is, the reward generating processes vary adversarially. In \\textit{stochastic bandits}, however, rewards can be attributed to a specific probability distribution. As a result of lack of prior information, at each trial, the agent may choose some inferior arm in terms of reward, yielding some regret that is quantified by the difference between the reward that would have been achieved had the agent selected the best arm and the actual achieved reward. The agent intends to decide which arm to pull in a sequence of trials so that its accumulated regret over the game horizon is minimized. This problem is an instance of exploration-exploitation dilemma, i.e., the tradeoff between taking actions that yield immediate large rewards on the one hand and taking actions that might result in larger reward only in future, for instance activating an inferior arm only to acquire information, on the other hand. A solution of a bandit problem is thus a decision making strategy called policy or allocation rule, which determines which arm should be played at successive rounds so that the optimal balanced between exploitation and exploration is achieved. While in most bandit problems all arms are available during the entire horizon, in \\textit{sleeping bandits}, the set of available arms is time-varying, so that at each trial the arm to be pulled is selected from a subset of arms. Similar to the reward process, the availability can be adversarial or stochastic. In case of limited availability, at every trial, the agent tries to pull the best arm with respect to the ordering of available arms.   \n\n\\subsection{Bandit-Theoretical Model of User Association}\n\\label{subsec:BanditModel}\n\nAccording to our system model and problem formulation, the user association problem can be modeled and solved by using \n\\textit{adversarial sleeping bandit} model. In this model, every user $n \\in \\mathcal{N}$ is an agent, whereas every SBS \n$m \\in \\mathcal{M}$ represents an arm, whose reward generating process is a Bernoulli random variable with time-varying parameter. Using such model can be justified by the following reasons:\n\n\\begin{itemize}\n\\item Each SBS is available to be selected by users as soon as the active (transmission) step comes to an end and the inactive (energy harvesting) step begins. Without loss of generality, we assume that transmissions are performed sequentially and one unit of time is spent for every user. Thus, for every SBS $m \\in \\mathcal{M}$, the duration of transmission step depends on the total number of users that have selected that specific SBS, as given \nby (\\ref{eq:NumUser}). As a result, the SBS availability is stochastic. \n\\item The utility of every user upon selecting any SBS is a Bernoulli random process with a time-varying success probability. Consequently, the utility can be considered adversarial. \n\\item Users do not have any prior information on the success probability of selecting each one of SBSs.\n\\item After selecting an SBS, the user only observes whether the transmission via that specific SBS has been successful or not. No other information is revealed.\n\\end{itemize}\n\n\n\\subsection{Algorithmic Solution}\n\\label{subsec:Solution}\n\nWe use algorithm EXP4 \\cite{Auer03:NMB} for sleeping bandits as suggested in \\cite{Kleinberg10:RBS}. At each round \n$j \\in J_{n}$, the algorithm assigns some selection probability $\\textup{Pr}[m]=a_{nm,j}$ to each arm $m \\in \\mathcal{M}$, so that $\\sum_{m=1}^{M} a_{nm,j}=1$. To calculate $\\mathbf{a}_{n,j}=\\left(a_{n1,j},..., a_{nM,j}\\right)$, the algorithms relies on ($M!$+1) experts: one of them being the uniform expert that corresponds to the uniform distribution over $M$ arms \n($a_{nm,j}=\\frac{1}{M}$, for all $m \\in \\mathcal{M}$), and each one of the other $M!$ experts corresponds to one ordering \n$\\mathfrak{O}$ that advices to select the arm with the highest rank that is available. The algorithm weighs the past performance of each expert exponentially, calculates $\\mathbf{a}_{n,j}$ by combining weighted experts and selects an action using $\\mathbf{a}_{n,j}$. The procedure is summarized in \\textbf{Algorithm \\ref{Alg:EXP4}}, where we omit subscript $n$ for simplicity. Details can be found in \\cite{Auer03:NMB} and \\cite{Kleinberg10:RBS}. It should be mentioned that in our problem setting, the adversary that selects the rewards (or losses) is non-oblivious (adaptive), due to the following reason: The actions of each user yields higher traffic to its selected SBSs, which in turn impacts the selections of other users as they learn some SBSs have higher traffic load. Their decisions then impact the initial user, and so on. Thus we need to know the regret against an adaptive (non-oblivious) adversary, as stated in Theorem \\ref{th:RegEXPTwo}. \nIt is worth noting that \\textbf{Algorithm \\ref{Alg:EXP4}} keeps track of $M!+1$ weights as its bottleneck, resulting in space and time complexity of $O(M!+1)$.    \n\n\\begin{remark}\n\\label{re:AlgMulti}\n\\textbf{Algorithm \\ref{Alg:EXP4}} also works for the case where some users are willing to select multiple SBSs. In fact, it is enough to use $\\mathcal{M}'$ instead of $\\mathcal{M}$ as the action set, as discussed in Remark \\ref{re:action}. Note that in this case the space and time complexity are of $\\Omega \\left( (M^{M_{n}})! \\right)$ knowing that $C(M,M_{n})=\\Omega \\left(M^{M_{n}} \\right)$.\n\\end{remark}\n\n\\begin{algorithm}\n\\caption{EXP4-SB \\cite{Kleinberg10:RBS}}\n\\label{Alg:EXP4}\n\\small\n\\begin{algorithmic}[1]\n\\STATE Select $\\gamma \\in (0,1]$;\n\\STATE Label $M!+1$ experts by integer values $1,...,M!+1$;\n\\STATE Initialize $w_{k,1}=1$ for $k=1,...,M!+1$;\n\\FOR{$j=1,...,J$}\n\\STATE For uniform expert, let $\\mathbf{b}_{j}^{(1)}=\\left(\\frac{1}{M},...,\\frac{1}{M}\\right)$.\n\\STATE For each one of the other $M!$ experts, i.e., for the $k$-th ordering $\\mathfrak{O}$, $b_{m,j}^{(k)}$, \n$k=1,...,M!$, is defined as \n\n\n", "itemtype": "equation", "pos": 43927, "prevtext": "\n\nwhich means that a multi-SBS $m'$ is available only if all of its included SBSs are available. Moreover, the achieved utility through multi-SBS $m'$ yields\n\n\n", "index": 59, "text": "\\begin{equation}\n\\label{eq:RewMult}\nu_{n,j}(m')=\\sum_{i=1}^{M_{n}}u_{n,j}(i),\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E30.m1\" class=\"ltx_Math\" alttext=\"u_{n,j}(m^{\\prime})=\\sum_{i=1}^{M_{n}}u_{n,j}(i),\" display=\"block\"><mrow><mrow><mrow><msub><mi>u</mi><mrow><mi>n</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mi>m</mi><mo>\u2032</mo></msup><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><msub><mi>M</mi><mi>n</mi></msub></munderover><mrow><msub><mi>u</mi><mrow><mi>n</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\nand $\\mathbf{b}_{j}^{(k)}=\\left(b_{1,j}^{(k)},...,b_{M,j}^{(k)}\\right)$.\n\\STATE Let $W_{j}=\\sum_{k=1}^{M!+1}w_{k,j}$.\n\\STATE For every arm $m \\in \\mathcal{M}$, calculate the selection probability as \n\n\n", "itemtype": "equation", "pos": 50649, "prevtext": "\n\nthat is, the reward of every multi-SBS is the aggregate reward of its individual components.\n\\end{remark}\n\n\\section{Bandit-Theoretical Model and Solution}\n\\label{sec:Bandit}\n\nMulti-armed bandit is a class of online optimization problems, where an agent, given no prior information, selects an arm from a finite set of arms in successive trials. Upon being pulled, every arm produces some reward, which is drawn from the reward generating process of that arm. The agent observes only the reward of the played arm and not those of other arms. \nBandits can be classified based on the reward generating process of arms. For instance, in \\textit{adversarial bandits}, the instantaneous rewards of arms cannot be attributed to a specific probability distribution; that is, the reward generating processes vary adversarially. In \\textit{stochastic bandits}, however, rewards can be attributed to a specific probability distribution. As a result of lack of prior information, at each trial, the agent may choose some inferior arm in terms of reward, yielding some regret that is quantified by the difference between the reward that would have been achieved had the agent selected the best arm and the actual achieved reward. The agent intends to decide which arm to pull in a sequence of trials so that its accumulated regret over the game horizon is minimized. This problem is an instance of exploration-exploitation dilemma, i.e., the tradeoff between taking actions that yield immediate large rewards on the one hand and taking actions that might result in larger reward only in future, for instance activating an inferior arm only to acquire information, on the other hand. A solution of a bandit problem is thus a decision making strategy called policy or allocation rule, which determines which arm should be played at successive rounds so that the optimal balanced between exploitation and exploration is achieved. While in most bandit problems all arms are available during the entire horizon, in \\textit{sleeping bandits}, the set of available arms is time-varying, so that at each trial the arm to be pulled is selected from a subset of arms. Similar to the reward process, the availability can be adversarial or stochastic. In case of limited availability, at every trial, the agent tries to pull the best arm with respect to the ordering of available arms.   \n\n\\subsection{Bandit-Theoretical Model of User Association}\n\\label{subsec:BanditModel}\n\nAccording to our system model and problem formulation, the user association problem can be modeled and solved by using \n\\textit{adversarial sleeping bandit} model. In this model, every user $n \\in \\mathcal{N}$ is an agent, whereas every SBS \n$m \\in \\mathcal{M}$ represents an arm, whose reward generating process is a Bernoulli random variable with time-varying parameter. Using such model can be justified by the following reasons:\n\n\\begin{itemize}\n\\item Each SBS is available to be selected by users as soon as the active (transmission) step comes to an end and the inactive (energy harvesting) step begins. Without loss of generality, we assume that transmissions are performed sequentially and one unit of time is spent for every user. Thus, for every SBS $m \\in \\mathcal{M}$, the duration of transmission step depends on the total number of users that have selected that specific SBS, as given \nby (\\ref{eq:NumUser}). As a result, the SBS availability is stochastic. \n\\item The utility of every user upon selecting any SBS is a Bernoulli random process with a time-varying success probability. Consequently, the utility can be considered adversarial. \n\\item Users do not have any prior information on the success probability of selecting each one of SBSs.\n\\item After selecting an SBS, the user only observes whether the transmission via that specific SBS has been successful or not. No other information is revealed.\n\\end{itemize}\n\n\n\\subsection{Algorithmic Solution}\n\\label{subsec:Solution}\n\nWe use algorithm EXP4 \\cite{Auer03:NMB} for sleeping bandits as suggested in \\cite{Kleinberg10:RBS}. At each round \n$j \\in J_{n}$, the algorithm assigns some selection probability $\\textup{Pr}[m]=a_{nm,j}$ to each arm $m \\in \\mathcal{M}$, so that $\\sum_{m=1}^{M} a_{nm,j}=1$. To calculate $\\mathbf{a}_{n,j}=\\left(a_{n1,j},..., a_{nM,j}\\right)$, the algorithms relies on ($M!$+1) experts: one of them being the uniform expert that corresponds to the uniform distribution over $M$ arms \n($a_{nm,j}=\\frac{1}{M}$, for all $m \\in \\mathcal{M}$), and each one of the other $M!$ experts corresponds to one ordering \n$\\mathfrak{O}$ that advices to select the arm with the highest rank that is available. The algorithm weighs the past performance of each expert exponentially, calculates $\\mathbf{a}_{n,j}$ by combining weighted experts and selects an action using $\\mathbf{a}_{n,j}$. The procedure is summarized in \\textbf{Algorithm \\ref{Alg:EXP4}}, where we omit subscript $n$ for simplicity. Details can be found in \\cite{Auer03:NMB} and \\cite{Kleinberg10:RBS}. It should be mentioned that in our problem setting, the adversary that selects the rewards (or losses) is non-oblivious (adaptive), due to the following reason: The actions of each user yields higher traffic to its selected SBSs, which in turn impacts the selections of other users as they learn some SBSs have higher traffic load. Their decisions then impact the initial user, and so on. Thus we need to know the regret against an adaptive (non-oblivious) adversary, as stated in Theorem \\ref{th:RegEXPTwo}. \nIt is worth noting that \\textbf{Algorithm \\ref{Alg:EXP4}} keeps track of $M!+1$ weights as its bottleneck, resulting in space and time complexity of $O(M!+1)$.    \n\n\\begin{remark}\n\\label{re:AlgMulti}\n\\textbf{Algorithm \\ref{Alg:EXP4}} also works for the case where some users are willing to select multiple SBSs. In fact, it is enough to use $\\mathcal{M}'$ instead of $\\mathcal{M}$ as the action set, as discussed in Remark \\ref{re:action}. Note that in this case the space and time complexity are of $\\Omega \\left( (M^{M_{n}})! \\right)$ knowing that $C(M,M_{n})=\\Omega \\left(M^{M_{n}} \\right)$.\n\\end{remark}\n\n\\begin{algorithm}\n\\caption{EXP4-SB \\cite{Kleinberg10:RBS}}\n\\label{Alg:EXP4}\n\\small\n\\begin{algorithmic}[1]\n\\STATE Select $\\gamma \\in (0,1]$;\n\\STATE Label $M!+1$ experts by integer values $1,...,M!+1$;\n\\STATE Initialize $w_{k,1}=1$ for $k=1,...,M!+1$;\n\\FOR{$j=1,...,J$}\n\\STATE For uniform expert, let $\\mathbf{b}_{j}^{(1)}=\\left(\\frac{1}{M},...,\\frac{1}{M}\\right)$.\n\\STATE For each one of the other $M!$ experts, i.e., for the $k$-th ordering $\\mathfrak{O}$, $b_{m,j}^{(k)}$, \n$k=1,...,M!$, is defined as \n\n\n", "index": 61, "text": "\\begin{equation}\n\\label{eq:ProbExpert}\nb_{m,j}^{(k)}=\n\\begin{cases}\n 1, & m=\\mathfrak{O}(\\mathcal{M}_{j})\\\\ \n 0, & \\text{o.w}  \n\\end{cases},\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E31.m1\" class=\"ltx_Math\" alttext=\"b_{m,j}^{(k)}=\\begin{cases}1,&amp;m=\\mathfrak{O}(\\mathcal{M}_{j})\\\\&#10;0,&amp;\\text{o.w}\\end{cases},\" display=\"block\"><mrow><mrow><msubsup><mi>b</mi><mrow><mi>m</mi><mo>,</mo><mi>j</mi></mrow><mrow><mo stretchy=\"false\">(</mo><mi>k</mi><mo stretchy=\"false\">)</mo></mrow></msubsup><mo>=</mo><mrow><mo>{</mo><mtable columnspacing=\"5pt\" displaystyle=\"true\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mrow><mn>1</mn><mo>,</mo></mrow></mtd><mtd columnalign=\"left\"><mrow><mi>m</mi><mo>=</mo><mrow><mi>\ud835\udd12</mi><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi class=\"ltx_font_mathcaligraphic\">\u2133</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><mn>0</mn><mo>,</mo></mrow></mtd><mtd columnalign=\"left\"><mtext>o.w</mtext></mtd></mtr></mtable></mrow></mrow><mo>,</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\n\\STATE Select an action $m_{j}$ according to probability distribution $\\mathbf{a}_{m}=\n\\left(a_{1,j},...,a_{M,j}\\right)$.\n\\STATE Play and observe the reward $u_{j}(m_{j})$.\n\\STATE For every action $m' \\in \\mathcal{M}$ set\n\n\n", "itemtype": "equation", "pos": 51007, "prevtext": "\n\nand $\\mathbf{b}_{j}^{(k)}=\\left(b_{1,j}^{(k)},...,b_{M,j}^{(k)}\\right)$.\n\\STATE Let $W_{j}=\\sum_{k=1}^{M!+1}w_{k,j}$.\n\\STATE For every arm $m \\in \\mathcal{M}$, calculate the selection probability as \n\n\n", "index": 63, "text": "\\begin{equation}\n\\label{eq:selProb}\na_{m,j}=(1-\\gamma)\\sum_{k=1}^{M!+1}\\frac{w_{k,j}b_{m,j}^{(k)}}{W_{j}}+\\frac{\\gamma}{M}.\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E32.m1\" class=\"ltx_Math\" alttext=\"a_{m,j}=(1-\\gamma)\\sum_{k=1}^{M!+1}\\frac{w_{k,j}b_{m,j}^{(k)}}{W_{j}}+\\frac{%&#10;\\gamma}{M}.\" display=\"block\"><mrow><mrow><msub><mi>a</mi><mrow><mi>m</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>=</mo><mrow><mrow><mrow><mo stretchy=\"false\">(</mo><mrow><mn>1</mn><mo>-</mo><mi>\u03b3</mi></mrow><mo stretchy=\"false\">)</mo></mrow><mo>\u2062</mo><mrow><munderover><mo largeop=\"true\" movablelimits=\"false\" symmetric=\"true\">\u2211</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mrow><mrow><mi>M</mi><mo lspace=\"0pt\" rspace=\"3.5pt\">!</mo></mrow><mo>+</mo><mn>1</mn></mrow></munderover><mfrac><mrow><msub><mi>w</mi><mrow><mi>k</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>\u2062</mo><msubsup><mi>b</mi><mrow><mi>m</mi><mo>,</mo><mi>j</mi></mrow><mrow><mo stretchy=\"false\">(</mo><mi>k</mi><mo stretchy=\"false\">)</mo></mrow></msubsup></mrow><msub><mi>W</mi><mi>j</mi></msub></mfrac></mrow></mrow><mo>+</mo><mfrac><mi>\u03b3</mi><mi>M</mi></mfrac></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\n\\STATE For every expert $k=1,...,M!+1$ set\n\n\n", "itemtype": "equation", "pos": 51370, "prevtext": "\n\n\\STATE Select an action $m_{j}$ according to probability distribution $\\mathbf{a}_{m}=\n\\left(a_{1,j},...,a_{M,j}\\right)$.\n\\STATE Play and observe the reward $u_{j}(m_{j})$.\n\\STATE For every action $m' \\in \\mathcal{M}$ set\n\n\n", "index": 65, "text": "\\begin{equation}\n\\label{eq:RewEst}\n\\hat{u}_{j}(m')=\n\\begin{cases}\n\\frac{u_{j}(m_{j})}{a_{m',j}}, & m'=m_{j}\\\\ \n0, & \\text{o.w}  \n\\end{cases}.\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E33.m1\" class=\"ltx_Math\" alttext=\"\\hat{u}_{j}(m^{\\prime})=\\begin{cases}\\frac{u_{j}(m_{j})}{a_{m^{\\prime},j}},&amp;m^%&#10;{\\prime}=m_{j}\\\\&#10;0,&amp;\\text{o.w}\\end{cases}.\" display=\"block\"><mrow><mrow><mrow><msub><mover accent=\"true\"><mi>u</mi><mo stretchy=\"false\">^</mo></mover><mi>j</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msup><mi>m</mi><mo>\u2032</mo></msup><mo stretchy=\"false\">)</mo></mrow></mrow><mo>=</mo><mrow><mo>{</mo><mtable columnspacing=\"5pt\" displaystyle=\"true\" rowspacing=\"0pt\"><mtr><mtd columnalign=\"left\"><mrow><mstyle displaystyle=\"false\"><mfrac><mrow><msub><mi>u</mi><mi>j</mi></msub><mo>\u2062</mo><mrow><mo stretchy=\"false\">(</mo><msub><mi>m</mi><mi>j</mi></msub><mo stretchy=\"false\">)</mo></mrow></mrow><msub><mi>a</mi><mrow><msup><mi>m</mi><mo>\u2032</mo></msup><mo>,</mo><mi>j</mi></mrow></msub></mfrac></mstyle><mo>,</mo></mrow></mtd><mtd columnalign=\"left\"><mrow><msup><mi>m</mi><mo>\u2032</mo></msup><mo>=</mo><msub><mi>m</mi><mi>j</mi></msub></mrow></mtd></mtr><mtr><mtd columnalign=\"left\"><mrow><mn>0</mn><mo>,</mo></mrow></mtd><mtd columnalign=\"left\"><mtext>o.w</mtext></mtd></mtr></mtable></mrow></mrow><mo>.</mo></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\n\n", "itemtype": "equation", "pos": 51572, "prevtext": "\n\n\\STATE For every expert $k=1,...,M!+1$ set\n\n\n", "index": 67, "text": "\\begin{equation}\n\\label{eq:ExpUpdateO}\n\\hat{y}_{k,j}=\\mathbf{b}_{j}\\cdot \\hat{\\mathbf{u}}_{j}\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E34.m1\" class=\"ltx_Math\" alttext=\"\\hat{y}_{k,j}=\\mathbf{b}_{j}\\cdot\\hat{\\mathbf{u}}_{j}\" display=\"block\"><mrow><msub><mover accent=\"true\"><mi>y</mi><mo stretchy=\"false\">^</mo></mover><mrow><mi>k</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>=</mo><mrow><msub><mi>\ud835\udc1b</mi><mi>j</mi></msub><mo>\u22c5</mo><msub><mover accent=\"true\"><mi>\ud835\udc2e</mi><mo stretchy=\"false\">^</mo></mover><mi>j</mi></msub></mrow></mrow></math>", "type": "latex"}, {"file": "1601.07795.tex", "nexttext": "\n\n\\ENDFOR\n\\end{algorithmic}\n\\end{algorithm}\n\n\n\n\n\n\n\n\n\n\\begin{theorem}\n\\label{th:RegEXPTwo}\nWith high probability, Algorithm \\ref{Alg:EXP4} achieves a regret of $O\\left(M\\sqrt{J_{n}\\log(M)}+\\sqrt{J_{n}}\\right)$ with respect to the best ordering, against an non-oblivious adversary.\n\\end{theorem}\n\n\\begin{IEEEproof}\nBy Theorem 15 of \\cite{Kleinberg10:RBS}, Algorithm \\ref{Alg:EXP4} achieves a regret of \n$O \\left(M\\sqrt{J_{n}\\log(M)} \\right)$ with respect to the best ordering against an oblivious adversary. On the other hand, by Lemma 4.1. of \\cite{Bianchi06:PLG}, if the expected regret of any policy against an oblivious adversary is bounded by some constant $B$, then for all $\\delta>0$ and with probability at least $1-\\delta$, its actual accumulated regret against a non-oblivious adversary is bounded by $B+\\sqrt{\\frac{J_{n}}{2} \\log\\left(\\frac{1}{\\delta} \\right)}$. Therefore, the proof follows.\n\n\n\n\\end{IEEEproof}\n\n\n\\section{Numerical Analysis and Discussions}\n\\label{sec:Numeric}\n\nWe consider a small cell network with $M=5$ small cells. Parameters of small cells, as discussed through the paper, are gathered in Table \\ref{Tb:SCPar}.\\footnote{Parameters are selected at random.} \n\n\\begin{table}[ht]\n\\caption{Simulation Parameters}\n\\label{Tb:SCPar}\n\\begin{center}\n  \\small\n  \\begin{tabular}{|c|c|c|c|c|c|}\n  \\hline\n   \\backslashbox{Small Cell}{Parameter}  & $\\lambda_{m}$ & $\\mu_{m}$ &$\\alpha_{m}$ & $q_{m,Max}$& $k_{m}$ \\\\ \\hline \n   1 & 80  & 0.03 & 10 & 7 & 50   \\\\ \\hline\n\t 2 & 70  & 0.06 & 12 & 8 & 100  \\\\ \\hline\n\t 3 & 80  & 0.09 & 10 & 9 & 69   \\\\ \\hline\n\t 4 & 130 & 0.12 & 15 & 6 & 40   \\\\ \\hline\n\t 5 & 120 & 0.11 & 10 & 7 & 40   \\\\ \\hline \n  \\end{tabular}\n \\end{center} \n\\end{table}  \n\n\nIn the following, we show the decision making behavior of two \\textit{exemplary} users. Note that the actual number of users in the network varies randomly as described in Section \\ref{subsec:enCons}: we use these two users only as examples to clarify the decision making process and to investigate its performance. Let the Hadamard (element-wise) product of two matrices $\\mathbf{A}$ and $\\mathbf{B}$ be denoted as $\\mathbf{A}{\\circ}\\mathbf{B}$. Furthermore, by \n$\\mathbf{A^{\\circ2}}$ we denote the element-wise squared of matrix $\\mathbf{A}$. In addition, for every matrix \n$\\mathbf{A}$, $\\mathbf{A}\\left[n,m\\right]$ stands for the element located at $n$-th row and $m$-th column.\nAs conventional, we assume that the channel gain matrix $\\mathbf{H^{\\circ2}}$ can be written as $\\mathbf{H^{\\circ2}}=\\mathbf{F}{\\circ}\\mathbf{G}$, where $\\mathbf{F}$ and $\\mathbf{G}$ are average fading gain and path-loss matrices, respectively. Then $\\mathbf{G}\\left[n,m\\right]$ and $\\mathbf{F}\\left[n,m\\right]$ correspondingly denote the average fading gain and path-loss of the link between user $n$ and small cell $m$, for $n \\in \\{1,2\\}$ and $m \\in \\{1,2,3,4,5\\}$. We let \n$\\mathbf{F}=\\begin{bmatrix}\n0.90 & 0.20 & 0.10 & 0.10 & 0.20\\\\ \n0.05 & 0.05 & 1.00 & 0.30 & 0.30\n\\end{bmatrix}$ \nand\n$\\mathbf{G}=\\begin{bmatrix}\n0.80 & 0.10 & 0.05 & 0.20 & 0.10\\\\ \n0.10 & 0.20 & 1.00 & 0.10 & 0.02\n\\end{bmatrix}$. Moreover, we select \n$J_{n}=5 \\times 10^{4}$, $r_{n,\\min}=0.5$, and $\\mathbf{I}_{nm}=\\begin{bmatrix}\n1.0 & 3.0 & 2.0 & 4.0 & 2.0\n\\end{bmatrix}$ for $n \\in \\{1,2\\}$. Moreover, $N_{0}=1$ and the exploration parameter equals $\\gamma=0.05$. \n\nFig. \\ref{Fig:MS} illustrates the evolution of the mixed strategies of the two typical users, namely, User 1 and \nUser 2. The percentage of time each small cell is selected by these two users is shown in Fig. \\ref{Fig:Perc}. \n\n\\begin{figure}[ht]\n\\centering\n\\subfigure[User 1]{\n\\includegraphics[width=0.45\\textwidth]{./MSOne.pdf}\n\\label{Fig:MSOne}}\n\\quad\n\\subfigure[User 2]{\n\\includegraphics[width=0.45\\textwidth]{./MSTwo.pdf}\n\\label{Fig:MSTwo}}\n\\caption{Evolution of mixed strategies for two exemplary users.}\n\\label{Fig:MS}\n\\end{figure}\n\n\n\\begin{figure}[t]\n\\centering\n\\includegraphics[width=0.45\\textwidth]{./Perc.pdf}\n\\caption{The fraction of time (in percent) each small cell is selected by users.}\n\\label{Fig:Perc}\n\\end{figure}\n\n\nFig. \\ref{Fig:Rew} shows the reward achieved by the bandit approach compared to the best fixed choice that has the highest success probability (optimal SBS, selected through exhaustive search given all information), as discussed in Section \n\\ref{sec:Problem}. \n\n\\begin{figure}[t]\n\\centering\n\\includegraphics[width=0.45\\textwidth]{./Rew.pdf}\n\\caption{The achieved reward of the bandit model compared to optimal selection.}\n\\label{Fig:Rew}\n\\end{figure}\n\n\nFrom Figs. \\ref{Fig:MS}, \\ref{Fig:Perc}, and \\ref{Fig:Rew}, it can be concluded that the mixed strategy converges to the optimal choice in the sense of maximum success probability and that the best small cell is played almost all the time, so that the average performance converges to that of optimal selection given full statistical information of channel quality and network characteristics.  \n\n\n\nIn the next step, we assume that every user intends to select two SBSs at every trial out of the first four SBSs in Table \\ref{Tb:SCPar}. As a result, the new action set, $\\mathcal{M}'$, consists of $M'=6$ super-actions each including two actions, namely, $\\mathcal{M}'= \\left\\{(1,2),(1,3),(1,4),(2,3),(2,4),(3,4) \\right\\}$. The performance compared to the optimal is shown in Fig. \\ref{Fig:RewMul}. Mixed strategies and selected actions are similar to \nFigs. \\ref{Fig:MS} and \\ref{Fig:Perc}, hence are omitted.\n\n\\begin{figure}[t]\n\\centering\n\\includegraphics[width=0.45\\textwidth]{./RewMul.pdf}\n\\caption{The achieved reward of the bandit model compared to optimal selection, multiple SBSs are selected at every transmission round.}\n\\label{Fig:RewMul}\n\\end{figure}\n\n\nFinally, in Fig. \\ref{Fig:CompL}, we consider a large network consisting of $M=8$ small cells, and we investigate the aggregate performance of a set $\\mathcal{W} \\subset \\mathcal{N}$ of users with cardinality $W=10$. Once again, note that for each trial, the total number of users $N$ varies randomly as described in Section \\ref{subsec:enCons}; From this point of view, $\\mathcal{W}$ represents a set of users under investigation. We assume that each user transmits for \n$J_{w}=10^{4}$ trials, but they are not synchronized. For comparison, we also evaluate few other user association schemes that are widely-used, as described below.   \n\n\\begin{itemize}\n\\item Optimal Assignment: In this scenario, every user (or a central unit) is provided with \\textit{complete} statistical information of energy harvesting, user arrival and channel qualities at every small cell. Moreover, other characteristics of small cells, including $q_{m,\\max}$ and $k_{m}$, $m \\in \\mathcal{M}$, are known. Given information and through exhaustive search, every user is assigned to the small cell that offers the highest success probability.\n\\item Maximum Received Power Assignment: In this scenario, user association is performed by a central unit given average channel gain matrix, $\\mathbf{H}$. The (statistical) information of energy harvesting and user arrival remain unknown. By means of exhaustive search, every user is assigned to the SBS to which it has the maximum average channel gain. Assignment based on received power has been widely used to solve the user association problem (e.g., in \\cite{Lin15:OUA}).\n\\item Nearest SBS (Minimum Distance) Assignment: In this scenario, user association is performed by a central unit given geographical locations of users and SBSs, as well as the path-loss exponent. In our model, we assume that the path-loss exponent is equal for all links; thus larger distance yields larger path-loss and \\textit{vice versa}. By means of exhaustive search, every user is assigned to the SBS to which it has the minimum path-loss. It is clear that the performance of maximum received power method serves as an upper-bound for that minimum distance assignment. Distance-based assignment is a conventional method to solve different types of association problems (e.g., in \\cite{Son11:BSO}).\n\\item Sleeping Bandit Assignment: In this scenario, the proposed bandit model and algorithm is used for distributed user association given no information.\n\\item Random Assignment: Users are associated randomly.\n\\end{itemize}\n\nIn Fig. \\ref{Fig:CompL}, it can be seen that the bandit algorithm exhibits superior performance compared to conventional assignment approaches such as maximum received power and minimum distance assignment, although those methods require channel and/or path-loss information. In fact, conventional methods are mostly unable to combat the uncertainty hidden in energy harvesting. As the final remark, it should be mentioned that not all user association methods can be directly compared to each other. This is because, as discussed in Section \\ref{sec:Introduction}, every method is designed for a specific system model and aims at optimizing a particular performance metric. \n\n\\begin{figure}[t]\n\\centering\n\\includegraphics[width=0.49\\textwidth]{./CompL.pdf}\n\\caption{Performance Comparison.}\n\\label{Fig:CompL}\n\\end{figure}\n\n\n\\section{Conclusion}\n\\label{sec:Conclusion}\n\nWe have proposed a new probabilistic framework to model energy harvesting in wireless small cell networks. We then investigated the distributed user association problem in such networks while taking the uncertainty into account, which is caused by various random effects of multi-user energy harvesting networks, including non-deterministic energy arrival as well as non-deterministic energy consumption. We proposed a bandit framework to efficiently solve the user association problem in a distributed manner where users suffer from lack of information. Numerical results suggest the effectiveness of our proposed model and solution.\n\nFuture research directions include improving the bandit algorithm to select multiple SBSs at every round at lower complexity. In essence, in \\cite{Uchiya10:AAB} and \\cite{Cesa12:CB}, combinatorial bandit algorithms are proposed that offer lower complexities compared to EXP4;  however, they  cannot be used in case of sleeping arms, where the set of available actions is time-variant. In addition, the model can be adapted to the scenario in which SBSs are selected based on maximum offered rewards (for instance throughput) rather than QoS guarantee.\n\n\\bibliographystyle{IEEEbib}\n\\bibliography{main}\n\n\n", "itemtype": "equation", "pos": 51682, "prevtext": "\n\n\n", "index": 69, "text": "\\begin{equation}\n\\label{eq:ExpUpdateT}\nw_{k,j+1}=w_{k,j}\\exp \\left(\\frac{\\gamma \\hat{y}_{k,j}}{M} \\right)\n\\end{equation}\n", "mathml": "<math xmlns=\"http://www.w3.org/1998/Math/MathML\" id=\"S0.E35.m1\" class=\"ltx_Math\" alttext=\"w_{k,j+1}=w_{k,j}\\exp\\left(\\frac{\\gamma\\hat{y}_{k,j}}{M}\\right)\" display=\"block\"><mrow><msub><mi>w</mi><mrow><mi>k</mi><mo>,</mo><mrow><mi>j</mi><mo>+</mo><mn>1</mn></mrow></mrow></msub><mo>=</mo><mrow><msub><mi>w</mi><mrow><mi>k</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>\u2062</mo><mrow><mi>exp</mi><mo>\u2061</mo><mrow><mo>(</mo><mfrac><mrow><mi>\u03b3</mi><mo>\u2062</mo><msub><mover accent=\"true\"><mi>y</mi><mo stretchy=\"false\">^</mo></mover><mrow><mi>k</mi><mo>,</mo><mi>j</mi></mrow></msub></mrow><mi>M</mi></mfrac><mo>)</mo></mrow></mrow></mrow></mrow></math>", "type": "latex"}]